(window.webpackJsonp=window.webpackJsonp||[]).push([[25,12],{1062:function(t,e,r){},1198:function(t,e,r){"use strict";r(1062)},1271:function(t,e,r){"use strict";r.r(e);r(25),r(53),r(54);var n=r(85),o=r(8),c=r(9),d=(r(31),r(39),r(34),r(915),r(36),r(13),r(32),r(45),r(724)),l=r(715),h=r.n(l),f=r(948),m=r.n(f),v=r(158),y=r.n(v),_=r(161),A=r(884);function w(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function C(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var x={name:"Index",layout:"custom_layout",mixins:[h.a,m.a,y.a],asyncData:function(t,e){return Object(c.a)(regeneratorRuntime.mark((function r(){var n,o,c,d,l,h,f,m,v,y,w,x,O,k,j;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.store,t.query,_.a.isSpider||e(null,{}),o={page:1,perPage:10,filter:{sticky:0,essence:0}},1===n.getters["site/getSortStatus"]&&(o.homeSequence=1),c={include:"groups",limit:4},r.prev=5,d={},r.next=9,n.dispatch("site/getSiteInfo");case 9:return l=r.sent,r.next=12,A.a.readStickList();case 12:return h=r.sent,r.next=15,A.a.readThreadList({params:o});case 15:return f=r.sent,r.next=18,A.a.readCategories();case 18:return m=r.sent,r.next=21,n.dispatch("jv/get",["users/recommended",{params:c}]);case 21:return v=r.sent,r.next=24,n.dispatch("jv/get",["threads/recommend",{}]);case 24:y=r.sent,l&&l.attributes&&l.attributes.set_site&&(d.headTitle=l.attributes.set_site.site_title||l.attributes.set_site.site_name||"Discuz! Q",d.headKeywords=l.attributes.set_site.site_keywords,d.headDesc=l.attributes.set_site.site_introduction),Array.isArray(h.Data)?d.threadsStickyData=h.Data:h&&h._jv&&h._jv.json&&((w=h._jv.json.data||[]).forEach((function(t,e){w[e]=C(C(C({},t),t.attributes),{},{firstPost:t.relationships.firstPost.data,jv:{id:t.id}})})),d.threadsStickyData=w),Array.isArray(f)?(f.Data.pageData.forEach((function(t){t.id=t.thread&&t.thread.pid,t.attachment.length>0&&(t.attachment=t.attachment.filter((function(t){return t.thumbUrl})))})),d.threadsData=f.Data.pageData):f&&f._jv&&f._jv.json&&((x=f._jv.json.data||[]).forEach((function(t,e){x[e]=C(C(C({},t),t.attributes),{},{firstPost:t.relationships.firstPost.data,user:t.relationships.user.data,_jv:{id:t.id}})})),d.threadsData=x),Array.isArray(m.Data)?d.categoryData=m.Data:m&&m._jv&&m._jv.json&&((O=m._jv.json.data||[]).forEach((function(t,e){O[e]=C(C(C({},t),t.attributes),{},{_jv:{id:t.id}})})),d.categoryData=O),Array.isArray(y)?d.recommendContentData=y:y&&y._jv&&y._jv.json&&((k=y._jv.json.data||[]).forEach((function(t,e){k[e]=C(C({},t),t.attributes)})),d.recommendContentData=k),Array.isArray(v)?d.recommendUserData=v:v&&v._jv&&v._jv.json&&((j=v._jv.json.data||[]).forEach((function(t,e){j[e]=C(C({},t),t.attributes)})),d.recommendUserData=j),e(null,d),r.next=37;break;case 34:r.prev=34,r.t0=r.catch(5),e(null,{_error__abc:{error_keys:Object.keys(r.t0),error:String(r.t0),errno:r.t0.errno,code:r.t0.code,syscall:r.t0.syscall,address:r.t0.address,port:r.t0.port,config:r.t0.config,request_domain:(r.t0.request||{}).domain,request_keys:Object.keys(r.t0.request||{}),response_keys:Object.keys(r.t0.response||{})}});case 37:case"end":return r.stop()}}),r,null,[[5,34]])})))()},data:function(){return{isSpider:_.a.isSpider,loading:!1,threadsStickyData:[],threadsData:[],categoryData:[],recommendUserData:[],recommendContentData:[],pageNum:1,pageSize:10,threadType:"",sort:"",threadEssence:"",siteOpenSortStatus:!1,threadSort:0,fromUserId:0,hasMore:!1,timer:null,threadCount:0,total:0,headTitle:"‎",headKeywords:"",headDesc:"",currentAudioId:"",showVideoPop:!1,threadVideo:{},threadIdSet:new Set,newData:""}},computed:{userId:function(){return this.$store.getters["session/get"]("userId")},forums:function(){return this.$store.state.site.info.attributes||{}}},watch:{forums:{handler:function(t){t&&t.set_site&&(this.headTitle=t.set_site.site_title||t.set_site.site_name||"Discuz! Q",this.headKeywords=t.set_site.site_keywords,this.headDesc=t.set_site.site_introduction)},deep:!0}},mounted:function(){this.forums&&this.forums.set_site&&(this.headTitle=this.forums.set_site.site_title||this.forums.set_site.site_name||"Discuz! Q",this.headKeywords=this.forums.set_site.site_keywords,this.headDesc=this.forums.set_site.site_introduction),0===this.threadsStickyData.length&&this.getThreadsSticky(),this.preThreadsData=null,this.preThreadsLoading=!1,this.initThread()},destroyed:function(){clearInterval(this.timer)},methods:{preLoadThreads:function(){var t=this;if(!this.preThreadsData&&!this.preThreadsLoading){this.preThreadsLoading=!0;var e=this.getThreadsParams();return A.a.readThreadList({params:e}).then((function(r){t.preThreadsData=Object(o.a)({},e.page,r)})).catch((function(){t.preThreadsData=null})).finally((function(){t.preThreadsLoading=!1}))}},getThreadsParams:function(){var t={};return t={page:this.pageNum,perPage:this.pageSize,filter:{sticky:0,essence:"yes"===this.threadEssence?1:0,attention:this.fromUserId}},1===this.threadSort&&(t.homeSequence=1),(this.threadType||0===this.threadType)&&(t.filter.types=[this.threadType]),(this.sort||0===this.sort)&&(t.filter.sort=this.sort),t},getThreadsSticky:function(){var t=this;this.threadsStickyData=[],A.a.readStickList().then((function(e){t.threadsStickyData=Object(n.a)(e.Data)}))},initThread:function(){var t=this;this.$store.dispatch("site/getSiteInfo").then((function(e){t.threadSort=e.attributes.set_site.site_open_sort,t.siteOpenSortStatus=1===t.threadSort,0===t.threadsData.length?t.getThreadsList("first"):(t.newData.currentPage<t.newData.totalPage&&(t.hasMore=!0),t.timer&&clearInterval(t.timer),t.timer=setInterval((function(){t.autoLoadThreads()}),3e4))}))},handleThreadsStickyClick:function(t){var e=this;if(!t.canViewPosts)return this.$store.getters["session/get"]("isLogin")?this.$message.warning(this.$t("home.noPostingTopic")):(this.$message.warning(this.$t("core.not_authenticated")),window.setTimeout((function(){e.headerTologin()}),1e3)),!1;var r="/thread/".concat(t&&t.pid);window.open(r,"_black")},getThreadsList:function(t){var e=this;return Object(c.a)(regeneratorRuntime.mark((function r(){var n,o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!e.preThreadsData||!e.preThreadsData[e.pageNum]){r.next=6;break}n=e.preThreadsData[e.pageNum],e.preThreadsData=null,r.next=11;break;case 6:return e.preThreadsData=null,o=e.getThreadsParams(),r.next=10,A.a.readThreadList({params:o});case 10:n=r.sent;case 11:c=n.Data.pageData.map((function(t){var e=t;return e.id=t.thread.pid,e.attachment.length>0&&(e.attachment=e.attachment.filter((function(t){return t.thumbUrl}))),e})),e.handleThreadList(n.Data,c,"threadsData"),e.$nextTick((function(){t&&"first"===t&&(e.timer&&clearInterval(e.timer),e.timer=setInterval((function(){e.autoLoadThreads()}),5e4))})),r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),e.handleError(r.t0);case 19:case"end":return r.stop()}}),r,null,[[0,16]])})))()},scrollDdata:function(){this.preLoadThreads()},loadMore:function(){this.getThreadsList()},autoLoadThreads:function(){var t=this,e=this.getThreadsParams();e.page=1,A.a.readThreadList({params:e}).then((function(data){if(data&&data.Data){var e=data&&data.Data&&data.Data.totalCount||0;t.threadCount>0&&(t.total=e-t.threadCount>0?e-t.threadCount:0)}}))},reloadThreadsList:function(){this.pageNum=1,this.preThreadsData=null,this.total=0,this.threadsData=[],this.getThreadsList()},onChangeCategory:function(t){0!==t.id?this.$router.push({path:"/category/".concat(t.id),query:{search_ids:t.search_ids}}):this.$router.push("/")},onChangeFilter:function(t){this.preThreadsData=null,this.threadSort=0,this.threadEssence="",this.fromUserId=0,"isSort"===t&&(this.threadSort=1),"isEssence"===t&&(this.threadEssence="yes"),this.fromUserId="followed"===t?1:0,this.reloadThreadsList()},onChangeType:function(t){this.threadType=t,this.reloadThreadsList()},onChangeSort:function(t){this.sort="-createdAt"===t?2:"-updatedAt"===t?3:1,this.reloadThreadsList()},formatRichText:function(html){return d.a.parse(html)},audioPlay:function(t){this.currentAudioId&&this.currentAudioId!==t&&this.$refs["audio".concat(this.currentAudioId)]&&this.$refs["audio".concat(this.currentAudioId)].pause(),this.currentAudioId=t},showVideoFn:function(video){this.threadVideo=video,this.showVideoPop=!0}},head:function(){return{title:this.headTitle,meta:[{hid:"keywords",name:"keywords",content:this.headKeywords},{hid:"description",name:"description",content:this.headDesc}]}}},O=(r(1198),r(11)),component=Object(O.a)(x,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("main",{staticClass:"cont-center"},[r("div",{staticClass:"cont-center-head"},[r("index-filter",{attrs:{"show-sort":t.siteOpenSortStatus},on:{onChangeFilter:t.onChangeFilter,onChangeType:t.onChangeType,onChangeSort:t.onChangeSort}}),t._v(" "),t.threadsStickyData.length>0?r("div",t._l(t.threadsStickyData,(function(e,n){return r("div",{key:n,staticClass:"list-top-item"},[r("div",{staticClass:"top-label"},[t._v(t._s(t.$t("home.sticky")))]),t._v(" "),r("nuxt-link",{staticClass:"top-title",attrs:{to:"/thread/"+(e&&e.pid),target:"_blank"}},[r("span",{domProps:{innerHTML:t._s(t.$xss(t.formatRichText(e.title)))}})])],1)})),0):t._e(),t._v(" "),t.total>0?r("div",{staticClass:"new-post"},[r("div",{staticClass:"new-post-cont"},[r("div",{staticClass:"new-post-left"},[t._v("\n            "+t._s(t.$t("home.hasNewContent",{total:t.total}))+"\n          ")]),t._v(" "),r("div",{staticClass:"refresh",on:{click:t.reloadThreadsList}},[r("svg-icon",{staticClass:"refresh-icon",attrs:{type:"refresh"}}),t._v(" "),r("span",{staticClass:"refresh-text"},[t._v(t._s(t.$t("home.clickRefresh")))])],1)])]):t._e()],1),t._v(" "),t.isSpider?[t._l(t.threadsData,(function(e,n){return[4===e.type?r("post-items",{key:n,ref:"audio"+(e.thread&&e.thread.extension&&e.thread.extension.video&&e.thread.extension.video.pid),refInFor:!0,attrs:{item:e},on:{audioPlay:t.audioPlay}}):r("post-items",{key:n,attrs:{item:e}})]}))]:r("dynamic-scroller",{attrs:{items:t.threadsData,"min-item-size":120,"page-mode":""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.item,o=e.index,c=e.active;return[r("dynamic-scroller-item",{attrs:{item:n,active:c,"data-index":o}},[4===n.thread.type?r("post-item-pays",{key:o,ref:"audio"+(n.thread&&n.thread.extension&&n.thread.extension.video&&n.thread.extension.video.pid),attrs:{item:n,lazy:!1},on:{audioPlay:t.audioPlay}}):r("post-item-pays",{key:o,attrs:{item:n,lazy:!1},on:{showVideoFn:t.showVideoFn}})],1)]}},{key:"after",fn:function(){return[r("list-load-more",{attrs:{loading:t.loading,"has-more":t.hasMore,"page-num":t.pageNum,length:t.threadsData.length},on:{loadMore:t.loadMore,scrollDdata:t.scrollDdata}})]},proxy:!0}])})],2),t._v(" "),r("aside",{staticClass:"cont-left"},[r("div",{staticClass:"category background-color"},[r("category-pays",{attrs:{list:t.categoryData},on:{onChange:t.onChangeCategory}})],1)]),t._v(" "),r("div",{staticClass:"cont-right"},[r("div",{staticClass:"background-color"},[r("advertising")],1),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:0!==t.recommendContentData.legnth,expression:"recommendContentData.legnth !== 0"}],staticClass:"background-color"},[r("recommend-content",{attrs:{list:t.recommendContentData}})],1),t._v(" "),r("copyright",{attrs:{forums:t.forums}})],1),t._v(" "),t.showVideoPop?r("video-pop",{attrs:{"cover-url":t.threadVideo.coverUrl,url:t.threadVideo.mediaUrl},on:{remove:function(e){t.showVideoPop=!1}}}):t._e()],1)}),[],!1,null,"84c818c6",null);e.default=component.exports;installComponents(component,{IndexFilter:r(961).default,PostItems:r(962).default,ListLoadMore:r(726).default,CategoryPays:r(963).default,Advertising:r(759).default,RecommendUser:r(861).default,Copyright:r(760).default,SvgIcon:r(62).default,PostItemPays:r(964).default,RecommendContent:r(965).default,VideoPop:r(725).default})},717:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"c",(function(){return o})),r.d(e,"a",(function(){return c}));r(52),r(159);var n=function(time){var t=((window.currentTime||new Date)-new Date(time))/1e3;return 0===parseInt(t)?"刚刚发布":parseInt(t)<60?"".concat(parseInt(t),"秒前"):parseInt(t/60)<60?"".concat(parseInt(t/60),"分钟前"):parseInt(t/60/60)<16?"".concat(parseInt(t/60/60),"小时前"):time.replace(/T/," ").replace(/Z/,"").substring(0,16)},o=function(t){var e=t-Math.round(new Date/1e3);return parseInt(e/86400,0)},c=function(t){var e=Math.round(new Date(t)/1e3),r=Math.round(new Date/1e3)-e,n=parseInt(r/86400,0);if(n>365){var o=parseInt(r/86400/365,0);return"".concat(o,"年")}return"".concat(n,"天")}},718:function(t,e){function r(e,p){return t.exports=r=Object.setPrototypeOf||function(t,p){return t.__proto__=p,t},t.exports.default=t.exports,t.exports.__esModule=!0,r(e,p)}t.exports=r,t.exports.default=t.exports,t.exports.__esModule=!0},719:function(t,e,r){},720:function(t,e,r){},726:function(t,e,r){"use strict";r.r(e);r(253);var n={name:"ListLoadMore",mixins:[{data:function(){return{scrollTop:0}},mounted:function(){this.addEventListener(window,"scroll",this.handleScroll)},destroyed:function(){this.removeEventListener(window,"scroll",this.handleScroll)},methods:{handleScroll:function(){var t=document.documentElement.scrollTop||document.body.scrollTop,e=document.documentElement.clientHeight||document.body.clientHeight,r=document.documentElement.scrollHeight||document.body.scrollHeight;this.scrollData(),Math.ceil(r-e)>=20&&this.scrollPost(),Math.ceil(t+e+10)>=r&&this.scrollLoadMore(),this.scrollTop=t},addEventListener:function(t,e,r,n){t.addEventListener?t.addEventListener(e,r,n):t.attachEvent&&t.attachEvent("on".concat(e),r)},removeEventListener:function(t,e,r,n){t.removeEventListener?t.removeEventListener(e,r,n):t.detachEvent&&t.detachEvent("on".concat(e),r)}}}],props:{loading:{type:Boolean,default:!1},hasMore:{type:Boolean,default:!1},pageNum:{type:[Number,String],default:1},length:{type:[Number,String],default:0},surplus:{type:[Number,String],default:0},loadMoreText:{type:String,default:function(){return this.$t("topic.showMore")}}},methods:{scrollLoadMore:function(){(this.pageNum-1)%5>0&&!this.loading&&this.hasMore&&this.loadMore()},scrollData:function(){this.$emit("scrollDdata")},scrollPost:function(){this.$emit("scrollPost")},loadMore:function(){this.$emit("loadMore")}}},o=(r(738),r(11)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"load-more-container"},[t.loading?r("loading"):[t.hasMore&&(t.pageNum-1)%5==0?r("div",{staticClass:"load-more",on:{click:t.loadMore}},[t._v("\n      "+t._s(t.surplus>0?t.$t("notice.checkMore",{surplus:t.surplus}):t.loadMoreText)+"\n    ")]):t.hasMore&&(t.pageNum-1)%5>0?r("loading"):r("div",{staticClass:"no-more"},[0===t.length?r("svg-icon",{staticClass:"empty-icon",attrs:{type:"empty"}}):t._e(),t._v("\n      "+t._s(t.length>0?t.$t("discuzq.list.noMoreData"):t.$t("discuzq.list.noData"))+"\n    ")],1)]],2)}),[],!1,null,"e9521ef0",null);e.default=component.exports;installComponents(component,{Loading:r(737).default,SvgIcon:r(62).default})},735:function(t,e,r){},736:function(t,e,r){},737:function(t,e,r){"use strict";r.r(e);r(253);var n={name:"Loading",props:{loading:{type:Boolean,default:!1},fontSize:{type:Number,default:32}}},o=(r(739),r(11)),component=Object(o.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"loading-container"},[this._v("\n  "+this._s(this.$t("discuzq.list.loading"))+"...\n")])}),[],!1,null,"00ec5480",null);e.default=component.exports},738:function(t,e,r){"use strict";r(719)},739:function(t,e,r){"use strict";r(720)},742:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAdCAMAAAApUkr4AAAAkFBMVEVHcEz3Vmf3V2j5Y3b2TVv2UF73V2f6do7yJyz0anb6bYP0Nz/1QUzzLzfzLTPzLzb6b4b6dI3zKzH7do/5aHz3U2HyJy37do/////zLjb0Nj/6bYL6cIj0RVH0Pkj2UV/6dIv5aHz4XW75YnX2S1j3V2b3jZDvPEr6nqT+3d79ys3rGSf9rrX0a3H/8vLuMj8nTZFDAAAAFnRSTlMAEkXi4ifi4uL44uLint9masnGnKS/GZQQxwAAAoRJREFUOMuNlety2jAQhTENCdMWCG0iZDuSjbEulm3p/d+uK8nWhcBMzx+YYfRxds9qtdmk2p0+X0CvXj+8fi56e6y/KaA4ENL3fQNijHWgG+gKquv6C9S27eWbtglhSwlxjP4Zo33EKFICXRmLD/Y/Ps5JG2iVMVj0sSBWHznkPfahsoR7Hw/7cckYu4A4VAmju/V5KbebmtrHPmIZlRMQgEEVVnktncR4irUkPmKkf0pPcE5mjCWZ8CIOkBZjPS2SmY0Q6a4EVUstYsADNWpF3DpWaxwls1hCpCdLsAywYSas52HmnGM8cClZTsCXdDzOSR2rjYpCBXLAWpgR6hekaTgQuHAyEus6HY8QaYHQasMY/18tFbYl0FUyBAMMvivb0+AjRLpF5cooR227wCkxUEgLuQihFojuiAsmjvpbHArkGQ4xSkugFEzjDhBEQGuHeQYDrIaf0usSI92jlVGWM5gY9EBpqbB2Y0oMRCSlxlMDrVhH3Y5pEimy8gTk50FRgTQMWN/0YGNphQK68pNeexsxUrQIECMfJGcNZAsHJ3dbCPR1UCCoTF/SK5dE6s9bAhrHUcx8AgSzM2q3h4C+GhtpI0Hx2rZtGmm0MSs7RyoEqXoXDbNXlxAGXUlubREjDQQ0cntu4HGcPSKZ79VG/XVOIw0aueKsHAVfNRMimjhcWnZueVxtR+OqQCkCFD9KU8H2EAaReVHP4gL62OSRBoZtiIEhM8a4/WEZXrDOGpZssbh3TxliGY/14jtG34dVGJfpNZaxOaJ75ZAnGzl5Por78wshMPLHZd2m6QN0Qui5jSrW0qQP1EeRvoKH/Tcd90fQL6/fTi9Or+61/XzfZQ/xP0mqs+XfwpcTAAAAAElFTkSuQmCC"},743:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAdCAMAAAApUkr4AAAAeFBMVEVHcEzrxoDv0Zrsx4LsyYfpw3nmuGDz2avisEzpwnfx1J/js1Ty1qXjs1Tktlnz2arz2q3z2q3ir0v////jslLy2KnmuWPktVvpwXby1qTnvW3v0Znx1J/qxH7ty47uzpTsyIb36dPz3rvu0aT78+bdpkbluGv++vXsdvjHAAAAEXRSTlMAEOJB4ibi4uLipJ5mZsXJ8SZQySUAAAKRSURBVDjLdZXrdqsgEIWbpuktvRxughqUQcD3f8MzIAK26e5qVvyRz71nhuHhodXl8+st6inr8ekx6+Xx5Q+9t4DTdVBROsoYM6HmeR7H8Ybqb33fCyHID300hHMYUJlhjgyE9BvhF+LUELquGzIk2zAbovi4x/huyoCEzcZfjGX3Ie7nOEnZddmHOjKmPcrtHuNcENcNkXwMetyti3nzYcUsnCM3C/ZI+FdKcZFR2UeYWNGUfKzMGctYPzm22oON2tKvRIiMIQS5MLZEOfwlyhLHmIXtH4BEhPiZ48I5LzY6bosJMEYrdpRo+1JyfHLJaxQKDJILfK8xCmPZ4hyTtK2tLf3ivPgI0tc3Eq0HJMH+vAJz7XiUlp4SIPvQJr42msA89nYblMEqwmYB5oXsnY2QSxlMyosNvh6TO6WCLE/WTGOZUkFe6lBQuvvgHCDadgAu+gartQp7dEvaUW9b+koLg3s5oo91y8GWoLQijSmSEDujtpTSzEAE1YccGnPY6CYKffVl0iOjtpQ2DB8ApxsLOHsfHBKUBGalBpikYGtzavu+aWkCZIafQAlYgK0aXy+UGrCYIuCzwg93OPm1pdnEhghY9pUt3g4i4BwZ7AeAiJMda0sOG6hp6S7OKc4E+DRSC/YTcTOxEPss0ifYsoHaHFda5f0ClOdSohURUnUdUZ0MYzxtc90excRDBfDI8NQrG+s/pmHjy6KDDFiT0MlpNnWL1aG40FYeOX5TPHP4M5z5MKQtht2Ja2z3UffuZ0vgqajpi9wQcZGpX9sUETVGGs0WQsuRK8t0uHO5nJv7h9I7jLo9hq7Z6tVGQzjmaMb06ONHlPdTewteX+/pOf7tent+y3qKt+37x+VwEf8HVOyS3I7BqRwAAAAASUVORK5CYII="},744:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAdCAMAAAApUkr4AAAAflBMVEVHcEz721P80ET80ET800n8xDb80ET9uyv741v8zUL8z0T80ET800j9uyv9uyr741v8vjD////9wjT8xjn74Vn8yj/81k373VX731f8zkT80kj+78z82VD75Fz721L92I77uR//+ez+57H8zGX7sQ/935v91nb7xTL8w1j8434nLmyfAAAADnRSTlMA4kef4uIW4eLiK2rD8UNrkG4AAALGSURBVDjLdZUBc+IgEIV79apWPQJJiBpMAiSE5P//wdsFAqTnPevUcYbPt/uWzcdHruP19o36HfQr6XyGv3c67AAHjnqiWlCDer36vr/f74/HowYVoK6Dt/sHr+4zI3xWFa82hkO0DvHq7z8ZjhAYxx0BxHNG2wTG5iNAPMKbOSfCpXSE6v+lBB9F7Y933sQ1IcrSMTIfz+Sj3/Wj3vqAr0skHMrAQB/zj1oaswKhv68rMgrw0W2tqLMy6MaoRsXmSotNc9OOjIl17XrF9FZKaEWXIr3RyKBUMbWwqKJ9CvfBaP+FDu1ASor0SKkjIIROcH4IgsNtK5hiTIlAYGuMFiAx0isNjKoq+bgMi5SSECInzQSHo1CbHrUyA2Nzew/jgSZuWR10g1AofOSzE5dw1Eo9yMHMiglrla77h++pY8RIjyQhJPwSNd7yLKED3FpuOX6jjK3a3ZgWMdJPQihSoKV0MkzJgODgaIZ0mwGaobEhps5HvUujeSDBBi3JJJiG9zANTJGZseY542GmBs8VJo5pUaRIT2RjAALimBQbsZMEHFWuBO9KoZHVz7objxjphZDIkBS8w1sIxYwU0EIp1ExCxnIQ6ysrJUVKSIRIGIolDBa6MVbSMk6qGHmTbm0W6cmddwgCLWDYBvhJsxDA8Apj3lQ36drWdRZpMIF/2AJJl2WSkhJwAzeOAnVEaaZ226M+ZpFuDOoCITCaYEhDOxTnFTbVVQHDtdtAtzzSyJggEONmjEq8XAYQUsQ69G6LpVXxhyRJCi1zt5ZMRujBcg6RiMEVMpg132JpKC4kR0wTFuFcwEeKK8jXZS21PG1CWEBp717JjiFJuC3QGb+DrI3bMN+EqQwfadYOmq5cmRYy94uwiUs9e3wcyQ9RsmdUb5f67gFE/lFCVG8YCDkc86fg4fReX6evTd9f35vwQXu77gAffwHkwogbkx55XAAAAABJRU5ErkJggg=="},746:function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.default=t.exports,t.exports.__esModule=!0},749:function(t,e){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}},t.exports.default=t.exports,t.exports.__esModule=!0},750:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAdCAMAAAApUkr4AAAAZlBMVEVHcEz/oEn/r1H/iDz/oEn/oEn/oEn/t1X/iTz/oEn/hTr/ulf/slP/////iTz/jT3/tlX/kkD/p03/rVD/lkX/oUn/uVb/m0b/eSf/wJX/59f/t4v/hTL/9/H/zKX/2MD/nGP/rXlLrqcVAAAACnRSTlMAasPJIkef4uLi2v9OvAAAAnNJREFUOMt9lY1yqyAQhZM0sS0VEAvyK+r7v2QXUFnsvd1MJJkJX87uWZbbDcfz/vhE8V5ef0fXADqppdZaKTWqscT3Hj3EMAzTNH1NX028EOElhUwEYCSKqoy+3wkZAtsw5YkIAgiyQJRqGd9XRon06R1lIcQ/Gd9XxoQYALlXBBcHQ2vdFAQVo7/qwHl0/MrY4vA7lb2kiFHT4LwwjlSkpzSetmz0DA8MlEy19O1ACMFn2oQdR23r16yj5vKqIhjfIUy2BOpHJSJ1NoWjrhT1TOYUcWeJITLCQFjq4DnTaIKAqgZHY9IXZrr0TUkfNQ/GDh2ckWA8ndeQHkJqNepQNUWsAlvKIDhnSQZnbS3AXLmitJoWm05LX4QUCKggpCG4hJDW2xJxaNqjtmaXCUkH5wH+0qzOgavORLoobWPezTMixrNPIZdq6QchJwRKQBew0kAvOCij5rscUdYZIZClANgRjME/O4BY6x2FqmxiN3nZC+LwcamWklMFI2ahPtZdioMaY0CWTyv4XFt9QpaSzEgUHuDXm6feAGrd6CwhMZfqs0GvCEjKHuMDGNVSUiLJIAR0r0tRkSoqwkJnqAkV++rRqcWWngxikiEz9RAWhERhXKliKCutY2x4IEtPBiHG5942ub9BPofE3DJTx8o616NfRdwIQQyzek8CCArGLssmuPRWGm83afNq6xSrTfFsEMEYkts0HbcARyYEnt4CGlcCUOUJ1CfGrbUUx97q0CNpVx1k0Opa1UmIJvdbo6JYy84JlLbLY5ju0zQT0PXx/K3hypDobjkYzQVE/s+4QOrd0j3xLdh9/Bmf5YXjcW8Atx8kQWg3EVPZPwAAAABJRU5ErkJggg=="},751:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAdCAMAAAApUkr4AAAAkFBMVEVHcEwwq/svuf8wqvs0mfgxsP8xpfk1jPQsxv8yp/wxp/swqfstwf80mfk0kfYtwf8sxP8sxf81jfX///80kfYtwf81i/MuvP81lfcvt/8znvo0mfgyp/wws/8wrP4yo/sxsP/J4/6PxP0ll/mIuPkih/Rwyf9jtPxhqfnx+P8si/UbevGc0v6r1f7i8P8nn/vkthLYAAAAEXRSTlMASOIu4uIN4uLiHGriw56fyad8N28AAAKRSURBVDjLbZXrdqowEIXrsaeteuzFpBEBwdwgIJf3f7szCSGZ2G5/yFouPvfMzkyenrD2h+PO66/TH69/Xm8/9ZEA3vO8BpWgqqput9v1egGdrb4Xff3QBhG2RZ47hiWUDrEyLOX7/DtjHwmbolgZdbDhGcjII+ETeciAgHx4yBUxfCkp5RAIL1lWIEYdarn+9JEwtgHx7hColGFoqtXHdRib86Xx+koYL7EMqxVS17kipAEnrh1VSYi4VB1x4omPGOmRZnRB5EUxEKS2apYH+BqEmMiY9DREuqfUMSwk0xwjqll4Fhjg8NOQ5BLqOFCrBUG1UmoinbISopRmhDpAntngbGOkx9PKyKggiaZZj6TjomxNa9UkiBDpywm0IGhaBpifc+AQERrE8RELkW48Ahi9LQOMcOULaeeR8M4hoBUdmQY0Lm/xUDAgLAyqtb5DosJYtYWcjfvvThIy2n40F3TUY6SvjLGTbwelPetCGV0rs8W+WUNGc4siZQ4RalGxE2MtdQ+uuBRkMgZcLCfd+4iRWkJg0P7es/v9zqCvIq/zthWcdGL0zbygwUeRsoVBPQJC6UYF1SiZ53J5FTBja4DaoYmLkbJFa0t75XshgFBoeAseJzAweRuBEbbNZkX4WnooQjgKtwhzh4b2cWTi5H+iSFnwYY2ceg2tUGDaAEJKbUinbcRZQcgNbY/tYx0rw8pRjHKTX0jFB+lkOPcryBLiodgmhBOzDYGD3uueui1WSC2XZThLGVYhIEKiLlLMoOvI0XWLzbnf6nMZt2ksYzmaiMGYP+p+iRXJUo+XC7o+cCtcLJTFyUfbtEwvKHwBbdijoJTEB2Ksl8vHHt+C76+/69l+Vu2ed/GuPR4SwNN/LVuYVScuqLYAAAAASUVORK5CYII="},755:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABCCAMAAADQfyDnAAAARVBMVEVHcEz/1t7/MF//M2D/TXL/YoH/d5H/NWP/8/X/2N/+HlX/H1b/+Pr/kqb/sb//NWL/197/W3z/fJX/5On/n7H/ydP/R22l4cNJAAAACnRSTlMAM4RE1sCo5g4grga5YgAAAxZJREFUWMOllol26yAMRPW6pR12vPz/pz6BDRbYTe3YPUmT2LoMIwmgD6Wg0iu9pwtYvtcfxCc03x5vP0T0tUUKiohuLpR3pHHweM+E9lY3WMbKkddRkG88fiqhPFafwhot7rRPZBlvJDRgJx/Vky68gPEgKj5gk4jNWDQOF0WqmADQSliN2RmQ/9sZO1+LZ0SbBiFOyYg4qHGEwlE2CqD4IAJRDRii9a5xpKSF/6gniHTl12yd4fioqjWtpdQQ0AhcVE/WDmYazGF9QQC+v1Q/QiYYPcyTcX6sNdEMQ0TdLNZn8u05Wq2tH+FG542LS7YhK1MCsgbZGqOezDA4Zy28dcPgpYfYA4g+mxJUwYVh9Dyutc5br43aNygdE9ZqCxyjo7OsIeop6LDvzw7w/SkKUKV4+Nl7HzxbYcIQ2lrZA5iw9YRKuWMVerZMMIyLVkxi6Vc6IIhlI8Vb452dOAthEstWKRQ6IEiZHD84rkRrg+5rKWugQ0JtWsdRSYBV3gYbxsjXGCWF6DcNyyDsGvIUNGfTeK2190a2Lf1GKEufikZxAtYMmpQXUSk4BkgNHBPVsMSjxEeHsgMQPdFQCJ7zb1wefwwclpjPPGg1AHHkYM6Em6KaNFuZ8oFuRTqqh6Vz18Jy3uc+jRP3J7aFj4hOzCJ94nbKMZYrQ09jKWp6TpCVnwjW5HyEkfXgqQeZ8IFml+UVQQejZ7l/PQUwoel+x+qzmyyhLpxEf2ool+MVJflvPS90M35tpp2G1QROg8srBAuZ5rrdEZ3TwO+pGhCTBifcJTqhQW4VKQsQhwk6Rag7dtonJrm94G8A/XxsRwWF7uRwBpAIUM1BTBwAiC5oQLOtLpsM0XkN/RnopIlVQz2cQR5D6BKhP8idV7BpwLainynlnZPdafeCgpWA7uQMukJ4iFoqLtJVQnMEuTaFQkBzYKPrhKYergIEYcklrgLo36PtK3qFIE5BLwDSLLaDIl4ALLMAXp1C9eEGgAmX23lPgFKXS3mXi5enIHygGwTcA6wa6BYBuAXIGugewd0EMIHuEv4DyXJgDPfCK6IAAAAASUVORK5CYII="},758:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdBAMAAACkvXo8AAAAMFBMVEX0Nz9HcEz0Nz/0Nz/0Nz/0Nz/0Nz/0Nz/0Nz/0Nz/0Nz/0Nz/0Nz/0Nz/0Nz/0Nz+8Gen2AAAAD3RSTlMhAPHhCaE+0RdgkL2ugm+A/zHcAAAAy0lEQVQY02MQCVKCA+UrAgxi9v8R4KcAg4dnPZz7lVGAgWmF2H4oV7cxtYGB/3+A2Hkw184x+z8DkP//mMAiILdSZPp/CP//NolL/7eJPP4P4wPlJkiA1MD4/y0d4v8j8//r/0fl/0fhF/3//8keic+m/98gH4lfkvSZA1n+u1sBM7L+0IeCc9cj+N8FgaAJSV5JVRjFPiVVaWN9BP+zI1B9P5J81ErZVeeR3fsHVT8G/zca/389Lv/6o/AdGESRuV8FGESCENxPIQIAaU83v1QfDM0AAAAASUVORK5CYII="},759:function(t,e,r){"use strict";r.r(e);var n=r(801),o={name:"Advertising",data:function(){return{qrcode:null,siteName:""}},computed:{forums:function(){return this.$store.state.site.info.attributes||{}}},watch:{forums:{handler:function(t){t&&t.set_site&&(this.siteName=t.set_site.site_name?t.set_site.site_name:"Discuz! Q")},deep:!0}},mounted:function(){this.siteName=this.forums&&this.forums.set_site&&this.forums.set_site.site_name?this.forums.set_site.site_name:"Discuz! Q",this.createQrcode(window.location.href)},destroyed:function(){this.qrcode=null},methods:{createQrcode:function(link){var t=this;this.qrcode=null,this.$nextTick((function(){t.qrcode=new n(t.$refs.qrcode,{width:70,height:70,text:link})}))}}},c=(r(783),r(11)),component=Object(c.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"adv-container"},[e("div",{ref:"qrcode",staticClass:"qrcode"}),this._v(" "),e("div",{staticClass:"adv-info"},[e("div",{staticClass:"adv-title"},[this._v("扫一扫，访问移动端")]),this._v(" "),e("img",{staticClass:"adv-logo2",attrs:{src:r(758)}}),this._v(" "),e("span",{staticClass:"adv-title2"},[this._v(this._s(this.siteName))])])])}),[],!1,null,"fa151192",null);e.default=component.exports},760:function(t,e,r){"use strict";r.r(e);r(52);var n={name:"Copyright",data:function(){return{year:"2019"}},computed:{forums:function(){return this.$store.state.site.info.attributes||{}},code:function(){return this.$store.state.site.info.attributes.set_site.site_record_code.replace(/[^0-9]+/g,"")||""}},mounted:function(){var t=window.currentTime||new Date;this.year=t.getFullYear()}},o=(r(784),r(11)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"copyright"},[r("div",{staticClass:"info"},[r("span",[t._v("Powered By")]),t._v(" "),r("a",{staticClass:"site",attrs:{href:"https://discuz.com",target:"_blank"}},[t._v("Discuz! Q")]),t._v(" "),r("span",{staticClass:"block"},[t._v("© "+t._s(t.year))])]),t._v(" "),t.forums&&t.forums.set_site&&(t.forums.set_site.site_record||t.forums.set_site.site_record_code)?r("div",{staticClass:"id"},[r("div",{staticClass:"site-record-code"},[r("a",{attrs:{href:"https://beian.miit.gov.cn/",target:"_blank"}},[t._v(t._s(t.forums.set_site?t.forums.set_site.site_record:""))])]),t._v(" "),t.forums&&t.forums.set_site&&t.forums.set_site.site_record_code?r("div",{staticClass:"site-record-code"},[r("a",{attrs:{href:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode="+t.code,target:"_blank"}},[t._v(t._s(t.forums&&t.forums.set_site&&t.forums.set_site.site_record_code))])]):t._e()]):t._e()])}),[],!1,null,"0b80548e",null);e.default=component.exports},763:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWBAMAAAA2mnEIAAAALVBMVEX5rD75rD75rD75rD75rD75rD/5rD/5rD/5rD75rD/5rD75rD/5rD/5rD/5rD5fyIAMAAAADnRSTlMCkdkQMMNUIvFFg+WsZNscE4cAAADBSURBVBjTY2BgYGAReqfowAAGbF0ODCwrEsDsQOYcpWMGoiAm0wS5d+/ePeRUALIjrd+BwOapQNUC+ybse/fO8jVjAgMH47tmi3fPLd4JNDB42b17xP7Oed+7x0sYRPLevQsoYXr37pkjg8K5d+/eMMQBCSaGB3rvdO8y37307hEfiC1ezlBeA2ID1TwNNQ+NA6kB6l0AtJELpBdo5rt35kAMNBNoF4QNtAvohnfvPN+9A7kB2W0obkb2C4of4X4HAPLQaUz8SV+2AAAAAElFTkSuQmCC"},783:function(t,e,r){"use strict";r(735)},784:function(t,e,r){"use strict";r(736)},785:function(t,e,r){},786:function(t,e,r){},793:function(t,e,r){var n=r(875),o=r(876),c=r(877),d=r(878);t.exports=function(t){return n(t)||o(t)||c(t)||d()},t.exports.default=t.exports,t.exports.__esModule=!0},798:function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r},t.exports.default=t.exports,t.exports.__esModule=!0},802:function(t,e){function r(){return t.exports=r=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var e in source)Object.prototype.hasOwnProperty.call(source,e)&&(t[e]=source[e])}return t},t.exports.default=t.exports,t.exports.__esModule=!0,r.apply(this,arguments)}t.exports=r,t.exports.default=t.exports,t.exports.__esModule=!0},804:function(t,e,r){"use strict";r.r(e);var n={name:"UserItem",props:{item:{type:Object,default:function(){}},show:{type:String,default:"all"},isFollow:{type:Boolean,default:!1}},data:function(){return{}},methods:{toUser:function(){this.$router.push("/user/".concat(this.item.id))}}},o=(r(858),r(11)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"user-item-container",class:{simple:"simple"===t.show}},[r("div",{staticClass:"flex user-item",on:{click:function(e){return e.stopPropagation(),t.toUser(e)}}},[r("avatar",{attrs:{user:t.item,size:"simple"===t.show?40:45,round:!0}}),t._v(" "),r("div",{staticClass:"info"},[r("div",{staticClass:"flex"},[r("span",{staticClass:"name text-hidden"},[t._v(t._s(t.item.username))]),t._v(" "),"all"===t.show&&t.item.groupName?r("span",{staticClass:"role"},[t._v(t._s(t.item.groupName))]):t._e()]),t._v(" "),r("div",{staticClass:"flex count"},["all"===t.show?r("div",{staticClass:"count-item"},[t._v(t._s(t.$t("profile.topic"))+" "+t._s(t.item.threadCount||0))]):t._e(),t._v(" "),"all"===t.show?r("div",{staticClass:"count-item"},[t._v(t._s(t.$t("profile.following"))+" "+t._s(t.item.followCount||0))]):t._e(),t._v(" "),r("div",{staticClass:"count-item"},[t._v(t._s(t.$t("profile.followers"))+" "+t._s(t.item.fansCount||0))])])])],1),t._v(" "),t.isFollow?r("el-button",{staticClass:"follow",attrs:{type:"text"}},[t._v("\n    "+t._s(t.$t("profile.following"))+"\n  ")]):t._e()],1)}),[],!1,null,"ee325c6e",null);e.default=component.exports;installComponents(component,{Avatar:r(254).default})},810:function(t,e,r){var n=r(732).default,o=r(746);t.exports=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?o(t):e},t.exports.default=t.exports,t.exports.__esModule=!0},811:function(t,e){function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.default=t.exports,t.exports.__esModule=!0,r(e)}t.exports=r,t.exports.default=t.exports,t.exports.__esModule=!0},812:function(t,e,r){var n=r(718);t.exports=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,n(t,e)},t.exports.default=t.exports,t.exports.__esModule=!0},813:function(t,e,r){var n=r(718),o=r(749);function c(e,r,d){return o()?(t.exports=c=Reflect.construct,t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=c=function(t,e,r){var a=[null];a.push.apply(a,e);var o=new(Function.bind.apply(t,a));return r&&n(o,r.prototype),o},t.exports.default=t.exports,t.exports.__esModule=!0),c.apply(null,arguments)}t.exports=c,t.exports.default=t.exports,t.exports.__esModule=!0},814:function(t,e,r){var n=r(718);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)},t.exports.default=t.exports,t.exports.__esModule=!0},857:function(t,e,r){},858:function(t,e,r){"use strict";r(785)},859:function(t,e,r){"use strict";r(786)},861:function(t,e,r){"use strict";r.r(e);r(13),r(24);var n=r(715),o={name:"RecommendUser",mixins:[r.n(n).a],props:{list:{type:Array,default:function(){return[]}}},data:function(){return{userList:[],loading:!1,pageNum:1,pageSize:4}},computed:{forums:function(){return this.$store.state.site.info.attributes||{}}},watch:{list:{handler:function(t){this.userList=t},deep:!0}},mounted:function(){0===this.list.length?this.getList():this.userList=this.list},methods:{getList:function(){var t=this;this.userList=[],this.loading=!0;var e={include:"groups",limit:this.pageSize};this.$store.dispatch("jv/get",["users/recommended",{params:e}]).then((function(e){var data=e;e&&Array.isArray(e)&&data.forEach((function(t,i){data[i].groupName=t.groups[0]?t.groups[0].name:""})),t.userList=data}),(function(e){t.handleError(e)})).finally((function(){t.loading=!1}))},refresh:function(){this.getList()}}},c=(r(859),r(11)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"recommend-user-container"},[r("div",{staticClass:"recommend-user-title"},[t._v(t._s(t.$t("home.recommentUser")))]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"recommend-user-list"},[t._l(t.userList,(function(t,e){return r("user-item",{key:e,attrs:{item:t,show:"simple"}})})),t._v(" "),0===t.userList.length?r("div",{staticClass:"no-more"},[t._v(t._s(t.$t("discuzq.list.noData")))]):t._e()],2),t._v(" "),r("div",{staticClass:"refresh",on:{click:t.refresh}},[r("svg-icon",{staticClass:"icon",attrs:{type:"refresh"}}),t._v("\n    "+t._s(t.$t("home.refresh"))+"\n  ")],1)])}),[],!1,null,"00b4b6a3",null);e.default=component.exports;installComponents(component,{UserItem:r(804).default,SvgIcon:r(62).default})},875:function(t,e,r){var n=r(798);t.exports=function(t){if(Array.isArray(t))return n(t)},t.exports.default=t.exports,t.exports.__esModule=!0},876:function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)},t.exports.default=t.exports,t.exports.__esModule=!0},877:function(t,e,r){var n=r(798);t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0},878:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},884:function(t,e,r){"use strict";r(253);var n=r(0),o=(r(34),r(25),r(39),r(53),r(54),r(8)),c=r(109),d=r(110),l=r(43);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m=r.n(l).a;m.defaults=f(f(f({},m.defaults),{url:"",method:"GET",dataType:"json",timeout:3e4,isValidate:!1,validateRules:null}),{},{validateRules:null});var v=m;r(13),r(108);function y(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function _(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var A=null,w="undefined"!=typeof window;function C(){var t="__dzqtest_ls__";try{return!!A&&(A.setItem(t,t),A.getItem(t),!0)}catch(t){return!1}}A=w?window.localStorage:{};var x=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.a)(this,t);var r="__dzqls-",n=0;this.options=_({prefix:r,expires:n},e),this.expiresPrefix="expires".concat(this.options.prefix)}return Object(d.a)(t,[{key:"getKey",value:function(t){var e=this.options.prefix;return"".concat(e).concat(t)}},{key:"getExpiresKey",value:function(t){return"".concat(this.expiresPrefix).concat(t)}},{key:"getCurrentTime",value:function(){return Math.floor((new Date).getTime()/1e3)}},{key:"getExpiresValue",value:function(t){return(this.getCurrentTime()+t).toString(10)}},{key:"shiftItem",value:function(t){if(!C())return!1;var e=A.removeItem;e(this.getKey(t)),e(this.getExpiresKey(t))}},{key:"isExpired",value:function(t){if(C()){var e=A.getItem(this.getExpiresKey(t));if(e){var r=parseInt(e,10);if(this.getCurrentTime()>r)return this.shiftItem(t),!0}}}},{key:"set",value:function(t,e,r){var n=this.getKey(t),o=e;if(!C())return!1;try{o=JSON.stringify(e)}catch(t){return!1}var c=A,d=c.setItem,l=c.removeItem;try{d(n,o);var h=this.getExpiresKey(t);r?d(h,this.getExpiresValue(r)):l(h)}catch(t){return!1}return!0}},{key:"get",value:function(t){if(!C())return null;if(this.isExpired(t))return null;var e=A.getItem(this.getKey(t));try{return JSON.parse(e)}catch(t){return e}}},{key:"remove",value:function(t){C()&&this.shiftItem(t)}},{key:"clear",value:function(){C()&&A.clear()}}]),t}(),O=r(9),k=(r(31),r(923)),j=r(164),P=r.n(j);function E(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function D(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?E(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):E(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function L(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,n){new k.a(e).validate(t,{firstFields:!0},(function(t,e){var o=t?"fail":"success",c=t?t[0].message:"";"success"===o?r({status:o,message:c,fieldsData:e}):n(P()("Parameter Validator Error",{status:o,message:c,fieldsData:e,errors:t},null))}))}))}var S=function(){var t=Object(O.a)(regeneratorRuntime.mark((function t(e){var r,n,o,data,c,d,source;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.params,n=void 0===r?{}:r,o=e.data,data=void 0===o?{}:o,c=e.isValidate,d=e.validateRules,!c||!d){t.next=5;break}return source=D(D({},n),data),t.next=5,L(source,d,e);case 5:return t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=r(165),I=r.n(T);function M(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var R=new x({prefix:""}),$=function(t){var e=R.get("access_token");return e&&(t.headers.authorization="Bearer ".concat(e)),t},U=function(t){return{data:t.data,status:t.status}},N=function(){function t(e){Object(c.a)(this,t),this.axiosConfig=e,this.createHttp()}return Object(d.a)(t,[{key:"createHttp",value:function(){this.http=v.create(function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?M(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):M(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({isValidate:!0,withCredentials:!0,paramsSerializer:function(t){return I.a.stringify(t,{arrayFormat:"indices",encode:!1})}},this.axiosConfig)),this.setHttpRequestInterceptors(),this.setHttpResponseInterceptors()}},{key:"setHttpRequestInterceptors",value:function(){this.http.interceptors.request.use($),this.http.interceptors.request.use(S,null,{synchronous:!0})}},{key:"setHttpResponseInterceptors",value:function(){this.http.interceptors.response.use(U)}}]),t}(),V=0,z=r(86);function F(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function B(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?F(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):F(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var Q={page:{type:"number"},perPage:{type:"number"},filter:{type:"object",required:!0,fields:{sticky:{type:"number",required:!0},essence:{type:"number",required:!0},types:{type:"array"},categoryids:{type:"array"},sort:{type:"number"},attention:{type:"number"}}}};function H(){return Y.apply(this,arguments)}function Y(){return(Y=Object(O.a)(regeneratorRuntime.mark((function t(){var e,r,n,o,data,c,d,l,h=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=h.length>0&&void 0!==h[0]?h[0]:{},t.prev=1,r=e.params,n=void 0===r?{}:r,o=e.data,data=void 0===o?{}:o,c=Object(z.a)(e,["params","data"]),d=B(B({url:"/api/threads.v2",method:"GET",params:n,data:data},c),{},{validateRules:Q}),t.next=6,this.http(d);case 6:return l=t.sent,t.abrupt("return",l);case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",t.t0);case 13:case"end":return t.stop()}}),t,this,[[1,10]])})))).apply(this,arguments)}function G(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function K(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?G(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):G(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var J={pid:{type:"number",required:!0},stopViewCount:{type:"boolean"}};function Z(){return X.apply(this,arguments)}function X(){return(X=Object(O.a)(regeneratorRuntime.mark((function t(){var e,r,n,o,data,c,d,l,h=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=h.length>0&&void 0!==h[0]?h[0]:{},t.prev=1,r=e.params,n=void 0===r?{}:r,o=e.data,data=void 0===o?{}:o,c=Object(z.a)(e,["params","data"]),d=K(K({url:"/api/threads.detail.v2",method:"GET",params:n,data:data},c),{},{validateRules:J}),t.next=6,this.http(d);case 6:return l=t.sent,t.abrupt("return",l);case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",t.t0);case 13:case"end":return t.stop()}}),t,this,[[1,10]])})))).apply(this,arguments)}function W(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function tt(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?W(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):W(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var et={};function it(){return nt.apply(this,arguments)}function nt(){return(nt=Object(O.a)(regeneratorRuntime.mark((function t(){var e,r,n,o,data,c,d,l,h=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=h.length>0&&void 0!==h[0]?h[0]:{},t.prev=1,r=e.params,n=void 0===r?{}:r,o=e.data,data=void 0===o?{}:o,c=Object(z.a)(e,["params","data"]),d=tt(tt({url:"/api/categories.v2",method:"GET",params:n,data:data},c),{},{validateRules:et}),t.next=6,this.http(d);case 6:return l=t.sent,t.abrupt("return",l);case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",t.t0);case 13:case"end":return t.stop()}}),t,this,[[1,10]])})))).apply(this,arguments)}function st(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function at(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?st(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):st(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var ot={page:{type:"number"},perPage:{type:"number"}};function ut(){return ct.apply(this,arguments)}function ct(){return(ct=Object(O.a)(regeneratorRuntime.mark((function t(){var e,r,n,o,data,c,d,l,h=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=h.length>0&&void 0!==h[0]?h[0]:{},t.prev=1,r=e.params,n=void 0===r?{}:r,o=e.data,data=void 0===o?{}:o,c=Object(z.a)(e,["params","data"]),d=at(at({url:"/api/posts.v2",method:"GET",params:n,data:data},c),{},{validateRules:ot}),t.next=6,this.http(d);case 6:return l=t.sent,t.abrupt("return",l);case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",t.t0);case 13:case"end":return t.stop()}}),t,this,[[1,10]])})))).apply(this,arguments)}function lt(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function ht(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?lt(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):lt(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var pt={categoryId:{type:"array"}};function ft(){return mt.apply(this,arguments)}function mt(){return(mt=Object(O.a)(regeneratorRuntime.mark((function t(){var e,r,n,o,data,c,d,l,h=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=h.length>0&&void 0!==h[0]?h[0]:{},t.prev=1,r=e.params,n=void 0===r?{}:r,o=e.data,data=void 0===o?{}:o,c=Object(z.a)(e,["params","data"]),d=ht(ht({url:"/api/sticks.v2",method:"GET",params:n,data:data},c),{},{validateRules:pt}),t.next=6,this.http(d);case 6:return l=t.sent,t.abrupt("return",l);case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",t.t0);case 13:case"end":return t.stop()}}),t,this,[[1,10]])})))).apply(this,arguments)}r(257);var vt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new N(t);return e.readThreadList=H,e.readThreadDetail=Z,e.readCategories=it,e.readCommentList=ut,e.readStickList=ft,e}({baseURL:""}),gt=vt.http,yt=n.default.prototype;gt.interceptors.response.use((function(t){var data=t.data,e=data||{},r=e.Code,n=e.Message;switch(Number(r)){case V:break;default:yt.$message.warning(n)}return data}));e.a=vt},898:function(t,e,r){"use strict";r(857)},902:function(t,e,r){"use strict";r.r(e);var n=r(158),o={name:"CreatePostPopover",mixins:[r.n(n).a],data:function(){return{userId:this.$store.getters["session/get"]("userId"),visible:!1,noCreateThread:!1,can_create_thread:!0,can_create_thread_long:!0,can_create_thread_video:!0,can_create_thread_image:!0,can_create_thread_question:!0,can_create_thread_goods:!0}},computed:{userInfo:function(){return this.$store.getters["jv/get"]("/users/".concat(this.userId))},forums:function(){return this.$store.state.site.info.attributes||{}},categoryId:function(){return this.$route.query.categoryId}},methods:{showAndHidePopover:function(){var t=this;if(this.$store.getters["session/get"]("isLogin")){if(!this.visible){var e=this.forums.other,r=this.userInfo;if(!e)return;if(!(e.can_create_thread||e.can_create_thread_long||e.can_create_thread_video||e.can_create_thread_image||e.can_create_thread_question||e.can_create_thread_goods))return void this.$message.error(this.$t("home.noPostingPermission"));if(e.publish_need_real_name&&!r.realname)return void this.$message.error(this.$t("home.needRealname"));if(e.publish_need_bind_phone&&!r.mobile)return void this.$message.error(this.$t("home.needPhone"));if(!e.can_create_thread_in_category)return void this.$message.error(this.$t("home.noPostingCategory"));if(this.categoryId)this.$store.getters["jv/get"]("categories/".concat(this.categoryId)).canCreateThread||this.$message.error(this.$t("home.noPostingCategory"));e.can_create_thread||(this.can_create_thread=!1),e.can_create_thread_long||(this.can_create_thread_long=!1),e.can_create_thread_video||(this.can_create_thread_video=!1),e.can_create_thread_image||(this.can_create_thread_image=!1),e.can_create_thread_question||(this.can_create_thread_question=!1),e.can_create_thread_goods||(this.can_create_thread_goods=!1)}this.visible=!this.visible}else this.$message.warning("请登录"),window.setTimeout((function(){t.headerTologin()}),1e3)},toRouter:function(t){this.$router.push("/thread/postpay?type=".concat(t).concat(this.categoryId?"&categoryId=".concat(this.categoryId):""))}}},c=(r(898),r(11)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-popover",{attrs:{placement:"bottom",width:"120","min-width":"120",trigger:"manual","popper-class":"custom-popover-width"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[r("ul",{staticClass:"type-container"},[t.can_create_thread?r("li",{on:{click:function(e){return e.stopPropagation(),t.toRouter(0)}}},[t._v("\n      "+t._s(t.$t("home.word"))+"\n    ")]):t._e(),t._v(" "),t.can_create_thread_long?r("li",{on:{click:function(e){return e.stopPropagation(),t.toRouter(1)}}},[t._v("\n      "+t._s(t.$t("home.invitation"))+"\n    ")]):t._e(),t._v(" "),t.can_create_thread_image?r("li",{on:{click:function(e){return e.stopPropagation(),t.toRouter(3)}}},[t._v("\n      "+t._s(t.$t("home.picture"))+"\n    ")]):t._e(),t._v(" "),t.can_create_thread_video?r("li",{on:{click:function(e){return e.stopPropagation(),t.toRouter(2)}}},[t._v("\n      "+t._s(t.$t("home.video"))+"\n    ")]):t._e(),t._v(" "),t.can_create_thread_question?r("li",{on:{click:function(e){return e.stopPropagation(),t.toRouter(5)}}},[t._v("\n      "+t._s(t.$t("home.question"))+"\n    ")]):t._e(),t._v(" "),t.can_create_thread_goods?r("li",{on:{click:function(e){return e.stopPropagation(),t.toRouter(6)}}},[t._v("\n      "+t._s(t.$t("home.product"))+"\n    ")]):t._e()]),t._v(" "),r("template",{slot:"reference"},[t._t("button",[r("el-button",{staticClass:"new-post",attrs:{type:"primary"},on:{click:t.showAndHidePopover}},[t._v("\n        \n        \n        "+t._s(t.$t("profile.post"))),r("span",{staticClass:"add-icon"},[t._v("+")])])])],2)],2)}),[],!1,null,"3e4c18ea",null);e.default=component.exports},915:function(t,e,r){"use strict";var strong=r(258),n=r(162);t.exports=r(256)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return strong.def(n(this,"Set"),t=0===t?0:t,t)}},strong)},923:function(t,e,r){"use strict";(function(t){function r(){return(r=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var e in source)Object.prototype.hasOwnProperty.call(source,e)&&(t[e]=source[e])}return t}).apply(this,arguments)}function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,p){return(o=Object.setPrototypeOf||function(t,p){return t.__proto__=p,t})(t,p)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function d(t,e,r){return(d=c()?Reflect.construct:function(t,e,r){var a=[null];a.push.apply(a,e);var n=new(Function.bind.apply(t,a));return r&&o(n,r.prototype),n}).apply(null,arguments)}function l(t){var e="function"==typeof Map?new Map:void 0;return(l=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,c)}function c(){return d(t,arguments,n(this).constructor)}return c.prototype=Object.create(t.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),o(c,t)})(t)}var h=/%[sdj%]/g,f=function(){};function m(t){if(!t||!t.length)return null;var e={};return t.forEach((function(t){var r=t.field;e[r]=e[r]||[],e[r].push(t)})),e}function v(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=1,n=e[0],o=e.length;if("function"==typeof n)return n.apply(null,e.slice(1));if("string"==typeof n){var c=String(n).replace(h,(function(t){if("%%"===t)return"%";if(i>=o)return t;switch(t){case"%s":return String(e[i++]);case"%d":return Number(e[i++]);case"%j":try{return JSON.stringify(e[i++])}catch(t){return"[Circular]"}break;default:return t}}));return c}return n}function y(t,e){return null==t||(!("array"!==e||!Array.isArray(t)||t.length)||!(!function(t){return"string"===t||"url"===t||"hex"===t||"email"===t||"date"===t||"pattern"===t}(e)||"string"!=typeof t||t))}function _(t,e,r){var n=0,o=t.length;!function c(d){if(d&&d.length)r(d);else{var l=n;n+=1,l<o?e(t[l],c):r([])}}([])}void 0!==t&&t.env;var A=function(t){var e,r;function n(e,r){var n;return(n=t.call(this,"Async Validation Error")||this).errors=e,n.fields=r,n}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n}(l(Error));function w(t,option,e,r){if(option.first){var n=new Promise((function(n,o){_(function(t){var e=[];return Object.keys(t).forEach((function(r){e.push.apply(e,t[r])})),e}(t),e,(function(t){return r(t),t.length?o(new A(t,m(t))):n()}))}));return n.catch((function(t){return t})),n}var o=option.firstFields||[];!0===o&&(o=Object.keys(t));var c=Object.keys(t),d=c.length,l=0,h=[],f=new Promise((function(n,f){var v=function(t){if(h.push.apply(h,t),++l===d)return r(h),h.length?f(new A(h,m(h))):n()};c.length||(r(h),n()),c.forEach((function(r){var n=t[r];-1!==o.indexOf(r)?_(n,e,v):function(t,e,r){var n=[],o=0,c=t.length;function d(t){n.push.apply(n,t),++o===c&&r(n)}t.forEach((function(a){e(a,d)}))}(n,e,v)}))}));return f.catch((function(t){return t})),f}function C(t){return function(e){return e&&e.message?(e.field=e.field||t.fullField,e):{message:"function"==typeof e?e():e,field:e.field||t.fullField}}}function x(t,source){if(source)for(var s in source)if(source.hasOwnProperty(s)){var e=source[s];"object"==typeof e&&"object"==typeof t[s]?t[s]=r(r({},t[s]),e):t[s]=e}return t}function O(t,e,source,r,n,o){!t.required||source.hasOwnProperty(t.field)&&!y(e,o||t.type)||r.push(v(n.messages.required,t.fullField))}var pattern={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},k={integer:function(t){return k.number(t)&&parseInt(t,10)===t},float:function(t){return k.number(t)&&!k.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch(t){return!1}},date:function(t){return"function"==typeof t.getTime&&"function"==typeof t.getMonth&&"function"==typeof t.getYear&&!isNaN(t.getTime())},number:function(t){return!isNaN(t)&&"number"==typeof t},object:function(t){return"object"==typeof t&&!k.array(t)},method:function(t){return"function"==typeof t},email:function(t){return"string"==typeof t&&!!t.match(pattern.email)&&t.length<255},url:function(t){return"string"==typeof t&&!!t.match(pattern.url)},hex:function(t){return"string"==typeof t&&!!t.match(pattern.hex)}};var j={required:O,whitespace:function(t,e,source,r,n){(/^\s+$/.test(e)||""===e)&&r.push(v(n.messages.whitespace,t.fullField))},type:function(t,e,source,r,n){if(t.required&&void 0===e)O(t,e,source,r,n);else{var o=t.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?k[o](e)||r.push(v(n.messages.types[o],t.fullField,t.type)):o&&typeof e!==t.type&&r.push(v(n.messages.types[o],t.fullField,t.type))}},range:function(t,e,source,r,n){var o="number"==typeof t.len,c="number"==typeof t.min,d="number"==typeof t.max,l=e,h=null,f="number"==typeof e,m="string"==typeof e,y=Array.isArray(e);if(f?h="number":m?h="string":y&&(h="array"),!h)return!1;y&&(l=e.length),m&&(l=e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?l!==t.len&&r.push(v(n.messages[h].len,t.fullField,t.len)):c&&!d&&l<t.min?r.push(v(n.messages[h].min,t.fullField,t.min)):d&&!c&&l>t.max?r.push(v(n.messages[h].max,t.fullField,t.max)):c&&d&&(l<t.min||l>t.max)&&r.push(v(n.messages[h].range,t.fullField,t.min,t.max))},enum:function(t,e,source,r,n){t.enum=Array.isArray(t.enum)?t.enum:[],-1===t.enum.indexOf(e)&&r.push(v(n.messages.enum,t.fullField,t.enum.join(", ")))},pattern:function(t,e,source,r,n){if(t.pattern)if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(e)||r.push(v(n.messages.pattern.mismatch,t.fullField,e,t.pattern));else if("string"==typeof t.pattern){new RegExp(t.pattern).test(e)||r.push(v(n.messages.pattern.mismatch,t.fullField,e,t.pattern))}}};function P(t,e,r,source,n){var o=t.type,c=[];if(t.required||!t.required&&source.hasOwnProperty(t.field)){if(y(e,o)&&!t.required)return r();j.required(t,e,source,c,n,o),y(e,o)||j.type(t,e,source,c,n)}r(c)}var E={string:function(t,e,r,source,n){var o=[];if(t.required||!t.required&&source.hasOwnProperty(t.field)){if(y(e,"string")&&!t.required)return r();j.required(t,e,source,o,n,"string"),y(e,"string")||(j.type(t,e,source,o,n),j.range(t,e,source,o,n),j.pattern(t,e,source,o,n),!0===t.whitespace&&j.whitespace(t,e,source,o,n))}r(o)},method:function(t,e,r,source,n){var o=[];if(t.required||!t.required&&source.hasOwnProperty(t.field)){if(y(e)&&!t.required)return r();j.required(t,e,source,o,n),void 0!==e&&j.type(t,e,source,o,n)}r(o)},number:function(t,e,r,source,n){var o=[];if(t.required||!t.required&&source.hasOwnProperty(t.field)){if(""===e&&(e=void 0),y(e)&&!t.required)return r();j.required(t,e,source,o,n),void 0!==e&&(j.type(t,e,source,o,n),j.range(t,e,source,o,n))}r(o)},boolean:function(t,e,r,source,n){var o=[];if(t.required||!t.required&&source.hasOwnProperty(t.field)){if(y(e)&&!t.required)return r();j.required(t,e,source,o,n),void 0!==e&&j.type(t,e,source,o,n)}r(o)},regexp:function(t,e,r,source,n){var o=[];if(t.required||!t.required&&source.hasOwnProperty(t.field)){if(y(e)&&!t.required)return r();j.required(t,e,source,o,n),y(e)||j.type(t,e,source,o,n)}r(o)},integer:function(t,e,r,source,n){var o=[];if(t.required||!t.required&&source.hasOwnProperty(t.field)){if(y(e)&&!t.required)return r();j.required(t,e,source,o,n),void 0!==e&&(j.type(t,e,source,o,n),j.range(t,e,source,o,n))}r(o)},float:function(t,e,r,source,n){var o=[];if(t.required||!t.required&&source.hasOwnProperty(t.field)){if(y(e)&&!t.required)return r();j.required(t,e,source,o,n),void 0!==e&&(j.type(t,e,source,o,n),j.range(t,e,source,o,n))}r(o)},array:function(t,e,r,source,n){var o=[];if(t.required||!t.required&&source.hasOwnProperty(t.field)){if(null==e&&!t.required)return r();j.required(t,e,source,o,n,"array"),null!=e&&(j.type(t,e,source,o,n),j.range(t,e,source,o,n))}r(o)},object:function(t,e,r,source,n){var o=[];if(t.required||!t.required&&source.hasOwnProperty(t.field)){if(y(e)&&!t.required)return r();j.required(t,e,source,o,n),void 0!==e&&j.type(t,e,source,o,n)}r(o)},enum:function(t,e,r,source,n){var o=[];if(t.required||!t.required&&source.hasOwnProperty(t.field)){if(y(e)&&!t.required)return r();j.required(t,e,source,o,n),void 0!==e&&j.enum(t,e,source,o,n)}r(o)},pattern:function(t,e,r,source,n){var o=[];if(t.required||!t.required&&source.hasOwnProperty(t.field)){if(y(e,"string")&&!t.required)return r();j.required(t,e,source,o,n),y(e,"string")||j.pattern(t,e,source,o,n)}r(o)},date:function(t,e,r,source,n){var o=[];if(t.required||!t.required&&source.hasOwnProperty(t.field)){if(y(e,"date")&&!t.required)return r();var c;if(j.required(t,e,source,o,n),!y(e,"date"))c=e instanceof Date?e:new Date(e),j.type(t,c,source,o,n),c&&j.range(t,c.getTime(),source,o,n)}r(o)},url:P,hex:P,email:P,required:function(t,e,r,source,n){var o=[],c=Array.isArray(e)?"array":typeof e;j.required(t,e,source,o,n,c),r(o)},any:function(t,e,r,source,n){var o=[];if(t.required||!t.required&&source.hasOwnProperty(t.field)){if(y(e)&&!t.required)return r();j.required(t,e,source,o,n)}r(o)}};function D(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var L=D();function S(t){this.rules=null,this._messages=L,this.define(t)}S.prototype={messages:function(t){return t&&(this._messages=x(D(),t)),this._messages},define:function(t){if(!t)throw new Error("Cannot configure a schema with no rules");if("object"!=typeof t||Array.isArray(t))throw new Error("Rules must be an object");var e,r;for(e in this.rules={},t)t.hasOwnProperty(e)&&(r=t[e],this.rules[e]=Array.isArray(r)?r:[r])},validate:function(t,e,n){var o=this;void 0===e&&(e={}),void 0===n&&(n=function(){});var c,d,source=t,l=e,h=n;if("function"==typeof l&&(h=l,l={}),!this.rules||0===Object.keys(this.rules).length)return h&&h(),Promise.resolve();if(l.messages){var f=this.messages();f===L&&(f=D()),x(f,l.messages),l.messages=f}else l.messages=this.messages();var y={};(l.keys||Object.keys(this.rules)).forEach((function(e){c=o.rules[e],d=source[e],c.forEach((function(n){var c=n;"function"==typeof c.transform&&(source===t&&(source=r({},source)),d=source[e]=c.transform(d)),(c="function"==typeof c?{validator:c}:r({},c)).validator=o.getValidationMethod(c),c.field=e,c.fullField=c.fullField||e,c.type=o.getType(c),c.validator&&(y[e]=y[e]||[],y[e].push({rule:c,value:d,source:source,field:e}))}))}));var _={};return w(y,l,(function(data,t){var e,n=data.rule,o=!("object"!==n.type&&"array"!==n.type||"object"!=typeof n.fields&&"object"!=typeof n.defaultField);function c(t,e){return r(r({},e),{},{fullField:n.fullField+"."+t})}function d(e){void 0===e&&(e=[]);var d=e;if(Array.isArray(d)||(d=[d]),!l.suppressWarning&&d.length&&S.warning("async-validator:",d),d.length&&void 0!==n.message&&(d=[].concat(n.message)),d=d.map(C(n)),l.first&&d.length)return _[n.field]=1,t(d);if(o){if(n.required&&!data.value)return void 0!==n.message?d=[].concat(n.message).map(C(n)):l.error&&(d=[l.error(n,v(l.messages.required,n.field))]),t(d);var h={};if(n.defaultField)for(var f in data.value)data.value.hasOwnProperty(f)&&(h[f]=n.defaultField);for(var m in h=r(r({},h),data.rule.fields))if(h.hasOwnProperty(m)){var y=Array.isArray(h[m])?h[m]:[h[m]];h[m]=y.map(c.bind(null,m))}var A=new S(h);A.messages(l.messages),data.rule.options&&(data.rule.options.messages=l.messages,data.rule.options.error=l.error),A.validate(data.value,data.rule.options||l,(function(e){var r=[];d&&d.length&&r.push.apply(r,d),e&&e.length&&r.push.apply(r,e),t(r.length?r:null)}))}else t(d)}o=o&&(n.required||!n.required&&data.value),n.field=data.field,n.asyncValidator?e=n.asyncValidator(n,data.value,d,data.source,l):n.validator&&(!0===(e=n.validator(n,data.value,d,data.source,l))?d():!1===e?d(n.message||n.field+" fails"):e instanceof Array?d(e):e instanceof Error&&d(e.message)),e&&e.then&&e.then((function(){return d()}),(function(t){return d(t)}))}),(function(t){!function(t){var i,e,r,n=[],o={};for(i=0;i<t.length;i++)e=t[i],r=void 0,Array.isArray(e)?n=(r=n).concat.apply(r,e):n.push(e);n.length?o=m(n):(n=null,o=null),h(n,o)}(t)}))},getType:function(t){if(void 0===t.type&&t.pattern instanceof RegExp&&(t.type="pattern"),"function"!=typeof t.validator&&t.type&&!E.hasOwnProperty(t.type))throw new Error(v("Unknown rule type %s",t.type));return t.type||"string"},getValidationMethod:function(t){if("function"==typeof t.validator)return t.validator;var e=Object.keys(t),r=e.indexOf("message");return-1!==r&&e.splice(r,1),1===e.length&&"required"===e[0]?E.required:E[this.getType(t)]||!1}},S.register=function(t,e){if("function"!=typeof e)throw new Error("Cannot register a validator by type, validator is not a function");E[t]=e},S.warning=f,S.messages=L,S.validators=E,e.a=S}).call(this,r(160))},924:function(t,e,r){},925:function(t,e,r){},926:function(t,e,r){},927:function(t,e,r){},928:function(t,e,r){},929:function(t,e,r){},930:function(t,e,r){},931:function(t,e,r){},932:function(t,e,r){"use strict";r.r(e);var n={name:"ProductItem",props:{item:{type:Object,default:function(){}}},data:function(){return{}}},o=(r(951),r(11)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.item?r("a",{staticClass:"product-container",attrs:{href:t.item.detailContent,target:"_blank",el:"nofollow"}},[r("el-image",{staticClass:"image",attrs:{src:t.item.imagePath,alt:t.item.title,fit:"cover"}},[r("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[r("i",{staticClass:"el-icon-loading"})])]),t._v(" "),r("div",{staticClass:"info"},[r("div",{staticClass:"info-header"},[r("div",{staticClass:"title"},[t._v(t._s(t.item.title))]),t._v(" "),t.item.price>0?r("div",{staticClass:"price"},[t._v(t._s(t.$t("post.yuanItem")+t.item.price+t.$t("post.yuan")))]):t._e()]),t._v(" "),r("div",{staticClass:"btn"},[r("svg-icon",{staticClass:"icon",attrs:{type:"product-icon"}}),t._v(t._s(t.$t("post.buyProudct")))],1)])],1):t._e()}),[],!1,null,"2fed8472",null);e.default=component.exports;installComponents(component,{SvgIcon:r(62).default})},933:function(t,e,r){"use strict";r.r(e);r(13),r(108);var n={name:"AudioPlayer",props:{file:{type:Object,default:function(){}},currentAudio:{type:Object,default:function(){}}},data:function(){return{onDragging:!1,delta:0}},computed:{currentFile:function(){return this.currentAudio.id===this.file.pid},playing:function(){return this.currentAudio.currentTime&&this.currentAudio.duration}},methods:{formatDuration:function(t){var e=Math.floor(t/60),r=(t-60*e).toString().substr(0,2);return"."===r[1]&&(r="0".concat(r[0])),"".concat(e,":").concat(r)},formatCurrentTime:function(t){var e=parseInt(t/60)%60,r=(t%60).toFixed(),n=e<10?"0".concat(e):e,s=r<10?"0".concat(r):r;return"".concat(n,":").concat(s)},convertToPercentage:function(){return this.currentAudio.currentTime/this.currentAudio.duration*100},onmousedown:function(){window.document.addEventListener("mousemove",this.dragging),window.document.addEventListener("mouseup",this.onMouseUp)},dragging:function(t){this.delta=t.clientX-this.$refs.progress.getBoundingClientRect().x,this.delta<0&&(this.delta=0),this.delta>290&&(this.delta=290);var time=this.delta/290*this.currentAudio.duration;this.$emit("seeking",time)},onMouseUp:function(){var time=this.delta/290*this.currentAudio.duration;this.$emit("seek",time),window.document.removeEventListener("mousemove",this.dragging),window.document.removeEventListener("mouseup",this.onMouseUp)}}},o=(r(952),r(11)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"audio"},[t.currentFile&&t.currentAudio.isLoading?r("div",{staticClass:"control"},[r("svg-icon",{staticStyle:{"font-size":"32px"},attrs:{type:"loading",rotate:""}})],1):t.currentFile&&t.currentAudio.isPlay?r("div",{staticClass:"control",on:{click:function(e){return t.$emit("pause")}}},[r("svg-icon",{staticStyle:{"font-size":"32px"},attrs:{type:"audio-pause"}})],1):r("div",{staticClass:"control",on:{click:function(e){return t.$emit("play",t.file)}}},[r("svg-icon",{staticStyle:{"font-size":"32px"},attrs:{type:"audio-play"}})],1),t._v(" "),r("div",{staticClass:"info"},[r("div",{staticClass:"title"},[r("span",{staticClass:"title-audio"},[t._v(t._s(t.file.fileName))]),t._v(" "),t.currentFile&&t.playing?r("span",{staticClass:"duration-audio"},[t._v("\n        "+t._s(t.formatCurrentTime(t.currentAudio.currentTime))+" /\n        "+t._s(t.formatDuration(t.currentAudio.duration))+"\n      ")]):r("span",{staticClass:"duration-audio"},[t._v("--:--")])]),t._v(" "),t.currentFile&&t.playing?r("div",{ref:"progress",staticClass:"progress",attrs:{id:"progress"}},[r("div",{staticClass:"progress-item",style:{width:t.convertToPercentage()+"%"}}),t._v(" "),r("div",{staticClass:"control-ball",style:{left:t.convertToPercentage()+"%"},attrs:{id:"control-ball"},on:{mousedown:t.onmousedown}})]):t._e()])])}),[],!1,null,"89dfe4f4",null);e.default=component.exports;installComponents(component,{SvgIcon:r(62).default})},948:function(t,e,r){var n=r(793);t.exports={methods:{handleThreadList:function(t,data,e){if(Array.isArray(data)){this.newData=t,this.hasMore=t.currentPage<t.totalPage;var r=n(data);1===this.pageNum&&this.threadIdSet.clear();for(var i=0;i<r.length;i++)r[i]&&r[i].thread.pid&&(this.threadIdSet.has(r[i].thread.pid)?(r.splice(i,1),i--):this.threadIdSet.add(r[i].thread.pid));this.threadCount=t.totalCount||0,1===this.pageNum?this[e]=r:this[e]=[].concat(n(this[e]),n(r)),t&&(this.hasMore=t.currentPage<t.totalPage),this.pageNum+=1}}}}},949:function(t,e,r){"use strict";r(924)},950:function(t,e,r){"use strict";r(925)},951:function(t,e,r){"use strict";r(926)},952:function(t,e,r){"use strict";r(927)},953:function(t,e,r){"use strict";r(928)},954:function(t,e,r){"use strict";r(929)},955:function(t,e,r){"use strict";r(930)},956:function(t,e,r){"use strict";r(931)},961:function(t,e,r){"use strict";r.r(e);r(39);var n={name:"IndexFilter",props:{showSort:{type:Boolean,default:!1}},data:function(){return{filterQuery:[{label:"默认",value:"isSort",isShow:!1},{label:this.$t("home.all"),value:"",isShow:!0},{label:this.$t("home.essence"),value:"isEssence",isShow:!0},{label:this.$t("home.followed"),value:"followed",isShow:!1}],filterType:[{label:this.$t("home.noLimit"),value:""},{label:this.$t("home.text"),value:0},{label:this.$t("home.invitation"),value:1},{label:this.$t("home.video"),value:2},{label:this.$t("home.picture"),value:3},{label:this.$t("home.voice"),value:4},{label:this.$t("home.question"),value:5},{label:this.$t("home.product"),value:6}],filterSort:[{label:this.$t("home.noLimit"),value:""},{label:this.$t("home.sortCreatedAt"),value:"-createdAt"},{label:this.$t("home.sortUpdatedAt"),value:"-updatedAt"}],query:{filter:"",filterType:"",filterSort:""}}},computed:{userId:function(){return this.$store.getters["session/get"]("userId")}},watch:{userId:function(t){this.filterQuery[3].isShow=t>0},showSort:function(t){t?(this.filterQuery[0].isShow=!0,this.query.filter="isSort"):(this.filterQuery[0].isShow=!1,this.query.filter="")}},mounted:function(){this.userId>0?this.filterQuery[3].isShow=!0:this.filterQuery[3].isShow=!1,this.showSort?(this.filterQuery[0].isShow=!0,this.query.filter="isSort"):(this.filterQuery[0].isShow=!1,this.query.filter="")},methods:{onClickFilter:function(t){"followed"!==t||this.userId&&0!=+this.userId?(this.query.filter=t,this.$emit("onChangeFilter",t)):this.$message.error(this.$t("core.not_authenticated"))},handleCommandType:function(t){this.query.filterType=t,this.$emit("onChangeType",t)},handleCommandSort:function(t){this.query.filterSort=t,this.$emit("onChangeSort",t)}}},o=(r(949),r(11)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"index-top-conttainer"},[r("div",{staticClass:"index-filter"},[t._l(t.filterQuery,(function(e,n){return[e.isShow?r("div",{key:n,staticClass:"filter-btn",class:{active:t.query.filter===e.value},on:{click:function(r){return t.onClickFilter(e.value)}}},[t._v("\n        "+t._s(e.label)+"\n      ")]):t._e()]})),t._v(" "),r("el-dropdown",{staticClass:"filter-dropdown",attrs:{placement:"bottom"},on:{command:t.handleCommandType}},[r("span",{staticClass:"el-dropdown-link",class:{active:""!==t.query.filterType}},[t._v("\n        "+t._s(t.$t("home.filterType"))),r("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.filterType,(function(e,n){return r("el-dropdown-item",{key:n,class:{active:e.value===t.query.filterType},attrs:{command:e.value}},[t._v("\n          "+t._s(e.label)+"\n        ")])})),1)],1),t._v(" "),r("el-dropdown",{staticClass:"filter-dropdown",attrs:{placement:"bottom"},on:{command:t.handleCommandSort}},[r("span",{staticClass:"el-dropdown-link",class:{active:""!==t.query.filterSort}},[t._v("\n        "+t._s(t.$t("core.sort"))),r("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.filterSort,(function(e,n){return r("el-dropdown-item",{key:n,class:{active:e.value===t.query.filterSort},attrs:{command:e.value}},[t._v("\n          "+t._s(e.label)+"\n        ")])})),1)],1)],2),t._v(" "),r("create-post-popover")],1)}),[],!1,null,"848983b0",null);e.default=component.exports;installComponents(component,{CreatePostPopover:r(902).default})},962:function(t,e,r){"use strict";r.r(e);r(13),r(24);var n=r(724),time=r(717),o=r(731),c=r(715),d=r.n(c),l=r(158),h=r.n(l),f={name:"PostItems",filters:{formatDate:function(t){return Object(time.b)(t)}},mixins:[d.a,h.a],props:{item:{type:Object,default:function(){}},showLike:{type:Boolean,default:!0},showComment:{type:Boolean,default:!0},showShare:{type:Boolean,default:!0},lazy:{type:Boolean,default:!0},infoimage:{type:Boolean,default:!1},canDetail:{type:Boolean,default:!1},padding:{type:String,default:"20.5px 20px 30px"}},data:function(){return{loading:!1,showVideoPop:!1,isLiked:!1,currentAudio:{id:"",url:"",currentTime:"",duration:"",audio:"",seeking:!1,isPlay:!1,isLoading:!1}}},computed:{unpaid:function(){return!(this.item.thread.paid||0===parseFloat(this.item.thread.price))},forums:function(){return this.$store.state.site.info.attributes||{}}},watch:{item:{handler:function(t){this.isLiked=t.thread&&t.thread.isLiked,this.likeCount=t.thread&&t.thread.likedCount},deep:!0,immediate:!0}},mounted:function(){this.currentAudio.audio=document.getElementById("audio-players".concat(this.item&&this.item.thread&&this.item.thread.pid))},methods:{handleLike:function(){var t=this;if(this.$store.getters["session/get"]("isLogin")){if(this.loading)return;if(!this.item.thread.canLike)return void this.$message.error(this.$t("topic.noThreadLikePermission"));this.loading=!0;var e=!this.isLiked,r={_jv:{type:"posts",id:this.item.thread&&this.item.thread.firstPostId},isLiked:e};return this.$store.dispatch("jv/patch",r).then((function(){t.$message.success(e?t.$t("discuzq.msgBox.likeSuccess"):t.$t("discuzq.msgBox.cancelLikeSuccess")),e?t.likeCount+=1:t.likeCount-=1,t.isLiked=e,t.$emit("change")}),(function(e){t.handleError(e)})).finally((function(){t.loading=!1}))}this.$message.warning("请登录"),window.setTimeout((function(){t.headerTologin()}),1e3)},toDetail:function(){this.item.thread.isDraft||this.canViewPostsFn()&&this.routerLink()},onClickImage:function(){this.unpaid&&this.canViewPostsFn()&&this.routerLink()},openVideo:function(){this.canViewPostsFn()&&(this.unpaid?this.routerLink():"/"===this.$route.path||"/site/search"===this.$route.path||"category-id"===this.$route.name?this.$emit("showVideoFn",this.item.thread.extension.video):this.showVideoPop=!0)},routerLink:function(){window.open("/thread/".concat(this.item.thread&&this.item.thread.pid),"_blank")},onClickContent:function(t){if(!this.item.thread.isDraft){var e=t||window.event;"a"!==(e.target||e.srcElement).nodeName.toLocaleLowerCase()&&this.toDetail()}},canViewPostsFn:function(){var t=this;return this.item.thread.canViewPost?!this.canDetail||(this.$message.warning(this.$t("topic.joinAfterView")),!1):(this.$store.getters["session/get"]("isLogin")?this.$message.warning(this.$t("home.noPostingTopic")):(this.$message.warning(this.$t("core.not_authenticated")),window.setTimeout((function(){t.headerTologin()}),1e3)),!1)},formatTopicHTML:function(html){return n.a.parse(html)},extensionValidate:function(t){return o.extensionList.indexOf(t.toUpperCase())>0?t.toUpperCase():"UNKNOWN"},play:function(t){var e=this;this.unpaid?this.routerLink():this.canViewPostsFn()&&this.currentAudio.audio&&(this.currentAudio.id!==t.pid&&(this.resetAudio(this.currentAudio.audio),this.currentAudio.url=t.coverUrl||t.mediaUrl,this.currentAudio.id=t.pid,this.currentAudio.audio.src=this.currentAudio.url,this.currentAudio.isLoading=!0,this.currentAudio.audio.load()),window.setTimeout((function(){e.currentAudio.audio.play(),e.currentAudio.isPlay=!0,e.currentAudio.audio.addEventListener("timeupdate",e.onProgressing),e.currentAudio.audio.addEventListener("ended",e.onEnded),e.$emit("audioPlay",e.currentAudio.id)}),0))},onProgressing:function(){this.currentAudio.seeking||(this.currentAudio.isLoading=!1,this.currentAudio.duration=this.currentAudio.audio.duration,this.currentAudio.currentTime=this.currentAudio.audio.currentTime)},onEnded:function(){this.resetAudio(this.currentAudio.audio)},resetAudio:function(audio){audio&&(audio.removeEventListener("timeupdate",this.onProgressing),audio.removeEventListener("ended",this.onEnded),this.currentAudio.isPlay=!1,this.currentAudio.duration="",this.currentAudio.currentTime="")},pause:function(){this.currentAudio.audio&&(this.currentAudio.isLoading=!1,this.currentAudio.isPlay=!1,this.currentAudio.audio.pause())},seek:function(time){this.currentAudio.audio&&(this.currentAudio.seeking=!1,this.currentAudio.currentTime=time,this.currentAudio.audio.currentTime=time)},seeking:function(time){this.currentAudio.seeking=!0,this.currentAudio.currentTime=time}}},m=(r(950),r(11)),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"post-container",style:{padding:t.padding}},[t.item.thread.isEssence?r("div",{staticClass:"essence"},[r("svg-icon",{attrs:{type:"index-essence"}})],1):t._e(),t._v(" "),5===t.item.thread.type&&t.item.thread.extension.question&&1===t.item.thread.extension.question.isAnswer?r("avatar",{staticClass:"avatar",attrs:{user:{id:t.item.thread.extension.question.beUserId,username:t.item.thread.extension.question.beUserName},"prevent-jump":t.canDetail}}):t.item.user?r("avatar",{staticClass:"avatar",attrs:{user:{id:t.item.user.pid,username:t.item.user.userName,avatarUrl:t.item.user.avatar,isReal:t.item.user.isRealName},"prevent-jump":t.canDetail}}):t._e(),t._v(" "),r("div",{staticClass:"main-cont"},[r("div",{staticClass:"top-flex"},[r("div",{staticClass:"top-user-info"},[5===t.item.thread.type&&t.item.thread.extension.question&&1===t.item.thread.extension.question.isAnswer?r("nuxt-link",{staticClass:"user-info",attrs:{to:t.item.user.pid>0?"/user/"+t.item.thread.extension.question.beUserId:""}},[r("span",{staticClass:"user-name"},[t._v(t._s(t.item.thread.extension.question.beUserName))]),t._v(" "),t.item.thread.extension&&t.item.thread.extension.question&&t.item.thread.extension.question.group&&t.item.thread.extension.question.group.isDisplay?r("span",{staticClass:"admin"},[t._v("\n            ("+t._s(t.item.thread.extension.question.group.groupName)+")\n          ")]):t._e()]):t.item.user?r("nuxt-link",{staticClass:"user-info",attrs:{to:t.item.user.pid>0?"/user/"+t.item.user.pid:""}},[r("span",{staticClass:"user-name"},[t._v(t._s(t.item.user.userName))]),t._v(" "),t.item.group?r("span",{staticClass:"admin"},[t._v("\n            "+t._s(t.item.group.isDisplay?"("+t.item.group.groupName+")":"")+"\n          ")]):t._e()]):t._e(),t._v(" "),5===t.item.thread.type&&t.item.thread.extension.question&&1===t.item.thread.extension.question.isAnswer?r("div",{staticClass:"answered"},[t._v("\n          "+t._s(t.$t("topic.answered"))+"\n        ")]):t._e()],1),t._v(" "),r("div",{staticClass:"time"},[t.item.thread.createdAt?[t._v(t._s(t.$t("topic.publishAt"))+"\n          "+t._s(t._f("formatDate")(t.item.thread.createdAt)))]:t._e()],2)]),t._v(" "),5===t.item.thread.type?r("div",{staticClass:"question-user"},[t.item.thread.extension.question&&0===t.item.thread.extension.question.isAnswer?[t._v("\n        "+t._s(t.$t("topic.be"))+"\n        "),t.item.thread.extension.question?r("nuxt-link",{staticClass:"grey",attrs:{to:t.item.thread.extension.question.beUserId>0?"/user/"+t.item.thread.extension.question.beUserId:""}},[t._v("@"+t._s(t.item.thread.extension.question.beUserName))]):t._e(),t._v("\n        "+t._s(t.$t("topic.question"))+"\n      ")]:t._e(),t._v(" "),t.item.thread.extension.question&&1===t.item.thread.extension.question.isAnswer?[t._v("\n        "+t._s(t.$t("topic.answer"))+"\n        "),t.item.user?r("nuxt-link",{staticClass:"grey",attrs:{to:t.item.user.pid>0?"/user/"+t.item.user.pid:""}},[t._v("@"+t._s(t.item.user.userName))]):t._e(),t._v("\n        "+t._s(t.$t("topic.of"))+t._s(t.$t("topic.question"))+"\n      ")]:t._e()],2):t._e(),t._v(" "),[r("div",{staticClass:"first-post",on:{click:function(e){return e.target!==e.currentTarget?null:t.toDetail(e)}}},[r("a",{attrs:{href:"/thread/"+(t.item&&t.item.thread.pid)},on:{click:function(e){return e.preventDefault(),t.onClickContent(e)}}},[1===t.item.thread.type?r("div",{staticClass:"title"},[t._v("\n            "+t._s(t.$t("home.released"))+"\n            "),r("svg-icon",{directives:[{name:"show",rawName:"v-show",value:parseFloat(t.item.thread.price)>0||parseFloat(t.item.thread.attachmentPrice)>0,expression:"\n                parseFloat(item.thread.price) > 0 ||\n                  parseFloat(item.thread.attachmentPrice) > 0\n              "}],staticClass:"blue icon-pay-yuan-inline",attrs:{type:"pay-yuan"}}),t._v(" "),r("span",{staticClass:"blue"},[t._v(t._s(t.item.thread.title))])],1):r("div",{staticClass:"content"},[5===t.item.thread.type?r("svg-icon",{staticClass:"icon-pay-yuan blue",attrs:{type:"question-icon"}}):6===t.item.thread.type?r("svg-icon",{staticClass:"icon-pay-yuan blue",attrs:{type:"product-icon"}}):parseFloat(t.item.thread.price)>0||parseFloat(t.item.thread.attachmentPrice)>0?r("svg-icon",{staticClass:"icon-pay-yuan grey",attrs:{type:"pay-yuan"}}):t._e(),t._v(" "),r("div",{class:{"content-block":5===t.item.thread.type||6===t.item.thread.type||parseFloat(t.item.thread.price)>0,blue:5===t.item.thread.type},domProps:{innerHTML:t._s(t.$xss(t.formatTopicHTML(t.item.thread.summary)))}})],1)]),t._v(" "),t.item.attachment&&t.item.attachment.length>0?r("div",{directives:[{name:"viewer",rawName:"v-viewer",value:{url:"data-source"},expression:"{ url: 'data-source' }"}],staticClass:"images",on:{click:function(e){return e.target!==e.currentTarget?null:t.toDetail(e)}}},t._l(t.item.attachment.slice(0,3),(function(image,e){return r("el-image",{key:e,class:{image:!0,infoimage:t.infoimage},attrs:{src:image.thumbUrl,"data-source":t.unpaid?"":image.url,alt:image.filename,fit:"cover",lazy:t.lazy},on:{click:function(e){return e.target!==e.currentTarget?null:t.onClickImage(e)}}},[r("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[r("i",{staticClass:"el-icon-loading"})])])})),1):t._e(),t._v(" "),t.item.attachment&&t.item.attachment.length>3?r("div",{staticClass:"image-count",on:{click:t.toDetail}},[t._v("\n          "+t._s(t.$t("home.total"))+" "+t._s(t.item.attachment.length)+"\n          "+t._s(t.$t("home.seeAllImage"))+"\n        ")]):t._e(),t._v(" "),2===t.item.thread.type&&t.item.thread.extension.video?r("div",{staticClass:"video-main",on:{click:function(e){return e.stopPropagation(),t.openVideo(e)}}},[t.item.thread.extension.video.coverUrl?r("el-image",{staticClass:"video-img-cover",attrs:{src:t.item.thread.extension.video.coverUrl,alt:t.item.thread.extension.video.fileName,fit:"cover",lazy:t.lazy}}):r("div",{staticClass:"no-cover"},[t._v(t._s(t.$t("home.noPoster")))]),t._v(" "),r("svg-icon",{staticClass:"video-play",attrs:{type:"video-play"}})],1):t._e(),t._v(" "),t.item.attachments&&t.item.attachments.length>0?r("div",{staticClass:"attachment",on:{click:t.toDetail}},[r("svg-icon",{attrs:{type:t.extensionValidate(t.item.attachments[0].extension)}}),t._v(" "),r("div",{staticClass:"name text-hidden"},[t._v("\n            "+t._s(t.item.attachments[0].fileName)+"\n          ")]),t._v(" "),t.item.attachments.length>1?r("div",{staticClass:"total"},[t._v("\n            "+t._s(t.$t("home.etc")+t.item.attachments.length+t.$t("home.attachmentTotal"))+"\n          ")]):t._e()],1):t._e()]),t._v(" "),6===t.item.thread.type?r("product-items",{attrs:{item:t.item.thread.extension&&t.item.thread.extension.goods}}):t._e(),t._v(" "),4===t.item.thread.type?r("div",{on:{click:function(e){return e.target!==e.currentTarget?null:t.toDetail(e)}}},[r("audio-players",{attrs:{file:t.item.thread&&t.item.thread.extension&&t.item.thread.extension.video,"current-audio":t.currentAudio},on:{play:t.play,pause:t.pause,seek:t.seek,seeking:t.seeking}}),t._v(" "),r("audio",{staticClass:"audio-players",staticStyle:{display:"none"},attrs:{id:"audio-players"+(t.item.thread&&t.item.thread.pid),src:t.currentAudio.url}})],1):t._e(),t._v(" "),t.item.thread.location?r("nuxt-link",{staticClass:"location",attrs:{to:"/topic/position?longitude="+t.item.thread.longitude+"&latitude="+t.item.thread.latitude}},[r("span",{staticClass:"flex"},[r("svg-icon",{staticClass:"icon",attrs:{type:"location"}}),t._v("\n          "+t._s(t.item.thread.location)+"\n        ")],1)]):t._e(),t._v(" "),t.canDetail?t._e():r("div",{staticClass:"bottom-handle"},[r("div",{staticClass:"left"},[t.showLike?r("div",{staticClass:"btn like",class:{liked:t.isLiked},on:{click:t.handleLike}},[r("svg-icon",{staticClass:"icon",attrs:{type:"like"},on:{click:t.handleLike}}),t._v("\n            "+t._s(t.isLiked?t.$t("topic.liked"):t.$t("topic.like"))+"\n            "+t._s(t.likeCount>0?t.likeCount:"")+"\n          ")],1):t._e(),t._v(" "),t.showComment?r("div",{staticClass:"btn comment",on:{click:t.toDetail}},[r("svg-icon",{staticClass:"icon",attrs:{type:"post-comment"}}),t._v("\n            "+t._s(t.$t("topic.comment"))+"\n            "+t._s(t.item.thread.postCount>0?t.item.thread.postCount:"")+"\n          ")],1):t._e(),t._v(" "),t.item.thread&&t.item.thread.pid&&t.showShare?r("share-popover",{attrs:{"threads-id":t.item.thread.pid}},[r("div",{staticClass:"btn share"},[r("svg-icon",{staticClass:"icon",attrs:{type:"link"}}),t._v("\n              "+t._s(t.$t("topic.share"))+"\n            ")],1)]):t._e(),t._v(" "),t._t("btn-edit"),t._v(" "),t._t("btn-delete")],2),t._v(" "),t._t("bottom-right")],2)]],2),t._v(" "),t.showVideoPop?r("video-pop",{attrs:{"cover-url":t.item.thread.extension.video.coverUrl,url:t.item.thread.extension.video.mediaUrl},on:{remove:function(e){t.showVideoPop=!1}}}):t._e()],1)}),[],!1,null,"03020040",null);e.default=component.exports;installComponents(component,{SvgIcon:r(62).default,Avatar:r(254).default,ProductItems:r(932).default,AudioPlayers:r(933).default,SharePopover:r(740).default,VideoPop:r(725).default})},963:function(t,e,r){"use strict";r.r(e);var n=r(85),o=(r(24),r(715)),c=r.n(o),d=r(884),l={name:"Category",mixins:[c.a],props:{postLoading:{type:Boolean,default:!1},list:{type:Array,default:function(){return[]}}},data:function(){return{categoryList:[],selectId:0,selectId_parent:0}},watch:{list:{handler:function(t){0===this.categoryList.length&&this.handleData(t)},deep:!0}},mounted:function(){0===this.categoryList.length&&this.getCategoryList(),this.$route.params.id&&(this.selectId=+this.$route.params.id)},methods:{getCategoryList:function(){var t=this;d.a.readCategories().then((function(e){var r=Object(n.a)(e.Data)||[];t.handleData(r)}),(function(e){t.handleError(e)}))},handleData:function(data){var t=this,e=0;this.categoryList=[],data.forEach((function(r){var n=!1,o=[];e+=r.threadCount,r.children&&r.children.length>0&&(n=!0,r.children.forEach((function(t){o.push({id:parseInt(t.pid),search_ids:t.searchIds,name:t.name,thread_count:t.threadCount})}))),t.categoryList.push({id:parseInt(r.pid),search_ids:r.searchIds,name:r.name,thread_count:r.threadCount,hasChild:n,children:o})})),this.categoryList.unshift({id:0,search_ids:"0",name:this.$t("topic.whole"),thread_count:e}),this.categoryList.forEach((function(e){e.id===t.selectId?t.selectId_parent=e.id:e.children&&e.children.forEach((function(r){r.id===t.selectId&&(t.selectId_parent=e.id)}))}))},onChange:function(t,e,r){this.postLoading||(this.selectId=t,this.selectId_parent=e,this.$emit("onChange",{id:t,search_ids:r}))}}},h=(r(953),r(11)),component=Object(h.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.categoryList&&t.categoryList.length>0?r("div",{staticClass:"category-container"},t._l(t.categoryList,(function(e,n){return r("div",{key:n},[r("div",{staticClass:"category-item",class:{active:t.selectId===e.id||t.selectId_parent===e.id,loading:t.postLoading},on:{click:function(r){return t.onChange(e.id,e.id,e.search_ids)}}},[t.selectId_parent===e.id?r("i",{staticClass:"el-icon-arrow-left arrow-icon"}):t._e(),t._v(" "),r("div",{staticClass:"title"},[t._v(t._s(e.name))]),t._v(" "),r("div",{staticClass:"count"},[t._v(t._s(e.thread_count))])]),t._v(" "),e.hasChild&&e.children.length>0?r("div",t._l(e.children,(function(n,o){return r("div",{directives:[{name:"show",rawName:"v-show",value:t.selectId_parent===e.id,expression:"selectId_parent === item.id"}],key:o,staticClass:"category-item category-item-sub",class:{active:t.selectId===n.id,loading:t.postLoading},on:{click:function(r){return t.onChange(n.id,e.id,n.search_ids)}}},[r("div",{staticClass:"title"},[t._v(t._s(n.name))]),t._v(" "),r("div",{staticClass:"count"},[t._v(t._s(n.thread_count))])])})),0):t._e()])})),0):t._e()}),[],!1,null,"2989a0a3",null);e.default=component.exports},964:function(t,e,r){"use strict";r.r(e);r(13),r(24);var n=r(724),time=r(717),o=r(731),c=r(715),d=r.n(c),l=r(158),h=r.n(l),f={name:"PostItemPays",filters:{formatDate:function(t){return Object(time.b)(t)}},mixins:[d.a,h.a],props:{item:{type:Object,default:function(){}},showLike:{type:Boolean,default:!0},showComment:{type:Boolean,default:!0},showShare:{type:Boolean,default:!0},lazy:{type:Boolean,default:!0},infoimage:{type:Boolean,default:!1},canDetail:{type:Boolean,default:!1},padding:{type:String,default:"20.5px 20px 30px"}},data:function(){return{loading:!1,showVideoPop:!1,isLiked:!1,currentAudio:{id:"",url:"",currentTime:"",duration:"",audio:"",seeking:!1,isPlay:!1,isLoading:!1}}},computed:{unpaid:function(){return!(this.item.thread.paid||0===parseFloat(this.item.thread.price))},forums:function(){return this.$store.state.site.info.attributes||{}}},watch:{item:{handler:function(t){this.isLiked=t.thread&&t.thread.isLiked,this.likeCount=t.thread&&t.thread.likedCount},deep:!0,immediate:!0}},mounted:function(){this.currentAudio.audio=document.getElementById("audio-players".concat(this.item&&this.item.thread&&this.item.thread.pid))},methods:{handleLike:function(){var t=this;if(this.$store.getters["session/get"]("isLogin")){if(this.loading)return;if(!this.item.thread.canLike)return void this.$message.error(this.$t("topic.noThreadLikePermission"));this.loading=!0;var e=!this.isLiked,r={_jv:{type:"posts",id:this.item.thread&&this.item.thread.firstPostId},isLiked:e};return this.$store.dispatch("jv/patch",r).then((function(){t.$message.success(e?t.$t("discuzq.msgBox.likeSuccess"):t.$t("discuzq.msgBox.cancelLikeSuccess")),e?t.likeCount+=1:t.likeCount-=1,t.isLiked=e,t.$emit("change")}),(function(e){t.handleError(e)})).finally((function(){t.loading=!1}))}this.$message.warning("请登录"),window.setTimeout((function(){t.headerTologin()}),1e3)},toDetail:function(){this.item.thread.isDraft||this.canViewPostsFn()&&this.routerLink()},onClickImage:function(){this.unpaid&&this.canViewPostsFn()&&this.routerLink()},openVideo:function(){this.canViewPostsFn()&&(this.unpaid?this.routerLink():"/"===this.$route.path||"/site/search"===this.$route.path||"category-id"===this.$route.name?this.$emit("showVideoFn",this.item.thread.extension.video):this.showVideoPop=!0)},routerLink:function(){window.open("/thread/".concat(this.item.thread&&this.item.thread.pid),"_blank")},onClickContent:function(t){if(!this.item.isDraft){var e=t||window.event;"a"!==(e.target||e.srcElement).nodeName.toLocaleLowerCase()&&this.toDetail()}},canViewPostsFn:function(){var t=this;return this.item.thread.canViewPost?!this.canDetail||(this.$message.warning(this.$t("topic.joinAfterView")),!1):(this.$store.getters["session/get"]("isLogin")?this.$message.warning(this.$t("home.noPostingTopic")):(this.$message.warning(this.$t("core.not_authenticated")),window.setTimeout((function(){t.headerTologin()}),1e3)),!1)},formatTopicHTML:function(html){return n.a.parse(html)},extensionValidate:function(t){return o.extensionList.indexOf(t.toUpperCase())>0?t.toUpperCase():"UNKNOWN"},play:function(t){var e=this;this.unpaid?this.routerLink():this.canViewPostsFn()&&this.currentAudio.audio&&(this.currentAudio.id!==t.pid&&(this.resetAudio(this.currentAudio.audio),this.currentAudio.url=t.coverUrl||t.mediaUrl,this.currentAudio.id=t.pid,this.currentAudio.audio.src=this.currentAudio.url,this.currentAudio.isLoading=!0,this.currentAudio.audio.load()),window.setTimeout((function(){e.currentAudio.audio.play(),e.currentAudio.isPlay=!0,e.currentAudio.audio.addEventListener("timeupdate",e.onProgressing),e.currentAudio.audio.addEventListener("ended",e.onEnded),e.$emit("audioPlay",e.currentAudio.id)}),0))},onProgressing:function(){this.currentAudio.seeking||(this.currentAudio.isLoading=!1,this.currentAudio.duration=this.currentAudio.audio.duration,this.currentAudio.currentTime=this.currentAudio.audio.currentTime)},onEnded:function(){this.resetAudio(this.currentAudio.audio)},resetAudio:function(audio){audio&&(audio.removeEventListener("timeupdate",this.onProgressing),audio.removeEventListener("ended",this.onEnded),this.currentAudio.isPlay=!1,this.currentAudio.duration="",this.currentAudio.currentTime="")},pause:function(){this.currentAudio.audio&&(this.currentAudio.isLoading=!1,this.currentAudio.isPlay=!1,this.currentAudio.audio.pause())},seek:function(time){this.currentAudio.audio&&(this.currentAudio.seeking=!1,this.currentAudio.currentTime=time,this.currentAudio.audio.currentTime=time)},seeking:function(time){this.currentAudio.seeking=!0,this.currentAudio.currentTime=time}}},m=(r(954),r(11)),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"add-padding-line"},[n("div",{staticClass:"post-container"},[t.item.thread.isEssence?n("div",{staticClass:"essence"},[n("img",{attrs:{src:r(755),alt:""}})]):t._e(),t._v(" "),n("div",{staticClass:"post-header"},[5===t.item.thread.type&&t.item.thread.extension.question&&1===t.item.thread.extension.question.isAnswer?n("avatar",{staticClass:"avatar",attrs:{user:{id:t.item.thread.extension.question.beUserId,username:t.item.thread.extension.question.beUserName},size:"40",round:!0,"prevent-jump":t.canDetail}}):t.item.user?n("avatar",{staticClass:"avatar",attrs:{user:{id:t.item.user.pid,username:t.item.user.userName,avatarUrl:t.item.user.avatar,isReal:t.item.user.isRealName},size:"40",round:!0,"prevent-jump":t.canDetail}}):t._e(),t._v(" "),5===t.item.thread.type&&t.item.thread.extension.question&&1===t.item.thread.extension.question.isAnswer?n("nuxt-link",{staticClass:"user-info",attrs:{to:t.item.user.pid>0?"/user/"+t.item.thread.extension.question.beUserId:""}},[n("span",{staticClass:"user-name"},[t._v(t._s(t.item.thread.extension.question.beUserName))]),t._v(" "),t.item.thread.extension&&t.item.thread.extension.question&&t.item.thread.extension.question.group&&t.item.thread.extension.question.group.isDisplay?n("span",{staticClass:"admin"},[t._v("\n          ("+t._s(t.item.thread.extension.question.group.groupName)+")\n        ")]):t._e()]):t.item.user?n("nuxt-link",{staticClass:"user-info",attrs:{to:t.item.user.pid>0?"/user/"+t.item.user.pid:""}},[n("span",{staticClass:"user-name"},[t._v(t._s(t.item.user.userName))]),t._v(" "),t.item.group?n("span",{staticClass:"admin"},[t._v("\n          "+t._s(t.item.group.isDisplay?"("+t.item.group.groupName+")":"")+"\n        ")]):t._e()]):t._e(),t._v(" "),5===t.item.type&&t.item.thread.extension.question&&1===t.item.thread.extension.question.isAnswer?n("div",{staticClass:"answered"},[t._v(t._s(t.$t("topic.answered")))]):t._e()],1),t._v(" "),n("div",{staticClass:"post-content"},[n("div",{staticClass:"first-post",on:{click:function(e){return e.target!==e.currentTarget?null:t.toDetail(e)}}},[n("div",{staticClass:"first-post-desc",on:{click:t.onClickContent}},[n("div",{staticClass:"first-post-desc__tips"},[0!==t.item.thread.type&&1!==t.item.thread.type||!t.item.thread.isRedPacket?t._e():n("img",{staticClass:"first-post-img",attrs:{src:r(742)}}),t._v(" "),5===t.item.thread.type&&t.item.rewards&&0===t.item.rewards.type?n("img",{staticClass:"first-post-img",attrs:{src:r(743)}}):5===t.item.thread.type?n("img",{staticClass:"first-post-img",attrs:{src:r(744)}}):t._e(),t._v(" "),6===t.item.thread.type?n("img",{staticClass:"first-post-img",attrs:{src:r(750)}}):t._e(),t._v(" "),7===t.item.thread.type?n("img",{staticClass:"first-post-img",attrs:{src:r(751)}}):t._e(),t._v(" "),1===t.item.thread.type?n("span",{staticClass:"first-post-tip"},[t._v(t._s(t.$t("home.releasedPost")))]):t._e(),t._v(" "),5===t.item.thread.type&&t.item.rewards&&0===t.item.rewards.type?n("span",{staticClass:"first-post-tip"},[t._v("【￥"+t._s(t.item.rewards.money)+"】")]):t._e(),t._v(" "),parseFloat(t.item.thread.price)>0||parseFloat(t.item.thread.attachmentPrice)>0?n("img",{staticClass:"first-post-coin",attrs:{src:r(763)}}):t._e()]),t._v(" "),1===t.item.thread.type?n("p",{staticClass:"content"},[t._v(t._s(t.item.thread.title))]):n("p",{staticClass:"content",domProps:{innerHTML:t._s(t.$xss(t.formatTopicHTML(t.item.thread.summary)))}}),t._v(" "),5===t.item.thread.type?n("span",[t.item.thread.extension&&t.item.thread.extension.question&&0===t.item.thread.extension.question.isAnswer?[t.item.thread.extension&&t.item.thread.extension.question&&t.item.thread.extension.question.beUserId?n("nuxt-link",{staticClass:"questioner",attrs:{to:t.item.thread.extension.question.beUserId>0?"/user/"+t.item.thread.extension.question.beUserId:""}},[t._v("@"+t._s(t.item.thread.extension.question.beUserName))]):t._e()]:t._e(),t._v(" "),t.item.thread.extension&&t.item.thread.extension.question&&1===t.item.thread.extension.question.isAnswer?[t.item.user?n("nuxt-link",{staticClass:"questioner",attrs:{to:t.item.user.pid>0?"/user/"+t.item.user.pid:""}},[t._v("@"+t._s(t.item.user.userName))]):t._e()]:t._e()],2):t._e()]),t._v(" "),t.item.attachment&&t.item.attachment.length>0?n("div",{directives:[{name:"viewer",rawName:"v-viewer",value:{url:"data-source"},expression:"{ url: 'data-source' }"}],staticClass:"images",on:{click:function(e){return e.target!==e.currentTarget?null:t.toDetail(e)}}},t._l(t.item.attachment.slice(0,3),(function(image,e){return n("el-image",{key:e,class:{image:!0,infoimage:t.infoimage},attrs:{src:image.thumbUrl,"data-source":t.unpaid?"":image.url,alt:image.filename,fit:"cover",lazy:t.lazy},on:{click:function(e){return e.target!==e.currentTarget?null:t.onClickImage(e)}}},[n("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[n("i",{staticClass:"el-icon-loading"})])])})),1):t._e(),t._v(" "),t.item.attachment&&t.item.attachment.length>3?n("div",{staticClass:"image-count",on:{click:t.toDetail}},[t._v("\n          "+t._s(t.$t("home.total"))+" "+t._s(t.item.attachment.length)+"\n          "+t._s(t.$t("home.seeAllImage"))+"\n        ")]):t._e(),t._v(" "),2===t.item.thread.type&&t.item.thread.extension.video?n("div",{staticClass:"video-main",on:{click:function(e){return e.stopPropagation(),t.openVideo(e)}}},[t.item.thread.extension.video.coverUrl?n("el-image",{staticClass:"video-img-cover",attrs:{src:t.item.thread.extension.video.coverUrl,alt:t.item.thread.extension.video.fileName,fit:"cover",lazy:t.lazy}}):n("div",{staticClass:"no-cover"},[t._v(t._s(t.$t("home.noPoster")))]),t._v(" "),n("svg-icon",{staticClass:"video-play",attrs:{type:"video-play"}})],1):t._e(),t._v(" "),t.item.attachments&&t.item.attachments.length>0?n("div",{staticClass:"attachment",on:{click:t.toDetail}},[n("svg-icon",{attrs:{type:t.extensionValidate(t.item.attachments[0].extension)}}),t._v(" "),n("div",{staticClass:"name text-hidden"},[t._v("\n            "+t._s(t.item.attachments[0].fileName)+"\n          ")]),t._v(" "),t.item.attachments.length>1?n("div",{staticClass:"total"},[t._v("\n            "+t._s(t.$t("home.etc")+t.item.attachments.length+t.$t("home.attachmentTotal"))+"\n          ")]):t._e()],1):t._e()]),t._v(" "),6===t.item.thread.type?n("product-items",{attrs:{item:t.item.thread.extension&&t.item.thread.extension.goods}}):t._e(),t._v(" "),4===t.item.thread.type?n("div",{on:{click:function(e){return e.target!==e.currentTarget?null:t.toDetail(e)}}},[n("audio-players",{attrs:{file:t.item.thread&&t.item.thread.extension&&t.item.thread.extension.video,"current-audio":t.currentAudio},on:{play:t.play,pause:t.pause,seek:t.seek,seeking:t.seeking}}),t._v(" "),n("audio",{staticClass:"audio-players",staticStyle:{display:"none"},attrs:{id:"audio-players"+(t.item.thread&&t.item.thread.pid),src:t.currentAudio.url}})],1):t._e(),t._v(" "),t.item.thread.location?n("nuxt-link",{staticClass:"location",attrs:{to:"/topic/position?longitude="+t.item.thread.longitude+"&latitude="+t.item.thread.latitude}},[n("span",{staticClass:"flex"},[n("svg-icon",{staticClass:"icon",attrs:{type:"location"}}),t._v("\n          "+t._s(t.item.thread.location)+"\n        ")],1)]):t._e()],1),t._v(" "),n("div",{staticClass:"post-footer"},[n("div",{staticClass:"time"},[t.item.thread.createdAt?[t._v("\n          "+t._s(t.item.thread.isDraft?t.$t("topic.saveAt"):t.$t("topic.publishAt"))+"\n          "+t._s(t._f("formatDate")(t.item.thread.createdAt))+"\n        ")]:t._e()],2),t._v(" "),t.canDetail?t._e():n("div",{staticClass:"handle-btn"},[t.showLike?n("div",{staticClass:"btn like",class:{liked:t.isLiked},on:{click:t.handleLike}},[n("svg-icon",{staticClass:"icon",attrs:{type:"like"},on:{click:t.handleLike}}),t._v("\n          "+t._s(t.isLiked?t.$t("topic.liked"):t.$t("topic.like"))+"\n          "+t._s(t.likeCount>0?t.likeCount:"")+"\n        ")],1):t._e(),t._v(" "),t.showComment?n("div",{staticClass:"btn comment",on:{click:t.toDetail}},[n("svg-icon",{staticClass:"icon",attrs:{type:"post-comment"}}),t._v("\n          "+t._s(t.$t("topic.comment"))+"\n          "+t._s(t.item.thread.postCount>0?t.item.thread.postCount:"")+"\n        ")],1):t._e(),t._v(" "),t.item.thread&&t.item.thread.pid&&t.showShare?n("share-popover",{attrs:{"threads-id":t.item.thread.pid}},[n("div",{staticClass:"btn share"},[n("svg-icon",{staticClass:"icon",attrs:{type:"link"}}),t._v("\n            "+t._s(t.$t("topic.share"))+"\n          ")],1)]):t._e(),t._v(" "),t._t("bottom-right"),t._v(" "),t._t("btn-edit"),t._v(" "),t._t("btn-delete")],2)]),t._v(" "),t.showVideoPop?n("video-pop",{attrs:{"cover-url":t.item.thread.extension.video.coverUrl,url:t.item.thread.extension.video.mediaUrl},on:{remove:function(e){t.showVideoPop=!1}}}):t._e()],1)])}),[],!1,null,"255d39f8",null);e.default=component.exports;installComponents(component,{Avatar:r(254).default,SvgIcon:r(62).default,ProductItems:r(932).default,AudioPlayers:r(933).default,SharePopover:r(740).default,VideoPop:r(725).default})},965:function(t,e,r){"use strict";r.r(e);r(13),r(35);var n=r(715),o={name:"RecommendContent",mixins:[r.n(n).a],props:{list:{type:Array,default:function(){return[]}}},data:function(){return{contentList:[],loading:!1}},watch:{list:{handler:function(t){this.contentList=t},deep:!0}},mounted:function(){0===this.contentList.length&&this.getList()},methods:{getList:function(){var t=this;this.contentList=[],this.loading=!0,this.$store.dispatch("jv/get",["threads/recommend",{}]).then((function(e){var data=e.slice(0,5);t.contentList=data}),(function(e){t.handleError(e)})).finally((function(){t.loading=!1}))},refresh:function(){this.getList()}}},c=(r(955),r(11)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"recommend-content-container"},[r("div",{staticClass:"recommend-content-title"},[t._v(t._s(t.$t("home.recommentContent")))]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"recommend-content-list"},[t._l(t.contentList,(function(t,e){return r("content-item",{key:e,attrs:{item:t}})})),t._v(" "),0===t.contentList.length?r("div",{staticClass:"no-more"},[t._v(t._s(t.$t("discuzq.list.noData")))]):t._e()],2),t._v(" "),r("div",{staticClass:"refresh",on:{click:t.refresh}},[r("svg-icon",{staticClass:"icon",attrs:{type:"refresh"}}),t._v("\n    "+t._s(t.$t("home.refresh"))+"\n  ")],1)])}),[],!1,null,"5df467df",null);e.default=component.exports;installComponents(component,{ContentItem:r(968).default,SvgIcon:r(62).default})},968:function(t,e,r){"use strict";r.r(e);r(52),r(35);var n={name:"ContentItem",props:{item:{type:Object,default:function(){}}},data:function(){return{}},methods:{toContent:function(){this.$router.push("/thread/".concat(this.item._jv.id))},handleContent:function(content){var t=content.replace(/:[a-z]+:/g,"").replace(/\s{3,}/g," ");return 0===this.item.type?t=t.slice(0,18):1===this.item.type?t=t.slice(0,20):5===this.item.type&&(t=t.slice(0,10)),t.length<9?t:"".concat(t,"...")}}},o=(r(956),r(11)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-item-container",on:{click:t.toContent}},[n("div",{staticClass:"content-item-tips"},[0!==t.item.type&&1!==t.item.type||!t.item.isRedPacket?t._e():n("img",{staticClass:"item-img",attrs:{src:r(742)}}),t._v(" "),5===t.item.type&&t.item.questionTypeAndMoney&&0===t.item.questionTypeAndMoney.type?n("img",{staticClass:"item-img",attrs:{src:r(743)}}):5===t.item.type?n("img",{staticClass:"item-img",attrs:{src:r(744)}}):t._e(),t._v(" "),5===t.item.type&&t.item.questionTypeAndMoney&&0===t.item.questionTypeAndMoney.type?n("span",{staticClass:"item-tip"},[t._v("【￥"+t._s(t.item.questionTypeAndMoney.money)+"】")]):t._e()]),t._v(" "),1===t.item.type?n("p",{staticClass:"content"},[t._v("\n    "+t._s(t.handleContent(t.item.title))+"\n  ")]):n("p",{staticClass:"content"},[t._v("\n    "+t._s(t.handleContent(t.item.postContent))+"\n  ")]),t._v(" "),n("span",{staticClass:"read-count"},[t._v("\n    "+t._s(t.item.viewCount)+"人已读\n  ")])])}),[],!1,null,"281af4ac",null);e.default=component.exports}}]);