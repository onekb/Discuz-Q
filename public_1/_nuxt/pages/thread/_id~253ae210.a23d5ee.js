(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{720:function(e,t,n){"use strict";var o=n(822),r=n(823),c=n(824),l=n(825);function d(e){return encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}var f=function(){},h=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&null!==e[n]&&(t[n]=e[n]);return t};function y(e){return map(e,(function(e){return"object"==typeof e?y(e):e}))}function m(e,source){return C(source,(function(t,n){e[n]=source[n]})),e}function v(e){return e instanceof Array}function C(e,t){for(var i in e)e.hasOwnProperty(i)&&t(e[i],i)}function map(e,t){var n=v(e)?[]:{};for(var i in e)e.hasOwnProperty(i)&&(n[i]=t(e[i],i));return n}var k,x,S,T,R,B=function(e,t){if(t=m({},t),"getAuth"!==e&&"getV4Auth"!==e&&"getObjectUrl"!==e){var n=t.Headers||{};if(t&&"object"==typeof t){!function(){for(var e in t)t.hasOwnProperty(e)&&e.indexOf("x-cos-")>-1&&(n[e]=t[e])}();P.each({"x-cos-mfa":"MFA","Content-MD5":"ContentMD5","Content-Length":"ContentLength","Content-Type":"ContentType",Expect:"Expect",Expires:"Expires","Cache-Control":"CacheControl","Content-Disposition":"ContentDisposition","Content-Encoding":"ContentEncoding",Range:"Range","If-Modified-Since":"IfModifiedSince","If-Unmodified-Since":"IfUnmodifiedSince","If-Match":"IfMatch","If-None-Match":"IfNoneMatch","x-cos-copy-source":"CopySource","x-cos-copy-source-Range":"CopySourceRange","x-cos-metadata-directive":"MetadataDirective","x-cos-copy-source-If-Modified-Since":"CopySourceIfModifiedSince","x-cos-copy-source-If-Unmodified-Since":"CopySourceIfUnmodifiedSince","x-cos-copy-source-If-Match":"CopySourceIfMatch","x-cos-copy-source-If-None-Match":"CopySourceIfNoneMatch","x-cos-acl":"ACL","x-cos-grant-read":"GrantRead","x-cos-grant-write":"GrantWrite","x-cos-grant-full-control":"GrantFullControl","x-cos-grant-read-acp":"GrantReadAcp","x-cos-grant-write-acp":"GrantWriteAcp","x-cos-storage-class":"StorageClass","x-cos-server-side-encryption-customer-algorithm":"SSECustomerAlgorithm","x-cos-server-side-encryption-customer-key":"SSECustomerKey","x-cos-server-side-encryption-customer-key-MD5":"SSECustomerKeyMD5","x-cos-server-side-encryption":"ServerSideEncryption","x-cos-server-side-encryption-cos-kms-key-id":"SSEKMSKeyId","x-cos-server-side-encryption-context":"SSEContext"},(function(e,o){void 0!==t[e]&&(n[o]=t[e])})),t.Headers=h(n)}}return t},A=function(e){return Date.now()+(e||0)},P={noop:f,formatParams:B,apiWrapper:function(e,t){return function(n,o){"function"==typeof n&&(o=n,n={}),n=B(e,n);var r=function(e){return e&&e.headers&&(e.headers["x-cos-version-id"]&&(e.VersionId=e.headers["x-cos-version-id"]),e.headers["x-cos-delete-marker"]&&(e.DeleteMarker=e.headers["x-cos-delete-marker"])),e},c=function(e,data){o&&o(r(e),r(data))};if("getService"!==e&&"abortUploadTask"!==e){var l;if(l=function(e,t){var n=t.Bucket,o=t.Region,r=t.Key;if(e.indexOf("Bucket")>-1||"deleteMultipleObject"===e||"multipartList"===e||"listObjectVersions"===e){if(!n)return"Bucket";if(!o)return"Region"}else if(e.indexOf("Object")>-1||e.indexOf("multipart")>-1||"sliceUploadFile"===e||"abortUploadTask"===e){if(!n)return"Bucket";if(!o)return"Region";if(!r)return"Key"}return!1}(e,n))return void c({error:"missing param "+l});if(n.Region){if(n.Region.indexOf("cos.")>-1)return void c({error:'param Region should not be start with "cos."'});if(!/^([a-z\d-]+)$/.test(n.Region))return void c({error:"Region format error."});this.options.CompatibilityMode||-1!==n.Region.indexOf("-")||"yfb"===n.Region||"default"===n.Region||console.warn("warning: param Region format error, find help here: https://cloud.tencent.com/document/product/436/6224")}if(n.Bucket){if(!/^([a-z\d-]+)-(\d+)$/.test(n.Bucket))if(n.AppId)n.Bucket=n.Bucket+"-"+n.AppId;else{if(!this.options.AppId)return void c({error:'Bucket should format as "test-1250000000".'});n.Bucket=n.Bucket+"-"+this.options.AppId}n.AppId&&(console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g Bucket:"test-1250000000" ).'),delete n.AppId)}!this.options.UseRawKey&&n.Key&&"/"===n.Key.substr(0,1)&&(n.Key=n.Key.substr(1))}var d=t.call(this,n,c);if("getAuth"===e||"getObjectUrl"===e)return d}},xml2json:c,json2xml:l,md5:o,clearKey:h,getFileMd5:function(e,t){!function(e,t){var n,o=new FileReader;FileReader.prototype.readAsBinaryString?(n=FileReader.prototype.readAsBinaryString,o.onload=function(){t(this.result)}):FileReader.prototype.readAsArrayBuffer?n=function(e){var n="",o=new FileReader;o.onload=function(e){for(var r=new Uint8Array(o.result),c=r.byteLength,i=0;i<c;i++)n+=String.fromCharCode(r[i]);t(n)},o.readAsArrayBuffer(e)}:console.error("FileReader not support readAsBinaryString"),n.call(o,e)}(e,(function(content){var e=o(content,!0);t(null,e)}))},binaryBase64:function(e){var i,t,n,o="";for(i=0,t=e.length/2;i<t;i++)n=parseInt(e[2*i]+e[2*i+1],16),o+=String.fromCharCode(n);return btoa(o)},extend:m,isArray:v,isInArray:function(e,t){for(var n=!1,i=0;i<e.length;i++)if(t===e[i]){n=!0;break}return n},each:C,map:map,filter:function(e,t){var n=v(e),o=n?[]:{};for(var i in e)e.hasOwnProperty(i)&&t(e[i],i)&&(n?o.push(e[i]):o[i]=e[i]);return o},clone:y,uuid:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},camSafeUrlEncode:d,throttleOnProgress:function(e,t){var n,o,r=this,c=0,l=0,d=Date.now();function f(){if(o=0,t&&"function"==typeof t){n=Date.now();var r,f=Math.max(0,Math.round((l-c)/((n-d)/1e3)*100)/100);r=0===l&&0===e?1:Math.round(l/e*100)/100||0,d=n,c=l;try{t({loaded:l,total:e,speed:f,percent:r})}catch(e){}}}return function(t,n){if(t&&(l=t.loaded,e=t.total),n)clearTimeout(o),f();else{if(o)return;o=setTimeout(f,r.options.ProgressInterval)}}},getFileSize:function(e,t,n){var o;"string"==typeof t.Body&&(t.Body=new Blob([t.Body],{type:"text/plain"})),t.Body&&(t.Body instanceof Blob||"[object File]"===t.Body.toString()||"[object Blob]"===t.Body.toString())?(o=t.Body.size,t.ContentLength=o,n(null,o)):n({error:"params body format error, Only allow File|Blob|String."})},getSkewTime:A,getAuth:function(e){var t,n=(e=e||{}).SecretId,o=e.SecretKey,c=(e.method||e.Method||"get").toLowerCase(),l=y(e.Query||e.params||{}),f=y(e.Headers||e.headers||{}),h=e.Key||"";if(e.UseRawKey?t=e.Pathname||e.pathname||"/"+h:0!==(t=e.Pathname||e.pathname||h).indexOf("/")&&(t="/"+t),!n)return console.error("missing param SecretId");if(!o)return console.error("missing param SecretKey");var m=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort((function(a,b){return(a=a.toLowerCase())===(b=b.toLowerCase())?0:a>b?1:-1}))},v=function(e){var i,t,n,o=[],r=m(e);for(i=0;i<r.length;i++)n=void 0===e[t=r[i]]||null===e[t]?"":""+e[t],t=d(t=t.toLowerCase()),n=d(n)||"",o.push(t+"="+n);return o.join("&")},C=Math.round(A(e.SystemClockOffset)/1e3)-1,k=C,x=e.Expires||e.expires,S=n,T=C+";"+(k+=void 0===x?900:1*x||0),R=C+";"+k,B=m(f).join(";").toLowerCase(),P=m(l).join(";").toLowerCase(),w=r.HmacSHA1(R,o).toString(),_=[c,t,v(l),v(f),""].join("\n"),E=["sha1",T,r.SHA1(_).toString(),""].join("\n");return["q-sign-algorithm=sha1","q-ak="+S,"q-sign-time="+T,"q-key-time="+R,"q-header-list="+B,"q-url-param-list="+P,"q-signature="+r.HmacSHA1(E,w).toString()].join("&")},isBrowser:!0},w=(R=function(a,b){a=a.split("."),b=b.split(".");for(var i=0;i<b.length;i++)if(a[i]!==b[i])return parseInt(a[i])>parseInt(b[i])?1:-1;return 0},k=navigator&&navigator.userAgent,x=(k.match(/Chrome\/([.\d]+)/)||[])[1],S=(k.match(/QBCore\/([.\d]+)/)||[])[1],T=(k.match(/QQBrowser\/([.\d]+)/)||[])[1],x&&R(x,"53.0.2785.116")<0&&S&&R(S,"3.53.991.400")<0&&T&&R(T,"9.0.2524.400")<=0||!1);P.fileSlice=function(e,t,n,o,r){var c;if(e.slice?c=e.slice(t,n):e.mozSlice?c=e.mozSlice(t,n):e.webkitSlice&&(c=e.webkitSlice(t,n)),o&&w){var l=new FileReader;l.onload=function(e){c=null,r(new Blob([l.result]))},l.readAsArrayBuffer(c)}else r(c)},P.getFileUUID=function(e,t){return e.name&&e.size&&e.lastModifiedDate&&t?P.md5([e.name,e.size,e.lastModifiedDate,t].join("::")):null},P.getBodyMd5=function(e,t,n){n=n||f,e?"string"==typeof t?n(P.md5(t,!0)):Blob&&t instanceof Blob?P.getFileMd5(t,(function(e,t){n(t)})):n():n()},e.exports=P},764:function(e,t){var n=function(e){var t={},n=function(e){return!t[e]&&(t[e]=[]),t[e]};e.on=function(e,t){"task-list-update"===e&&console.warn('warning: Event "'+e+'" has been deprecated. Please use "list-update" instead.'),n(e).push(t)},e.off=function(e,t){for(var o=n(e),i=o.length-1;i>=0;i--)t===o[i]&&o.splice(i,1)},e.emit=function(e,data){for(var t=n(e).map((function(e){return e})),i=0;i<t.length;i++)t[i](data)}};e.exports.init=n,e.exports.EventProxy=function(){n(this)}},820:function(e,t,n){var o=n(821);e.exports=o},821:function(e,t,n){"use strict";var o=n(720),r=n(764),c=n(826),base=n(827),l=n(832),d={AppId:"",SecretId:"",SecretKey:"",XCosSecurityToken:"",FileParallelLimit:3,ChunkParallelLimit:3,ChunkRetryTimes:3,ChunkSize:1048576,SliceSize:1048576,CopyChunkParallelLimit:20,CopyChunkSize:10485760,CopySliceSize:10485760,MaxPartNumber:1e4,ProgressInterval:1e3,UploadQueueSize:1e4,Domain:"",ServiceDomain:"",Protocol:"",CompatibilityMode:!1,ForcePathStyle:!1,UseRawKey:!1,Timeout:0,CorrectClockSkew:!0,SystemClockOffset:0,UploadCheckContentMd5:!1,UploadIdCacheLimit:50},f=function(e){this.options=o.extend(o.clone(d),e||{}),this.options.FileParallelLimit=Math.max(1,this.options.FileParallelLimit),this.options.ChunkParallelLimit=Math.max(1,this.options.ChunkParallelLimit),this.options.ChunkRetryTimes=Math.max(0,this.options.ChunkRetryTimes),this.options.ChunkSize=Math.max(1048576,this.options.ChunkSize),this.options.CopyChunkParallelLimit=Math.max(1,this.options.CopyChunkParallelLimit),this.options.CopyChunkSize=Math.max(1048576,this.options.CopyChunkSize),this.options.CopySliceSize=Math.max(0,this.options.CopySliceSize),this.options.MaxPartNumber=Math.max(1024,Math.min(1e4,this.options.MaxPartNumber)),this.options.Timeout=Math.max(0,this.options.Timeout),this.options.AppId&&console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g: "test-1250000000").'),r.init(this),c.init(this)};base.init(f,c),l.init(f,c),f.getAuthorization=o.getAuth,f.version="0.5.16",e.exports=f},822:function(e,t){function n(e,t){var a=e[0],b=e[1],n=e[2],o=e[3];a=r(a,b,n,o,t[0],7,-680876936),o=r(o,a,b,n,t[1],12,-389564586),n=r(n,o,a,b,t[2],17,606105819),b=r(b,n,o,a,t[3],22,-1044525330),a=r(a,b,n,o,t[4],7,-176418897),o=r(o,a,b,n,t[5],12,1200080426),n=r(n,o,a,b,t[6],17,-1473231341),b=r(b,n,o,a,t[7],22,-45705983),a=r(a,b,n,o,t[8],7,1770035416),o=r(o,a,b,n,t[9],12,-1958414417),n=r(n,o,a,b,t[10],17,-42063),b=r(b,n,o,a,t[11],22,-1990404162),a=r(a,b,n,o,t[12],7,1804603682),o=r(o,a,b,n,t[13],12,-40341101),n=r(n,o,a,b,t[14],17,-1502002290),a=c(a,b=r(b,n,o,a,t[15],22,1236535329),n,o,t[1],5,-165796510),o=c(o,a,b,n,t[6],9,-1069501632),n=c(n,o,a,b,t[11],14,643717713),b=c(b,n,o,a,t[0],20,-373897302),a=c(a,b,n,o,t[5],5,-701558691),o=c(o,a,b,n,t[10],9,38016083),n=c(n,o,a,b,t[15],14,-660478335),b=c(b,n,o,a,t[4],20,-405537848),a=c(a,b,n,o,t[9],5,568446438),o=c(o,a,b,n,t[14],9,-1019803690),n=c(n,o,a,b,t[3],14,-187363961),b=c(b,n,o,a,t[8],20,1163531501),a=c(a,b,n,o,t[13],5,-1444681467),o=c(o,a,b,n,t[2],9,-51403784),n=c(n,o,a,b,t[7],14,1735328473),a=l(a,b=c(b,n,o,a,t[12],20,-1926607734),n,o,t[5],4,-378558),o=l(o,a,b,n,t[8],11,-2022574463),n=l(n,o,a,b,t[11],16,1839030562),b=l(b,n,o,a,t[14],23,-35309556),a=l(a,b,n,o,t[1],4,-1530992060),o=l(o,a,b,n,t[4],11,1272893353),n=l(n,o,a,b,t[7],16,-155497632),b=l(b,n,o,a,t[10],23,-1094730640),a=l(a,b,n,o,t[13],4,681279174),o=l(o,a,b,n,t[0],11,-358537222),n=l(n,o,a,b,t[3],16,-722521979),b=l(b,n,o,a,t[6],23,76029189),a=l(a,b,n,o,t[9],4,-640364487),o=l(o,a,b,n,t[12],11,-421815835),n=l(n,o,a,b,t[15],16,530742520),a=d(a,b=l(b,n,o,a,t[2],23,-995338651),n,o,t[0],6,-198630844),o=d(o,a,b,n,t[7],10,1126891415),n=d(n,o,a,b,t[14],15,-1416354905),b=d(b,n,o,a,t[5],21,-57434055),a=d(a,b,n,o,t[12],6,1700485571),o=d(o,a,b,n,t[3],10,-1894986606),n=d(n,o,a,b,t[10],15,-1051523),b=d(b,n,o,a,t[1],21,-2054922799),a=d(a,b,n,o,t[8],6,1873313359),o=d(o,a,b,n,t[15],10,-30611744),n=d(n,o,a,b,t[6],15,-1560198380),b=d(b,n,o,a,t[13],21,1309151649),a=d(a,b,n,o,t[4],6,-145523070),o=d(o,a,b,n,t[11],10,-1120210379),n=d(n,o,a,b,t[2],15,718787259),b=d(b,n,o,a,t[9],21,-343485551),e[0]=v(a,e[0]),e[1]=v(b,e[1]),e[2]=v(n,e[2]),e[3]=v(o,e[3])}function o(q,a,b,e,s,t){return a=v(v(a,q),v(e,t)),v(a<<s|a>>>32-s,b)}function r(a,b,e,t,n,s,r){return o(b&e|~b&t,a,b,n,s,r)}function c(a,b,e,t,n,s,r){return o(b&t|e&~t,a,b,n,s,r)}function l(a,b,e,t,n,s,r){return o(b^e^t,a,b,n,s,r)}function d(a,b,e,t,n,s,r){return o(e^(b|~t),a,b,n,s,r)}function f(s){var i,e=[];for(i=0;i<64;i+=4)e[i>>2]=s.charCodeAt(i)+(s.charCodeAt(i+1)<<8)+(s.charCodeAt(i+2)<<16)+(s.charCodeAt(i+3)<<24);return e}var h="0123456789abcdef".split("");function y(e){for(var s="",t=0;t<4;t++)s+=h[e>>8*t+4&15]+h[e>>8*t&15];return s}function m(s,e){return e||(s=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t}(s)),function(e){for(var i=0;i<e.length;i++)e[i]=y(e[i]);return e.join("")}(function(s){var i,e=s.length,t=[1732584193,-271733879,-1732584194,271733878];for(i=64;i<=s.length;i+=64)n(t,f(s.substring(i-64,i)));s=s.substring(i-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<s.length;i++)o[i>>2]|=s.charCodeAt(i)<<(i%4<<3);if(o[i>>2]|=128<<(i%4<<3),i>55)for(n(t,o),i=0;i<16;i++)o[i]=0;return o[14]=8*e,n(t,o),t}(s))}var v=function(a,b){return a+b&4294967295};"5d41402abc4b2a76b9719d911017c592"!=m("hello")&&(v=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}),e.exports=m},823:function(e,t,n){var g,o,r,c,l,d,f,h=h||function(g,e){var t={},n=t.lib={},o=function(){},r=n.Base={extend:function(a){o.prototype=this;var e=new o;return a&&e.mixIn(a),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var a=this.extend();return a.init.apply(a,arguments),a},init:function(){},mixIn:function(a){for(var e in a)a.hasOwnProperty(e)&&(this[e]=a[e]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},p=n.WordArray=r.extend({init:function(a,e){a=this.words=a||[],this.sigBytes=null!=e?e:4*a.length},toString:function(a){return(a||c).stringify(this)},concat:function(a){var e=this.words,q=a.words,t=this.sigBytes;if(a=a.sigBytes,this.clamp(),t%4)for(var b=0;b<a;b++)e[t+b>>>2]|=(q[b>>>2]>>>24-b%4*8&255)<<24-(t+b)%4*8;else if(65535<q.length)for(b=0;b<a;b+=4)e[t+b>>>2]=q[b>>>2];else e.push.apply(e,q);return this.sigBytes+=a,this},clamp:function(){var a=this.words,e=this.sigBytes;a[e>>>2]&=4294967295<<32-e%4*8,a.length=g.ceil(e/4)},clone:function(){var a=r.clone.call(this);return a.words=this.words.slice(0),a},random:function(a){for(var e=[],b=0;b<a;b+=4)e.push(4294967296*g.random()|0);return new p.init(e,a)}}),b=t.enc={},c=b.Hex={stringify:function(a){var e=a.words;a=a.sigBytes;for(var b=[],t=0;t<a;t++){var n=e[t>>>2]>>>24-t%4*8&255;b.push((n>>>4).toString(16)),b.push((15&n).toString(16))}return b.join("")},parse:function(a){for(var e=a.length,b=[],t=0;t<e;t+=2)b[t>>>3]|=parseInt(a.substr(t,2),16)<<24-t%8*4;return new p.init(b,e/2)}},l=b.Latin1={stringify:function(a){var e=a.words;a=a.sigBytes;for(var b=[],t=0;t<a;t++)b.push(String.fromCharCode(e[t>>>2]>>>24-t%4*8&255));return b.join("")},parse:function(a){for(var e=a.length,b=[],t=0;t<e;t++)b[t>>>2]|=(255&a.charCodeAt(t))<<24-t%4*8;return new p.init(b,e)}},d=b.Utf8={stringify:function(a){try{return decodeURIComponent(escape(l.stringify(a)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(a){return l.parse(unescape(encodeURIComponent(a)))}},f=n.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new p.init,this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=d.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(a){var e=this._data,b=e.words,t=e.sigBytes,n=this.blockSize,o=t/(4*n);if(a=(o=a?g.ceil(o):g.max((0|o)-this._minBufferSize,0))*n,t=g.min(4*a,t),a){for(var r=0;r<a;r+=n)this._doProcessBlock(b,r);r=b.splice(0,a),e.sigBytes-=t}return new p.init(r,t)},clone:function(){var a=r.clone.call(this);return a._data=this._data.clone(),a},_minBufferSize:0});n.Hasher=f.extend({cfg:r.extend(),init:function(a){this.cfg=this.cfg.extend(a),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(a){return this._append(a),this._process(),this},finalize:function(a){return a&&this._append(a),this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,e){return new a.init(e).finalize(b)}},_createHmacHelper:function(a){return function(b,e){return new s.HMAC.init(a,e).finalize(b)}}});var s=t.algo={};return t}(Math);o=(l=(g=h).lib).WordArray,r=l.Hasher,c=[],l=g.algo.SHA1=r.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var b=this._hash.words,n=b[0],o=b[1],r=b[2],g=b[3],l=b[4],a=0;80>a;a++){if(16>a)c[a]=0|e[t+a];else{var d=c[a-3]^c[a-8]^c[a-14]^c[a-16];c[a]=d<<1|d>>>31}d=(n<<5|n>>>27)+l+c[a],d=20>a?d+(1518500249+(o&r|~o&g)):40>a?d+(1859775393+(o^r^g)):60>a?d+((o&r|o&g|r&g)-1894007588):d+((o^r^g)-899497514),l=g,g=r,r=o<<30|o>>>2,o=n,n=d}b[0]=b[0]+n|0,b[1]=b[1]+o|0,b[2]=b[2]+r|0,b[3]=b[3]+g|0,b[4]=b[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,b=8*this._nDataBytes,g=8*e.sigBytes;return t[g>>>5]|=128<<24-g%32,t[14+(g+64>>>9<<4)]=Math.floor(b/4294967296),t[15+(g+64>>>9<<4)]=b,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),g.SHA1=r._createHelper(l),g.HmacSHA1=r._createHmacHelper(l),function(){var g=h,e=g.enc.Utf8;g.algo.HMAC=g.lib.Base.extend({init:function(t,n){t=this._hasher=new t.init,"string"==typeof n&&(n=e.parse(n));var g=t.blockSize,o=4*g;n.sigBytes>o&&(n=t.finalize(n)),n.clamp();for(var p=this._oKey=n.clone(),b=this._iKey=n.clone(),r=p.words,c=b.words,l=0;l<g;l++)r[l]^=1549556828,c[l]^=909522486;p.sigBytes=b.sigBytes=o,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),f=(d=h).lib.WordArray,d.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,map=this._map;e.clamp();for(var o=[],i=0;i<n;i+=3)for(var r=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,c=0;c<4&&i+.75*c<n;c++)o.push(map.charAt(r>>>6*(3-c)&63));var l=map.charAt(64);if(l)for(;o.length%4;)o.push(l);return o.join("")},parse:function(e){var t=e.length,map=this._map,n=map.charAt(64);if(n){var o=e.indexOf(n);-1!=o&&(t=o)}for(var r=[],c=0,i=0;i<t;i++)if(i%4){var l=map.indexOf(e.charAt(i-1))<<i%4*2,d=map.indexOf(e.charAt(i))>>>6-i%4*2;r[c>>>2]|=(l|d)<<24-c%4*8,c++}return f.create(r,c)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.exports=h},824:function(e,t,n){var o=n(874).DOMParser,r=function(){this.version="1.3.5";var e={mergeCDATA:!0,normalize:!0,stripElemPrefix:!0},t=new RegExp(/(?!xmlns)^.*:/);new RegExp(/^\s+|\s+$/g);return this.grokType=function(e){return/^\s*$/.test(e)?null:/^(?:true|false)$/i.test(e)?"true"===e.toLowerCase():isFinite(e)?parseFloat(e):e},this.parseString=function(e,t){if(e){var n=this.stringToXML(e);return n.getElementsByTagName("parsererror").length?null:this.parseXML(n,t)}return null},this.parseXML=function(n,o){for(var c in o)e[c]=o[c];var l={},d=0,f="";if(n.childNodes.length)for(var h,y,m,v=0;v<n.childNodes.length;v++)4===(h=n.childNodes.item(v)).nodeType?e.mergeCDATA&&(f+=h.nodeValue):3===h.nodeType?f+=h.nodeValue:1===h.nodeType&&(0===d&&(l={}),y=e.stripElemPrefix?h.nodeName.replace(t,""):h.nodeName,m=r.parseXML(h),l.hasOwnProperty(y)?(l[y].constructor!==Array&&(l[y]=[l[y]]),l[y].push(m)):(l[y]=m,d++));return Object.keys(l).length||(l=f||""),l},this.xmlToString=function(e){try{return e.xml?e.xml:(new XMLSerializer).serializeToString(e)}catch(e){return null}},this.stringToXML=function(e){try{var t=null;return window.DOMParser?t=(new o).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e),t)}catch(e){return null}},this}.call({});e.exports=function(e){return r.parseString(e)}},825:function(e,t){var n=new RegExp("^([^a-zA-Z_À-ÖØ-öø-ÿͰ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿿、-퟿豈-﷏ﷰ-�])|^((x|X)(m|M)(l|L))|([^a-zA-Z_À-ÖØ-öø-ÿͰ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿿、-퟿豈-﷏ﷰ-�-.0-9·̀-ͯ‿⁀])","g"),o=/[^\x09\x0A\x0D\x20-\xFF\x85\xA0-\uD7FF\uE000-\uFDCF\uFDE0-\uFFFD]/gm,r=function(e){var t=[];if(e instanceof Object)for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},c=function(e,t){var c=function(e,content,o,r,c){var l=void 0!==t.indent?t.indent:"\t",d=t.prettyPrint?"\n"+new Array(r).join(l):"";t.removeIllegalNameCharacters&&(e=e.replace(n,"_"));var f=[d,"<",e,o||""];return content&&content.length>0?(f.push(">"),f.push(content),c&&f.push(d),f.push("</"),f.push(e),f.push(">")):f.push("/>"),f.join("")};return function e(n,l,d){var f=typeof n;switch((Array.isArray?Array.isArray(n):n instanceof Array)?f="array":n instanceof Date&&(f="date"),f){case"array":var h=[];return n.map((function(t){h.push(e(t,1,d+1))})),t.prettyPrint&&h.push("\n"),h.join("");case"date":return n.toJSON?n.toJSON():n+"";case"object":var y=[];for(var m in n)if(n.hasOwnProperty(m))if(n[m]instanceof Array)for(var v=0;v<n[m].length;v++)n[m].hasOwnProperty(v)&&y.push(c(m,e(n[m][v],0,d+1),null,d+1,r(n[m][v]).length));else y.push(c(m,e(n[m],0,d+1),null,d+1));return t.prettyPrint&&y.length>0&&y.push("\n"),y.join("");case"function":return n();default:return t.escape?(""+n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(o,""):""+n}}(e,0,0)},l=function(e){var t=['<?xml version="1.0" encoding="UTF-8"'];return e&&t.push(' standalone="yes"'),t.push("?>"),t.join("")};e.exports=function(e,t){if(t||(t={xmlHeader:{standalone:!0},prettyPrint:!0,indent:"  ",escape:!0}),"string"==typeof e)try{e=JSON.parse(e.toString())}catch(e){return!1}var n="",o="";return t&&("object"==typeof t?(t.xmlHeader&&(n=l(!!t.xmlHeader.standalone)),void 0!==t.docType&&(o="<!DOCTYPE "+t.docType+">")):n=l()),[n,(t=t||{}).prettyPrint&&o?"\n":"",o,c(e,t)].join("").replace(/\n{2,}/g,"\n").replace(/\s+$/g,"")}},826:function(e,t,n){var o=n(720),r={};e.exports.transferToTaskMethod=function(e,t){r[t]=e[t],e[t]=function(e,n){e.SkipTask?r[t].call(this,e,n):this._addTask(t,e,n)}},e.exports.init=function(e){var t=[],n={},c=0,l=0,d=function(e){var t={id:e.id,Bucket:e.Bucket,Region:e.Region,Key:e.Key,FilePath:e.FilePath,state:e.state,loaded:e.loaded,size:e.size,speed:e.speed,percent:e.percent,hashPercent:e.hashPercent,error:e.error};return e.FilePath&&(t.FilePath=e.FilePath),t},f=function(){e.emit("task-list-update",{list:o.map(t,d)}),e.emit("list-update",{list:o.map(t,d)})},h=function(){if(!(t.length<=e.options.UploadQueueSize)){for(var i=0;i<l&&i<t.length&&t.length>e.options.UploadQueueSize;){var o="waiting"===t[i].state||"checking"===t[i].state||"uploading"===t[i].state;t[i]&&o?i++:(n[t[i].id]&&delete n[t[i].id],t.splice(i,1),l--)}f()}},y=function(){if(l<t.length&&c<e.options.FileParallelLimit){var n=t[l];if(l++,"waiting"===n.state){c++,n.state="checking",n.params.onTaskStart&&n.params.onTaskStart(d(n)),!n.params.UploadData&&(n.params.UploadData={});var m=o.formatParams(n.api,n.params);r[n.api].call(e,m,(function(t,data){e._isRunningTask(n.id)&&("checking"!==n.state&&"uploading"!==n.state||(n.state=t?"error":"success",t&&(n.error=t),c--,f(),y(e),n.callback&&n.callback(t,data),"success"===n.state&&(n.params&&(delete n.params.UploadData,delete n.params.Body,delete n.params),delete n.callback)),h())})),f()}y(e)}},m=function(t,o){var r=n[t];if(r){var l=r&&"waiting"===r.state,d=r&&("checking"===r.state||"uploading"===r.state);if("canceled"===o&&"canceled"!==r.state||"paused"===o&&l||"paused"===o&&d){if("paused"===o&&r.params.Body&&"function"==typeof r.params.Body.pipe)return void console.error("stream not support pause");r.state=o,e.emit("inner-kill-task",{TaskId:t,toState:o}),f(),d&&(c--,y(e)),"canceled"===o&&(r.params&&(delete r.params.UploadData,delete r.params.Body,delete r.params),delete r.callback)}h()}};e._addTasks=function(t){o.each(t,(function(t){e._addTask(t.api,t.params,t.callback,!0)})),f()};var v=!0;e._addTask=function(r,c,l,d){c=o.formatParams(r,c);var m=o.uuid();c.TaskId=m,c.onTaskReady&&c.onTaskReady(m),c.TaskReady&&(c.TaskReady(m),v&&console.warn('warning: Param "TaskReady" has been deprecated. Please use "onTaskReady" instead.'),v=!1);var C={params:c,callback:l,api:r,index:t.length,id:m,Bucket:c.Bucket,Region:c.Region,Key:c.Key,FilePath:c.FilePath||"",state:"waiting",loaded:0,size:0,speed:0,percent:0,hashPercent:0,error:null},k=c.onHashProgress;c.onHashProgress=function(t){e._isRunningTask(C.id)&&(C.hashPercent=t.percent,k&&k(t),f())};var x=c.onProgress;return c.onProgress=function(t){e._isRunningTask(C.id)&&("checking"===C.state&&(C.state="uploading"),C.loaded=t.loaded,C.speed=t.speed,C.percent=t.percent,x&&x(t),f())},o.getFileSize(r,c,(function(o,r){o?l(o):(n[m]=C,t.push(C),C.size=r,!d&&f(),y(e),h())})),m},e._isRunningTask=function(e){var t=n[e];return!(!t||"checking"!==t.state&&"uploading"!==t.state)},e.getTaskList=function(){return o.map(t,d)},e.cancelTask=function(e){m(e,"canceled")},e.pauseTask=function(e){m(e,"paused")},e.restartTask=function(e){var t=n[e];!t||"paused"!==t.state&&"error"!==t.state||(t.state="waiting",f(),l=Math.min(l,t.index),y())},e.isUploadRunning=function(){return c||l<t.length}}},827:function(e,t,n){var o=n(828),r=n(720);function c(e){var t={GrantFullControl:[],GrantWrite:[],GrantRead:[],GrantReadAcp:[],GrantWriteAcp:[],ACL:""},n={FULL_CONTROL:"GrantFullControl",WRITE:"GrantWrite",READ:"GrantRead",READ_ACP:"GrantReadAcp",WRITE_ACP:"GrantWriteAcp"},o=e.AccessControlList.Grant;o&&(o=r.isArray(o)?o:[o]);var c={READ:0,WRITE:0,FULL_CONTROL:0};return o.length&&r.each(o,(function(o){"qcs::cam::anyone:anyone"===o.Grantee.ID||"http://cam.qcloud.com/groups/global/AllUsers"===o.Grantee.URI?c[o.Permission]=1:o.Grantee.ID!==e.Owner.ID&&t[n[o.Permission]].push('id="'+o.Grantee.ID+'"')})),c.FULL_CONTROL||c.WRITE&&c.READ?t.ACL="public-read-write":c.READ?t.ACL="public-read":t.ACL="private",r.each(n,(function(e){t[e]=l(t[e].join(","))})),t}function l(e){var i,t,n=e.split(","),o={};for(i=0;i<n.length;)o[t=n[i].trim()]?n.splice(i,1):(o[t]=!0,n[i]=t,i++);return n.join(",")}function d(e){var t=e.bucket,n=t.substr(0,t.lastIndexOf("-")),o=t.substr(t.lastIndexOf("-")+1),c=e.domain,l=e.region,object=e.object,d=e.protocol||(r.isBrowser&&"http:"===location.protocol?"http:":"https:");c||(c=["cn-south","cn-south-2","cn-north","cn-east","cn-southwest","sg"].indexOf(l)>-1?"{Region}.myqcloud.com":"cos.{Region}.myqcloud.com",e.ForcePathStyle||(c="{Bucket}."+c)),c=(c=c.replace(/\{\{AppId\}\}/gi,o).replace(/\{\{Bucket\}\}/gi,n).replace(/\{\{Region\}\}/gi,l).replace(/\{\{.*?\}\}/gi,"")).replace(/\{AppId\}/gi,o).replace(/\{BucketName\}/gi,n).replace(/\{Bucket\}/gi,t).replace(/\{Region\}/gi,l).replace(/\{.*?\}/gi,""),/^[a-zA-Z]+:\/\//.test(c)||(c=d+"//"+c),"/"===c.slice(-1)&&(c=c.slice(0,-1));var f=c;return e.ForcePathStyle&&(f+="/"+t),f+="/",object&&(f+=r.camSafeUrlEncode(object).replace(/%2F/g,"/")),e.isLocation&&(f=f.replace(/^https?:\/\//,"")),f}function f(e,t){var n=r.clone(e.Headers);delete n["Content-Type"],delete n["Cache-Control"],r.each(n,(function(e,t){""===e&&delete n[t]}));var o=function(e){var n=!1,o=e.Authorization;if(o)if(o.indexOf(" ")>-1)n=!1;else if(o.indexOf("q-sign-algorithm=")>-1&&o.indexOf("q-ak=")>-1&&o.indexOf("q-sign-time=")>-1&&o.indexOf("q-key-time=")>-1&&o.indexOf("q-url-param-list=")>-1)n=!0;else try{(o=atob(o)).indexOf("a=")>-1&&o.indexOf("k=")>-1&&o.indexOf("t=")>-1&&o.indexOf("r=")>-1&&o.indexOf("b=")>-1&&(n=!0)}catch(e){}n?t&&t(null,e):t&&t("authorization error")},c=this,l=e.Bucket||"",d=e.Region||"",f=e.Key||"";c.options.ForcePathStyle&&l&&(f=l+"/"+f);var h="/"+f,y={},m=e.Scope;if(!m){var v=e.Action||"",C=e.ResourceKey||e.Key||"";m=e.Scope||[{action:v,bucket:l,region:d,prefix:C}]}var k=r.md5(JSON.stringify(m));c._StsCache=c._StsCache||[],function(){var i,e;for(i=c._StsCache.length-1;i>=0;i--){e=c._StsCache[i];var t=Math.round(r.getSkewTime(c.options.SystemClockOffset)/1e3)+30;if(e.StartTime&&t<e.StartTime||t>=e.ExpiredTime)c._StsCache.splice(i,1);else if(!e.ScopeLimit||e.ScopeLimit&&e.ScopeKey===k){y=e;break}}}();var x,S=function(){var t={Authorization:r.getAuth({SecretId:y.TmpSecretId,SecretKey:y.TmpSecretKey,Method:e.Method,Pathname:h,Query:e.Query,Headers:n,Expires:e.Expires,UseRawKey:c.options.UseRawKey,SystemClockOffset:c.options.SystemClockOffset}),XCosSecurityToken:y.XCosSecurityToken||"",Token:y.Token||"",ClientIP:y.ClientIP||"",ClientUA:y.ClientUA||""};o(t)};if(y.ExpiredTime&&y.ExpiredTime-r.getSkewTime(c.options.SystemClockOffset)/1e3>60)S();else if(c.options.getAuthorization)c.options.getAuthorization.call(c,{Bucket:l,Region:d,Method:e.Method,Key:f,Pathname:h,Query:e.Query,Headers:n,Scope:m},(function(e){"string"==typeof e&&(e={Authorization:e}),e.TmpSecretId&&e.TmpSecretKey&&e.XCosSecurityToken&&e.ExpiredTime?((y=e||{}).Scope=m,y.ScopeKey=k,c._StsCache.push(y),S()):o(e)}));else{if(!c.options.getSTS)return x={Authorization:r.getAuth({SecretId:e.SecretId||c.options.SecretId,SecretKey:e.SecretKey||c.options.SecretKey,Method:e.Method,Pathname:h,Query:e.Query,Headers:n,Expires:e.Expires,UseRawKey:c.options.UseRawKey,SystemClockOffset:c.options.SystemClockOffset}),XCosSecurityToken:c.options.XCosSecurityToken},o(x),x;c.options.getSTS.call(c,{Bucket:l,Region:d},(function(data){(y=data||{}).Scope=m,y.ScopeKey=k,y.TmpSecretId=y.SecretId,y.TmpSecretKey=y.SecretKey,c._StsCache.push(y),S()}))}return""}function h(e){var t=!1,n=!1,o=e.headers&&(e.headers.date||e.headers.Date)||e.error&&e.error.ServerTime;try{var c=e.error.Code,l=e.error.Message;("RequestTimeTooSkewed"===c||"AccessDenied"===c&&"Request has expired"===l)&&(n=!0)}catch(e){}if(e)if(n&&o){var d=Date.parse(o);this.options.CorrectClockSkew&&Math.abs(r.getSkewTime(this.options.SystemClockOffset)-d)>=3e4&&(console.error("error: Local time is too skewed."),this.options.SystemClockOffset=d-Date.now(),t=!0)}else 5===Math.round(e.statusCode/100)&&(t=!0);return t}function y(e,t){var n=this;!e.headers&&(e.headers={}),!e.qs&&(e.qs={}),e.VersionId&&(e.qs.versionId=e.VersionId),e.qs=r.clearKey(e.qs),e.headers&&(e.headers=r.clearKey(e.headers)),e.qs&&(e.qs=r.clearKey(e.qs));var o=r.clone(e.qs);e.action&&(o[e.action]="");var c=function(r){var l=n.options.SystemClockOffset;f.call(n,{Bucket:e.Bucket||"",Region:e.Region||"",Method:e.method,Key:e.Key,Query:o,Headers:e.headers,Action:e.Action,ResourceKey:e.ResourceKey,Scope:e.Scope},(function(o,d){o?t(o):(e.AuthData=d,m.call(n,e,(function(o,data){o&&r<2&&(l!==n.options.SystemClockOffset||h.call(n,o))?(e.headers&&(delete e.headers.Authorization,delete e.headers.token,delete e.headers.clientIP,delete e.headers.clientUA,delete e.headers["x-cos-security-token"]),c(r+1)):t(o,data)})))}))};c(0)}function m(e,t){var n=this,c=e.TaskId;if(!c||n._isRunningTask(c)){var l=e.Bucket,f=e.Region,object=e.Key,h=e.method||"GET",y=e.url,body=e.body,m=e.json,v=e.rawBody;y=y||d({ForcePathStyle:n.options.ForcePathStyle,protocol:n.options.Protocol,domain:n.options.Domain,bucket:l,region:f,object:object}),e.action&&(y=y+"?"+e.action);var C={method:h,url:y,headers:e.headers,qs:e.qs,body:body,json:m};if(C.headers.Authorization=e.AuthData.Authorization,e.AuthData.Token&&(C.headers.token=e.AuthData.Token),e.AuthData.ClientIP&&(C.headers.clientIP=e.AuthData.ClientIP),e.AuthData.ClientUA&&(C.headers.clientUA=e.AuthData.ClientUA),e.AuthData.XCosSecurityToken&&(C.headers["x-cos-security-token"]=e.AuthData.XCosSecurityToken),C.headers&&(C.headers=r.clearKey(C.headers)),C=r.clearKey(C),e.onProgress&&"function"==typeof e.onProgress){var k=body&&(body.size||body.length)||0;C.onProgress=function(t){if(!c||n._isRunningTask(c)){var o=t?t.loaded:0;e.onProgress({loaded:o,total:k})}}}this.options.Timeout&&(C.timeout=this.options.Timeout),n.emit("before-send",C);var x=o(C,(function(e,o,body){if("abort"!==e){var l,d=function(e,data){if(c&&n.off("inner-kill-task",S),!l){l=!0;var d={};o&&o.statusCode&&(d.statusCode=o.statusCode),o&&o.headers&&(d.headers=o.headers),e?(e=r.extend(e||{},d),t(e,null)):(data=r.extend(data||{},d),t(null,data)),x=null}};if(e)d({error:e});else{var f;try{f=body&&body.indexOf("<")>-1&&body.indexOf(">")>-1&&r.xml2json(body)||{}}catch(e){f=body||{}}var h=o.statusCode;2===Math.floor(h/100)?(v&&((f={}).body=body),f.Error?d({error:f.Error}):d(null,f)):d({error:f.Error||f})}}})),S=function(data){data.TaskId===c&&(x&&x.abort&&x.abort(),n.off("inner-kill-task",S))};c&&n.on("inner-kill-task",S)}}var v={getBucket:function(e,t){var n={};n.prefix=e.Prefix||"",n.delimiter=e.Delimiter,n.marker=e.Marker,n["max-keys"]=e.MaxKeys,n["encoding-type"]=e.EncodingType,y.call(this,{Action:"name/cos:GetBucket",ResourceKey:n.prefix,method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,qs:n},(function(e,data){if(e)return t(e);var n=data.ListBucketResult||{},o=n.Contents||[],c=n.CommonPrefixes||[];o=r.isArray(o)?o:[o],c=r.isArray(c)?c:[c];var l=r.clone(n);r.extend(l,{Contents:o,CommonPrefixes:c,statusCode:data.statusCode,headers:data.headers}),t(null,l)}))},headBucket:function(e,t){y.call(this,{Action:"name/cos:HeadBucket",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,method:"HEAD"},(function(e,data){t(e,data)}))},deleteBucket:function(e,t){y.call(this,{Action:"name/cos:DeleteBucket",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,method:"DELETE"},(function(e,data){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:data.statusCode,headers:data.headers})}))},getBucketAcl:function(e,t){y.call(this,{Action:"name/cos:GetBucketACL",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"acl"},(function(e,data){if(e)return t(e);var n=data.AccessControlPolicy||{},o=n.Owner||{},l=n.AccessControlList.Grant||[];l=r.isArray(l)?l:[l];var d=c(n);data.headers&&data.headers["x-cos-acl"]&&(d.ACL=data.headers["x-cos-acl"]),d=r.extend(d,{Owner:o,Grants:l,statusCode:data.statusCode,headers:data.headers}),t(null,d)}))},putBucketAcl:function(e,t){var n=e.Headers,o="";if(e.AccessControlPolicy){var c=r.clone(e.AccessControlPolicy||{}),d=c.Grants||c.Grant;d=r.isArray(d)?d:[d],delete c.Grant,delete c.Grants,c.AccessControlList={Grant:d},o=r.json2xml({AccessControlPolicy:c}),n["Content-Type"]="application/xml",n["Content-MD5"]=r.binaryBase64(r.md5(o))}r.each(n,(function(e,t){0===t.indexOf("x-cos-grant-")&&(n[t]=l(n[t]))})),y.call(this,{Action:"name/cos:PutBucketACL",method:"PUT",Bucket:e.Bucket,Region:e.Region,headers:n,action:"acl",body:o},(function(e,data){if(e)return t(e);t(null,{statusCode:data.statusCode,headers:data.headers})}))},getBucketCors:function(e,t){y.call(this,{Action:"name/cos:GetBucketCORS",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"cors"},(function(e,data){if(e)if(404===e.statusCode&&e.error&&"NoSuchCORSConfiguration"===e.error.Code){var n={CORSRules:[],statusCode:e.statusCode};e.headers&&(n.headers=e.headers),t(null,n)}else t(e);else{var o=data.CORSConfiguration||{},c=o.CORSRules||o.CORSRule||[];c=r.clone(r.isArray(c)?c:[c]),r.each(c,(function(e){r.each(["AllowedOrigin","AllowedHeader","AllowedMethod","ExposeHeader"],(function(t,n){var o=t+"s",c=e[o]||e[t]||[];delete e[t],e[o]=r.isArray(c)?c:[c]}))})),t(null,{CORSRules:c,statusCode:data.statusCode,headers:data.headers})}}))},putBucketCors:function(e,t){var n=(e.CORSConfiguration||{}).CORSRules||e.CORSRules||[];n=r.clone(r.isArray(n)?n:[n]),r.each(n,(function(e){r.each(["AllowedOrigin","AllowedHeader","AllowedMethod","ExposeHeader"],(function(t,n){var o=t+"s",c=e[o]||e[t]||[];delete e[o],e[t]=r.isArray(c)?c:[c]}))}));var o=r.json2xml({CORSConfiguration:{CORSRule:n}}),c=e.Headers;c["Content-Type"]="application/xml",c["Content-MD5"]=r.binaryBase64(r.md5(o)),y.call(this,{Action:"name/cos:PutBucketCORS",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:o,action:"cors",headers:c},(function(e,data){if(e)return t(e);t(null,{statusCode:data.statusCode,headers:data.headers})}))},deleteBucketCors:function(e,t){y.call(this,{Action:"name/cos:DeleteBucketCORS",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"cors"},(function(e,data){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:data.statusCode||e.statusCode,headers:data.headers})}))},getBucketLocation:function(e,t){y.call(this,{Action:"name/cos:GetBucketLocation",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"location"},(function(e,data){if(e)return t(e);t(null,data)}))},putBucketTagging:function(e,t){var n=e.Tagging||{},o=n.TagSet||n.Tags||e.Tags||[];o=r.clone(r.isArray(o)?o:[o]);var c=r.json2xml({Tagging:{TagSet:{Tag:o}}}),l=e.Headers;l["Content-Type"]="application/xml",l["Content-MD5"]=r.binaryBase64(r.md5(c)),y.call(this,{Action:"name/cos:PutBucketTagging",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:c,action:"tagging",headers:l},(function(e,data){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:data.statusCode,headers:data.headers})}))},getBucketTagging:function(e,t){y.call(this,{Action:"name/cos:GetBucketTagging",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"tagging"},(function(e,data){if(e)if(404!==e.statusCode||!e.error||"Not Found"!==e.error&&"NoSuchTagSet"!==e.error.Code)t(e);else{var n={Tags:[],statusCode:e.statusCode};e.headers&&(n.headers=e.headers),t(null,n)}else{var o=[];try{o=data.Tagging.TagSet.Tag||[]}catch(e){}o=r.clone(r.isArray(o)?o:[o]),t(null,{Tags:o,statusCode:data.statusCode,headers:data.headers})}}))},deleteBucketTagging:function(e,t){y.call(this,{Action:"name/cos:DeleteBucketTagging",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"tagging"},(function(e,data){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:data.statusCode,headers:data.headers})}))},getBucketPolicy:function(e,t){y.call(this,{Action:"name/cos:GetBucketPolicy",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"policy",rawBody:!0},(function(e,data){if(e)return e.statusCode&&403===e.statusCode?t({ErrorStatus:"Access Denied"}):e.statusCode&&405===e.statusCode?t({ErrorStatus:"Method Not Allowed"}):e.statusCode&&404===e.statusCode?t({ErrorStatus:"Policy Not Found"}):t(e);var n={};try{n=JSON.parse(data.body)}catch(e){}t(null,{Policy:n,statusCode:data.statusCode,headers:data.headers})}))},putBucketPolicy:function(e,t){var n=e.Policy,o=n;try{"string"==typeof n?n=JSON.parse(o):o=JSON.stringify(n)}catch(e){t({error:"Policy format error"})}var c=e.Headers;c["Content-Type"]="application/json",c["Content-MD5"]=r.binaryBase64(r.md5(o)),y.call(this,{Action:"name/cos:PutBucketPolicy",method:"PUT",Bucket:e.Bucket,Region:e.Region,action:"policy",body:r.isBrowser?o:n,headers:c,json:!0},(function(e,data){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:data.statusCode,headers:data.headers})}))},deleteBucketPolicy:function(e,t){y.call(this,{Action:"name/cos:DeleteBucketPolicy",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"policy"},(function(e,data){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:data.statusCode||e.statusCode,headers:data.headers})}))},getBucketLifecycle:function(e,t){y.call(this,{Action:"name/cos:GetBucketLifecycle",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"lifecycle"},(function(e,data){if(e)if(404===e.statusCode&&e.error&&"NoSuchLifecycleConfiguration"===e.error.Code){var n={Rules:[],statusCode:e.statusCode};e.headers&&(n.headers=e.headers),t(null,n)}else t(e);else{var o=[];try{o=data.LifecycleConfiguration.Rule||[]}catch(e){}o=r.clone(r.isArray(o)?o:[o]),t(null,{Rules:o,statusCode:data.statusCode,headers:data.headers})}}))},putBucketLifecycle:function(e,t){var n=(e.LifecycleConfiguration||{}).Rules||[];n=r.clone(n);var o=r.json2xml({LifecycleConfiguration:{Rule:n}}),c=e.Headers;c["Content-Type"]="application/xml",c["Content-MD5"]=r.binaryBase64(r.md5(o)),y.call(this,{Action:"name/cos:PutBucketLifecycle",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:o,action:"lifecycle",headers:c},(function(e,data){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:data.statusCode,headers:data.headers})}))},deleteBucketLifecycle:function(e,t){y.call(this,{Action:"name/cos:DeleteBucketLifecycle",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"lifecycle"},(function(e,data){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:data.statusCode,headers:data.headers})}))},putBucketVersioning:function(e,t){if(e.VersioningConfiguration){var n=e.VersioningConfiguration||{},o=r.json2xml({VersioningConfiguration:n}),c=e.Headers;c["Content-Type"]="application/xml",c["Content-MD5"]=r.binaryBase64(r.md5(o)),y.call(this,{Action:"name/cos:PutBucketVersioning",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:o,action:"versioning",headers:c},(function(e,data){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:data.statusCode,headers:data.headers})}))}else t({error:"missing param VersioningConfiguration"})},getBucketVersioning:function(e,t){y.call(this,{Action:"name/cos:GetBucketVersioning",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"versioning"},(function(e,data){e||!data.VersioningConfiguration&&(data.VersioningConfiguration={}),t(e,data)}))},putBucketReplication:function(e,t){var n=r.clone(e.ReplicationConfiguration),o=r.json2xml({ReplicationConfiguration:n});o=(o=o.replace(/<(\/?)Rules>/gi,"<$1Rule>")).replace(/<(\/?)Tags>/gi,"<$1Tag>");var c=e.Headers;c["Content-Type"]="application/xml",c["Content-MD5"]=r.binaryBase64(r.md5(o)),y.call(this,{Action:"name/cos:PutBucketReplication",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:o,action:"replication",headers:c},(function(e,data){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:data.statusCode,headers:data.headers})}))},getBucketReplication:function(e,t){y.call(this,{Action:"name/cos:GetBucketReplication",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"replication"},(function(e,data){if(e)if(404!==e.statusCode||!e.error||"Not Found"!==e.error&&"ReplicationConfigurationnotFoundError"!==e.error.Code)t(e);else{var n={ReplicationConfiguration:{Rules:[]},statusCode:e.statusCode};e.headers&&(n.headers=e.headers),t(null,n)}else e||!data.ReplicationConfiguration&&(data.ReplicationConfiguration={}),data.ReplicationConfiguration.Rule&&(data.ReplicationConfiguration.Rules=data.ReplicationConfiguration.Rule,delete data.ReplicationConfiguration.Rule),t(e,data)}))},deleteBucketReplication:function(e,t){y.call(this,{Action:"name/cos:DeleteBucketReplication",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"replication"},(function(e,data){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:data.statusCode,headers:data.headers})}))},getObject:function(e,t){var n={};n["response-content-type"]=e.ResponseContentType,n["response-content-language"]=e.ResponseContentLanguage,n["response-expires"]=e.ResponseExpires,n["response-cache-control"]=e.ResponseCacheControl,n["response-content-disposition"]=e.ResponseContentDisposition,n["response-content-encoding"]=e.ResponseContentEncoding,y.call(this,{Action:"name/cos:GetObject",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,headers:e.Headers,qs:n,rawBody:!0},(function(n,data){if(n){var o=n.statusCode;return e.Headers["If-Modified-Since"]&&o&&304===o?t(null,{NotModified:!0}):t(n)}var c={};c.Body=data.body,data.headers&&data.headers.etag&&(c.ETag=data.headers&&data.headers.etag),r.extend(c,{statusCode:data.statusCode,headers:data.headers}),t(null,c)}))},headObject:function(e,t){y.call(this,{Action:"name/cos:HeadObject",method:"HEAD",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,headers:e.Headers},(function(n,data){if(n){var o=n.statusCode;return e.Headers["If-Modified-Since"]&&o&&304===o?t(null,{NotModified:!0,statusCode:o}):t(n)}data.headers&&data.headers.etag&&(data.ETag=data.headers&&data.headers.etag),t(null,data)}))},listObjectVersions:function(e,t){var n={};n.prefix=e.Prefix||"",n.delimiter=e.Delimiter,n["key-marker"]=e.KeyMarker,n["version-id-marker"]=e.VersionIdMarker,n["max-keys"]=e.MaxKeys,n["encoding-type"]=e.EncodingType,y.call(this,{Action:"name/cos:GetBucketObjectVersions",ResourceKey:n.prefix,method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,qs:n,action:"versions"},(function(e,data){if(e)return t(e);var n=data.ListVersionsResult||{},o=n.DeleteMarker||[];o=r.isArray(o)?o:[o];var c=n.Version||[];c=r.isArray(c)?c:[c];var l=r.clone(n);delete l.DeleteMarker,delete l.Version,r.extend(l,{DeleteMarkers:o,Versions:c,statusCode:data.statusCode,headers:data.headers}),t(null,l)}))},putObject:function(e,t){var n=this,o=e.ContentLength,c=r.throttleOnProgress.call(n,o,e.onProgress),l=e.Headers;!l["Cache-Control"]&&(l["Cache-Control"]="");var f=l["Content-Type"]||e.Body&&e.Body.type;!l["Content-Type"]&&f&&(l["Content-Type"]=f),r.getBodyMd5(n.options.UploadCheckContentMd5,e.Body,(function(l){l&&(e.Headers["Content-MD5"]=r.binaryBase64(l)),void 0!==e.ContentLength&&(e.Headers["Content-Length"]=e.ContentLength),y.call(n,{Action:"name/cos:PutObject",TaskId:e.TaskId,method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,body:e.Body,onProgress:c},(function(r,data){if(r)return c(null,!0),t(r);if(c({loaded:o,total:o},!0),data&&data.headers&&data.headers.etag){var l=d({ForcePathStyle:n.options.ForcePathStyle,protocol:n.options.Protocol,domain:n.options.Domain,bucket:e.Bucket,region:e.Region,object:e.Key});return l=l.substr(l.indexOf("://")+3),t(null,{Location:l,ETag:data.headers.etag,statusCode:data.statusCode,headers:data.headers})}t(null,data)}))}))},deleteObject:function(e,t){y.call(this,{Action:"name/cos:DeleteObject",method:"DELETE",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,VersionId:e.VersionId},(function(e,data){if(e){var n=e.statusCode;return n&&204===n?t(null,{statusCode:n}):n&&404===n?t(null,{BucketNotFound:!0,statusCode:n}):t(e)}t(null,{statusCode:data.statusCode,headers:data.headers})}))},getObjectAcl:function(e,t){y.call(this,{Action:"name/cos:GetObjectACL",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"acl"},(function(e,data){if(e)return t(e);var n=data.AccessControlPolicy||{},o=n.Owner||{},l=n.AccessControlList&&n.AccessControlList.Grant||[];l=r.isArray(l)?l:[l];var d=c(n);data.headers&&data.headers["x-cos-acl"]&&(d.ACL=data.headers["x-cos-acl"]),d=r.extend(d,{Owner:o,Grants:l,statusCode:data.statusCode,headers:data.headers}),t(null,d)}))},putObjectAcl:function(e,t){var n=e.Headers,o="";if(e.AccessControlPolicy){var c=r.clone(e.AccessControlPolicy||{}),d=c.Grants||c.Grant;d=r.isArray(d)?d:[d],delete c.Grant,delete c.Grants,c.AccessControlList={Grant:d},o=r.json2xml({AccessControlPolicy:c}),n["Content-Type"]="application/xml",n["Content-MD5"]=r.binaryBase64(r.md5(o))}r.each(n,(function(e,t){0===t.indexOf("x-cos-grant-")&&(n[t]=l(n[t]))})),y.call(this,{Action:"name/cos:PutObjectACL",method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,action:"acl",headers:n,body:o},(function(e,data){if(e)return t(e);t(null,{statusCode:data.statusCode,headers:data.headers})}))},optionsObject:function(e,t){var n=e.Headers;n.Origin=e.Origin,n["Access-Control-Request-Method"]=e.AccessControlRequestMethod,n["Access-Control-Request-Headers"]=e.AccessControlRequestHeaders,y.call(this,{Action:"name/cos:OptionsObject",method:"OPTIONS",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:n},(function(e,data){if(e)return e.statusCode&&403===e.statusCode?t(null,{OptionsForbidden:!0,statusCode:e.statusCode}):t(e);var n=data.headers||{};t(null,{AccessControlAllowOrigin:n["access-control-allow-origin"],AccessControlAllowMethods:n["access-control-allow-methods"],AccessControlAllowHeaders:n["access-control-allow-headers"],AccessControlExposeHeaders:n["access-control-expose-headers"],AccessControlMaxAge:n["access-control-max-age"],statusCode:data.statusCode,headers:data.headers})}))},putObjectCopy:function(e,t){var n=e.Headers;!n["Cache-Control"]&&(n["Cache-Control"]="");var o=(e.CopySource||"").match(/^([^.]+-\d+)\.cos(v6)?\.([^.]+)\.[^/]+\/(.+)$/);if(o){var c=o[1],l=o[3],d=decodeURIComponent(o[4]);y.call(this,{Scope:[{action:"name/cos:GetObject",bucket:c,region:l,prefix:d},{action:"name/cos:PutObject",bucket:e.Bucket,region:e.Region,prefix:e.Key}],method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,headers:e.Headers},(function(e,data){if(e)return t(e);var n=r.clone(data.CopyObjectResult||{});r.extend(n,{statusCode:data.statusCode,headers:data.headers}),t(null,n)}))}else t({error:"CopySource format error"})},deleteMultipleObject:function(e,t){var n=e.Objects||[],o=e.Quiet;n=r.isArray(n)?n:[n];var c=r.json2xml({Delete:{Object:n,Quiet:o||!1}}),l=e.Headers;l["Content-Type"]="application/xml",l["Content-MD5"]=r.binaryBase64(r.md5(c));var d=r.map(n,(function(t){return{action:"name/cos:DeleteObject",bucket:e.Bucket,region:e.Region,prefix:t.Key}}));y.call(this,{Scope:d,method:"POST",Bucket:e.Bucket,Region:e.Region,body:c,action:"delete",headers:l},(function(e,data){if(e)return t(e);var n=data.DeleteResult||{},o=n.Deleted||[],c=n.Error||[];o=r.isArray(o)?o:[o],c=r.isArray(c)?c:[c];var l=r.clone(n);r.extend(l,{Error:c,Deleted:o,statusCode:data.statusCode,headers:data.headers}),t(null,l)}))},restoreObject:function(e,t){var n=e.Headers;if(e.RestoreRequest){var o=e.RestoreRequest||{},c=r.json2xml({RestoreRequest:o});n["Content-Type"]="application/xml",n["Content-MD5"]=r.binaryBase64(r.md5(c)),y.call(this,{Action:"name/cos:RestoreObject",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,body:c,action:"restore",headers:n},(function(e,data){t(e,data)}))}else t({error:"missing param RestoreRequest"})},uploadPartCopy:function(e,t){var n=(e.CopySource||"").match(/^([^.]+-\d+)\.cos(v6)?\.([^.]+)\.[^/]+\/(.+)$/);if(n){var o=n[1],c=n[3],l=decodeURIComponent(n[4]);y.call(this,{Scope:[{action:"name/cos:GetObject",bucket:o,region:c,prefix:l},{action:"name/cos:PutObject",bucket:e.Bucket,region:e.Region,prefix:e.Key}],method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,qs:{partNumber:e.PartNumber,uploadId:e.UploadId},headers:e.Headers},(function(e,data){if(e)return t(e);var n=r.clone(data.CopyPartResult||{});r.extend(n,{statusCode:data.statusCode,headers:data.headers}),t(null,n)}))}else t({error:"CopySource format error"})},multipartInit:function(e,t){var n,o=e.Headers,c=(navigator&&navigator.userAgent||"").match(/ TBS\/(\d{6}) /);"http:"===location.protocol&&c&&c[1].length<=6&&c[1]<"044429"&&(n=r.json2xml({}),o["Content-MD5"]=r.binaryBase64(r.md5(n)),o["Content-Type"]||(o["Content-Type"]=e.Body&&e.Body.type||"application/octet-stream")),!o["Cache-Control"]&&(o["Cache-Control"]=""),y.call(this,{Action:"name/cos:InitiateMultipartUpload",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,action:"uploads",headers:e.Headers,body:n},(function(e,data){return e?t(e):(data=r.clone(data||{}))&&data.InitiateMultipartUploadResult?t(null,r.extend(data.InitiateMultipartUploadResult,{statusCode:data.statusCode,headers:data.headers})):void t(null,data)}))},multipartUpload:function(e,t){var n=this;r.getFileSize("multipartUpload",e,(function(){r.getBodyMd5(n.options.UploadCheckContentMd5,e.Body,(function(o){o&&(e.Headers["Content-MD5"]=r.binaryBase64(o)),y.call(n,{Action:"name/cos:UploadPart",TaskId:e.TaskId,method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,qs:{partNumber:e.PartNumber,uploadId:e.UploadId},headers:e.Headers,onProgress:e.onProgress,body:e.Body||null},(function(e,data){if(e)return t(e);data.headers=data.headers||{},t(null,{ETag:data.headers.etag||"",statusCode:data.statusCode,headers:data.headers})}))}))}))},multipartComplete:function(e,t){for(var n=this,o=e.UploadId,c=e.Parts,i=0,l=c.length;i<l;i++)0!==c[i].ETag.indexOf('"')&&(c[i].ETag='"'+c[i].ETag+'"');var f=r.json2xml({CompleteMultipartUpload:{Part:c}}),h=e.Headers;h["Content-Type"]="application/xml",h["Content-MD5"]=r.binaryBase64(r.md5(f)),y.call(this,{Action:"name/cos:CompleteMultipartUpload",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,qs:{uploadId:o},body:f,headers:h},(function(o,data){if(o)return t(o);var c=d({ForcePathStyle:n.options.ForcePathStyle,protocol:n.options.Protocol,domain:n.options.Domain,bucket:e.Bucket,region:e.Region,object:e.Key,isLocation:!0}),l=data.CompleteMultipartUploadResult||{},f=r.extend(l,{Location:c,statusCode:data.statusCode,headers:data.headers});t(null,f)}))},multipartList:function(e,t){var n={};n.delimiter=e.Delimiter,n["encoding-type"]=e.EncodingType,n.prefix=e.Prefix||"",n["max-uploads"]=e.MaxUploads,n["key-marker"]=e.KeyMarker,n["upload-id-marker"]=e.UploadIdMarker,n=r.clearKey(n),y.call(this,{Action:"name/cos:ListMultipartUploads",ResourceKey:n.prefix,method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,qs:n,action:"uploads"},(function(e,data){if(e)return t(e);if(data&&data.ListMultipartUploadsResult){var n=data.ListMultipartUploadsResult.Upload||[],o=data.ListMultipartUploadsResult.CommonPrefixes||[];o=r.isArray(o)?o:[o],n=r.isArray(n)?n:[n],data.ListMultipartUploadsResult.Upload=n,data.ListMultipartUploadsResult.CommonPrefixes=o}var c=r.clone(data.ListMultipartUploadsResult||{});r.extend(c,{statusCode:data.statusCode,headers:data.headers}),t(null,c)}))},multipartListPart:function(e,t){var n={};n.uploadId=e.UploadId,n["encoding-type"]=e.EncodingType,n["max-parts"]=e.MaxParts,n["part-number-marker"]=e.PartNumberMarker,y.call(this,{Action:"name/cos:ListParts",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,qs:n},(function(e,data){if(e)return t(e);var n=data.ListPartsResult||{},o=n.Part||[];o=r.isArray(o)?o:[o],n.Part=o;var c=r.clone(n);r.extend(c,{statusCode:data.statusCode,headers:data.headers}),t(null,c)}))},multipartAbort:function(e,t){var n={};n.uploadId=e.UploadId,y.call(this,{Action:"name/cos:AbortMultipartUpload",method:"DELETE",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,qs:n},(function(e,data){if(e)return t(e);t(null,{statusCode:data.statusCode,headers:data.headers})}))},getObjectUrl:function(e,t){var n=d({ForcePathStyle:this.options.ForcePathStyle,protocol:e.Protocol||this.options.Protocol,domain:this.options.Domain,bucket:e.Bucket,region:e.Region,object:e.Key});if(void 0!==e.Sign&&!e.Sign)return t(null,{Url:n}),n;var o=f.call(this,{Action:"PUT"===(e.Method||"").toUpperCase()?"name/cos:PutObject":"name/cos:GetObject",Bucket:e.Bucket||"",Region:e.Region||"",Method:e.Method||"get",Key:e.Key,Expires:e.Expires},(function(e,o){if(t)if(e)t(e);else{var r=n;r+="?"+(o.Authorization.indexOf("q-signature")>-1?o.Authorization:"sign="+encodeURIComponent(o.Authorization)),o.XCosSecurityToken&&(r+="&x-cos-security-token="+o.XCosSecurityToken),o.ClientIP&&(r+="&clientIP="+o.ClientIP),o.ClientUA&&(r+="&clientUA="+o.ClientUA),o.Token&&(r+="&token="+o.Token),setTimeout((function(){t(null,{Url:r})}))}}));return o?n+"?"+o.Authorization+(o.XCosSecurityToken?"&x-cos-security-token="+o.XCosSecurityToken:""):n},getAuth:function(e){return r.getAuth({SecretId:e.SecretId||this.options.SecretId||"",SecretKey:e.SecretKey||this.options.SecretKey||"",Method:e.Method,Key:e.Key,Query:e.Query,Headers:e.Headers,Expires:e.Expires,UseRawKey:this.options.UseRawKey,SystemClockOffset:this.options.SystemClockOffset})}};e.exports.init=function(e,t){t.transferToTaskMethod(v,"putObject"),r.each(v,(function(t,n){e.prototype[n]=r.apiWrapper(n,t),function(e,t,n){r.each(["Cors","Acl"],(function(o){if(e.slice(-o.length)===o){var c=e.slice(0,-o.length)+o.toUpperCase(),l=r.apiWrapper(e,t),d=!1;n[c]=function(){!d&&console.warn("warning: cos."+c+" has been deprecated. Please Use cos."+e+" instead."),d=!0,l.apply(this,arguments)}}}))}(n,t,e.prototype)}))}},828:function(e,t,n){var o=n(829),r=function(){var e=[],t=e.slice,n=e.concat,o=e.push,r=e.indexOf,c={},l=c.toString,d=c.hasOwnProperty,f={},h="1.11.1 -css,-css/addGetHookIf,-css/curCSS,-css/defaultDisplay,-css/hiddenVisibleSelectors,-css/support,-css/swap,-css/var/cssExpand,-css/var/isHidden,-css/var/rmargin,-css/var/rnumnonpx,-effects,-effects/Tween,-effects/animatedSelector,-effects/support,-dimensions,-offset,-deprecated,-event-alias,-wrap",y=function(e,t){return new y.fn.init(e,t)},m=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,v=/^-ms-/,C=/-([\da-z])/gi,k=function(e,t){return t.toUpperCase()};function x(e){var t=e.length,n=y.type(e);return"function"!==n&&!y.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}y.fn=y.prototype={jquery:h,constructor:y,selector:"",length:0,toArray:function(){return t.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:t.call(this)},pushStack:function(e){var t=y.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return y.each(this,e,t)},map:function(e){return this.pushStack(y.map(this,(function(t,i){return e.call(t,i,t)})))},slice:function(){return this.pushStack(t.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var e=this.length,t=+i+(i<0?e:0);return this.pushStack(t>=0&&t<e?[this[t]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:o,sort:e.sort,splice:e.splice},y.extend=y.fn.extend=function(){var e,t,n,o,r,c,l=arguments[0]||{},i=1,d=arguments.length,f=!1;for("boolean"==typeof l&&(f=l,l=arguments[i]||{},i++),"object"==typeof l||y.isFunction(l)||(l={}),i===d&&(l=this,i--);i<d;i++)if(null!=(r=arguments[i]))for(o in r)e=l[o],l!==(n=r[o])&&(f&&n&&(y.isPlainObject(n)||(t=y.isArray(n)))?(t?(t=!1,c=e&&y.isArray(e)?e:[]):c=e&&y.isPlainObject(e)?e:{},l[o]=y.extend(f,c,n)):void 0!==n&&(l[o]=n));return l},y.extend({expando:"jQuery"+(h+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===y.type(e)},isArray:Array.isArray||function(e){return"array"===y.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!y.isArray(e)&&e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==y.type(e)||e.nodeType||y.isWindow(e))return!1;try{if(e.constructor&&!d.call(e,"constructor")&&!d.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(f.ownLast)for(t in e)return d.call(e,t);for(t in e);return void 0===t||d.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[l.call(e)]||"object":typeof e},globalEval:function(data){data&&y.trim(data)&&(window.execScript||function(data){window.eval.call(window,data)})(data)},camelCase:function(e){return e.replace(v,"ms-").replace(C,k)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i=0,o=e.length,r=x(e);if(n){if(r)for(;i<o&&!1!==t.apply(e[i],n);i++);else for(i in e)if(!1===t.apply(e[i],n))break}else if(r)for(;i<o&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(text){return null==text?"":(text+"").replace(m,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(x(Object(e))?y.merge(n,"string"==typeof e?[e]:e):o.call(n,e)),n},inArray:function(e,t,i){var n;if(t){if(r)return r.call(t,e,i);for(n=t.length,i=i?i<0?Math.max(0,n+i):i:0;i<n;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var n=+t.length,o=0,i=e.length;o<n;)e[i++]=t[o++];if(n!=n)for(;void 0!==t[o];)e[i++]=t[o++];return e.length=i,e},grep:function(e,t,n){for(var o=[],i=0,r=e.length,c=!n;i<r;i++)!t(e[i],i)!==c&&o.push(e[i]);return o},map:function(e,t,o){var r,i=0,c=e.length,l=[];if(x(e))for(;i<c;i++)null!=(r=t(e[i],i,o))&&l.push(r);else for(i in e)null!=(r=t(e[i],i,o))&&l.push(r);return n.apply([],l)},guid:1,proxy:function(e,n){var o,r,c;if("string"==typeof n&&(c=e[n],n=e,e=c),y.isFunction(e))return o=t.call(arguments,2),(r=function(){return e.apply(n||this,o.concat(t.call(arguments)))}).guid=e.guid=e.guid||y.guid++,r},now:function(){return+new Date},support:f}),y.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(i,e){c["[object "+e+"]"]=e.toLowerCase()}));var S,T=window.document,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(y.fn.init=function(e,t){var n,o;if(!e)return this;if("string"==typeof e){if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:R.exec(e))||!n[1]&&t)return!t||t.jquery?(t||S).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof y?t[0]:t,y.merge(this,y.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:T,!0)),rsingleTag.test(n[1])&&y.isPlainObject(t))for(n in t)y.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if((o=T.getElementById(n[2]))&&o.parentNode){if(o.id!==n[2])return S.find(e);this.length=1,this[0]=o}return this.context=T,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):y.isFunction(e)?void 0!==S.ready?S.ready(e):e(y):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),y.makeArray(e,this))}).prototype=y.fn,S=y(T);var B,A=/\S+/g,P={};function w(){T.addEventListener?(T.removeEventListener("DOMContentLoaded",_,!1),window.removeEventListener("load",_,!1)):(T.detachEvent("onreadystatechange",_),window.detachEvent("onload",_))}function _(){(T.addEventListener||"load"===event.type||"complete"===T.readyState)&&(w(),y.ready())}y.Callbacks=function(e){e="string"==typeof e?P[e]||function(e){var object=P[e]={};return y.each(e.match(A)||[],(function(e,t){object[t]=!0})),object}(e):y.extend({},e);var t,n,o,r,c,l,d=[],f=!e.once&&[],h=function(data){for(n=e.memory&&data,o=!0,c=l||0,l=0,r=d.length,t=!0;d&&c<r;c++)if(!1===d[c].apply(data[0],data[1])&&e.stopOnFalse){n=!1;break}t=!1,d&&(f?f.length&&h(f.shift()):n?d=[]:m.disable())},m={add:function(){if(d){var o=d.length;!function t(n){y.each(n,(function(n,o){var r=y.type(o);"function"===r?e.unique&&m.has(o)||d.push(o):o&&o.length&&"string"!==r&&t(o)}))}(arguments),t?r=d.length:n&&(l=o,h(n))}return this},remove:function(){return d&&y.each(arguments,(function(e,n){for(var o;(o=y.inArray(n,d,o))>-1;)d.splice(o,1),t&&(o<=r&&r--,o<=c&&c--)})),this},has:function(e){return e?y.inArray(e,d)>-1:!(!d||!d.length)},empty:function(){return d=[],r=0,this},disable:function(){return d=f=n=void 0,this},disabled:function(){return!d},lock:function(){return f=void 0,n||m.disable(),this},locked:function(){return!f},fireWith:function(e,n){return!d||o&&!f||(n=[e,(n=n||[]).slice?n.slice():n],t?f.push(n):h(n)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!o}};return m},y.extend({Deferred:function(e){var t=[["resolve","done",y.Callbacks("once memory"),"resolved"],["reject","fail",y.Callbacks("once memory"),"rejected"],["notify","progress",y.Callbacks("memory")]],n="pending",o={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return y.Deferred((function(n){y.each(t,(function(i,t){var c=y.isFunction(e[i])&&e[i];r[t[1]]((function(){var e=c&&c.apply(this,arguments);e&&y.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[t[0]+"With"](this===o?n.promise():this,c?[e]:arguments)}))})),e=null})).promise()},promise:function(e){return null!=e?y.extend(e,o):o}},r={};return o.pipe=o.then,y.each(t,(function(i,e){var c=e[2],l=e[3];o[e[1]]=c.add,l&&c.add((function(){n=l}),t[1^i][2].disable,t[2][2].lock),r[e[0]]=function(){return r[e[0]+"With"](this===r?o:this,arguments),this},r[e[0]+"With"]=c.fireWith})),o.promise(r),e&&e.call(r,r),r},when:function(e){var n,o,r,i=0,c=t.call(arguments),l=c.length,d=1!==l||e&&y.isFunction(e.promise)?l:0,f=1===d?e:y.Deferred(),h=function(i,e,o){return function(r){e[i]=this,o[i]=arguments.length>1?t.call(arguments):r,o===n?f.notifyWith(e,o):--d||f.resolveWith(e,o)}};if(l>1)for(n=new Array(l),o=new Array(l),r=new Array(l);i<l;i++)c[i]&&y.isFunction(c[i].promise)?c[i].promise().done(h(i,r,c)).fail(f.reject).progress(h(i,o,n)):--d;return d||f.resolveWith(r,c),f.promise()}}),y.fn.ready=function(e){return y.ready.promise().done(e),this},y.extend({isReady:!1,readyWait:1,holdReady:function(e){e?y.readyWait++:y.ready(!0)},ready:function(e){if(!(!0===e?--y.readyWait:y.isReady)){if(!T.body)return setTimeout(y.ready);y.isReady=!0,!0!==e&&--y.readyWait>0||(B.resolveWith(T,[y]),y.fn.triggerHandler&&(y(T).triggerHandler("ready"),y(T).off("ready")))}}}),y.ready.promise=function(e){if(!B)if(B=y.Deferred(),"complete"===T.readyState)setTimeout(y.ready);else if(T.addEventListener)T.addEventListener("DOMContentLoaded",_,!1),window.addEventListener("load",_,!1);else{T.attachEvent("onreadystatechange",_),window.attachEvent("onload",_);var t=!1;try{t=null==window.frameElement&&T.documentElement}catch(e){}t&&t.doScroll&&function e(){if(!y.isReady){try{t.doScroll("left")}catch(t){return setTimeout(e,50)}w(),y.ready()}}()}return B.promise(e)};var i;for(i in y(f))break;f.ownLast="0"!==i,f.inlineBlockNeedsLayout=!1,y((function(){var e,div,body,t;(body=T.getElementsByTagName("body")[0])&&body.style&&(div=T.createElement("div"),(t=T.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",body.appendChild(t).appendChild(div),void 0!==div.style.zoom&&(div.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",f.inlineBlockNeedsLayout=e=3===div.offsetWidth,e&&(body.style.zoom=1)),body.removeChild(t))})),function(){var div=T.createElement("div");if(null==f.deleteExpando){f.deleteExpando=!0;try{delete div.test}catch(e){f.deleteExpando=!1}}div=null}(),y.acceptData=function(e){var t=y.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)};var E=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function j(e,t,data){if(void 0===data&&1===e.nodeType){var n="data-"+t.replace(O,"-$1").toLowerCase();if("string"==typeof(data=e.getAttribute(n))){try{data="true"===data||"false"!==data&&("null"===data?null:+data+""===data?+data:E.test(data)?y.parseJSON(data):data)}catch(e){}y.data(e,t,data)}else data=void 0}return data}function L(e){var t;for(t in e)if(("data"!==t||!y.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function I(t,n,data,o){if(y.acceptData(t)){var r,c,l=y.expando,d=t.nodeType,f=d?y.cache:t,h=d?t[l]:t[l]&&l;if(h&&f[h]&&(o||f[h].data)||void 0!==data||"string"!=typeof n)return h||(h=d?t[l]=e.pop()||y.guid++:l),f[h]||(f[h]=d?{}:{toJSON:y.noop}),"object"!=typeof n&&"function"!=typeof n||(o?f[h]=y.extend(f[h],n):f[h].data=y.extend(f[h].data,n)),c=f[h],o||(c.data||(c.data={}),c=c.data),void 0!==data&&(c[y.camelCase(n)]=data),"string"==typeof n?null==(r=c[n])&&(r=c[y.camelCase(n)]):r=c,r}}function M(e,t,n){if(y.acceptData(e)){var o,i,r=e.nodeType,c=r?y.cache:e,l=r?e[y.expando]:y.expando;if(c[l]){if(t&&(o=n?c[l]:c[l].data)){i=(t=y.isArray(t)?t.concat(y.map(t,y.camelCase)):t in o||(t=y.camelCase(t))in o?[t]:t.split(" ")).length;for(;i--;)delete o[t[i]];if(n?!L(o):!y.isEmptyObject(o))return}(n||(delete c[l].data,L(c[l])))&&(r?y.cleanData([e],!0):f.deleteExpando||c!=c.window?delete c[l]:c[l]=null)}}}y.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?y.cache[e[y.expando]]:e[y.expando])&&!L(e)},data:function(e,t,data){return I(e,t,data)},removeData:function(e,t){return M(e,t)},_data:function(e,t,data){return I(e,t,data,!0)},_removeData:function(e,t){return M(e,t,!0)}}),y.fn.extend({data:function(e,t){var i,n,data,o=this[0],r=o&&o.attributes;if(void 0===e){if(this.length&&(data=y.data(o),1===o.nodeType&&!y._data(o,"parsedAttrs"))){for(i=r.length;i--;)r[i]&&0===(n=r[i].name).indexOf("data-")&&j(o,n=y.camelCase(n.slice(5)),data[n]);y._data(o,"parsedAttrs",!0)}return data}return"object"==typeof e?this.each((function(){y.data(this,e)})):arguments.length>1?this.each((function(){y.data(this,e,t)})):o?j(o,e,y.data(o,e)):void 0},removeData:function(e){return this.each((function(){y.removeData(this,e)}))}}),y.extend({queue:function(e,t,data){var n;if(e)return t=(t||"fx")+"queue",n=y._data(e,t),data&&(!n||y.isArray(data)?n=y._data(e,t,y.makeArray(data)):n.push(data)),n||[]},dequeue:function(e,t){t=t||"fx";var n=y.queue(e,t),o=n.length,r=n.shift(),c=y._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),o--),r&&("fx"===t&&n.unshift("inprogress"),delete c.stop,r.call(e,(function(){y.dequeue(e,t)}),c)),!o&&c&&c.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return y._data(e,n)||y._data(e,n,{empty:y.Callbacks("once memory").add((function(){y._removeData(e,t+"queue"),y._removeData(e,n)}))})}}),y.fn.extend({queue:function(e,data){var t=2;return"string"!=typeof e&&(data=e,e="fx",t--),arguments.length<t?y.queue(this[0],e):void 0===data?this:this.each((function(){var t=y.queue(this,e,data);y._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&y.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){y.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,o=1,r=y.Deferred(),c=this,i=this.length,l=function(){--o||r.resolveWith(c,[c])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";i--;)(n=y._data(c[i],e+"queueHooks"))&&n.empty&&(o++,n.empty.add(l));return l(),r.promise(t)}}),y.event={global:{},add:function(e,t,n,data,o){var r,c,l,d,f,h,m,v,C,k,x,S=y._data(e);if(S){for(n.handler&&(n=(d=n).handler,o=d.selector),n.guid||(n.guid=y.guid++),(c=S.events)||(c=S.events={}),(h=S.handle)||((h=S.handle=function(e){return void 0===y||e&&y.event.triggered===e.type?void 0:y.event.dispatch.apply(h.elem,arguments)}).elem=e),l=(t=(t||"").match(A)||[""]).length;l--;)C=x=(r=F.exec(t[l])||[])[1],k=(r[2]||"").split(".").sort(),C&&(f=y.event.special[C]||{},C=(o?f.delegateType:f.bindType)||C,f=y.event.special[C]||{},m=y.extend({type:C,origType:x,data:data,handler:n,guid:n.guid,selector:o,needsContext:o&&y.expr.match.needsContext.test(o),namespace:k.join(".")},d),(v=c[C])||((v=c[C]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,data,k,h)||(e.addEventListener?e.addEventListener(C,h,!1):e.attachEvent&&e.attachEvent("on"+C,h))),f.add&&(f.add.call(e,m),m.handler.guid||(m.handler.guid=n.guid)),o?v.splice(v.delegateCount++,0,m):v.push(m),y.event.global[C]=!0);e=null}},remove:function(e,t,n,o,r){var c,l,d,f,h,m,v,C,k,x,S,T=y.hasData(e)&&y._data(e);if(T&&(m=T.events)){for(h=(t=(t||"").match(A)||[""]).length;h--;)if(k=S=(d=F.exec(t[h])||[])[1],x=(d[2]||"").split(".").sort(),k){for(v=y.event.special[k]||{},C=m[k=(o?v.delegateType:v.bindType)||k]||[],d=d[2]&&new RegExp("(^|\\.)"+x.join("\\.(?:.*\\.|)")+"(\\.|$)"),f=c=C.length;c--;)l=C[c],!r&&S!==l.origType||n&&n.guid!==l.guid||d&&!d.test(l.namespace)||o&&o!==l.selector&&("**"!==o||!l.selector)||(C.splice(c,1),l.selector&&C.delegateCount--,v.remove&&v.remove.call(e,l));f&&!C.length&&(v.teardown&&!1!==v.teardown.call(e,x,T.handle)||y.removeEvent(e,k,T.handle),delete m[k])}else for(k in m)y.event.remove(e,k+t[h],n,o,!0);y.isEmptyObject(m)&&(delete T.handle,y._removeData(e,"events"))}},trigger:function(e,data,t,n){var o,r,c,l,f,h,i,m=[t||T],v=d.call(e,"type")?e.type:e,C=d.call(e,"namespace")?e.namespace.split("."):[];if(c=h=t=t||T,3!==t.nodeType&&8!==t.nodeType&&!K.test(v+y.event.triggered)&&(v.indexOf(".")>=0&&(C=v.split("."),v=C.shift(),C.sort()),r=v.indexOf(":")<0&&"on"+v,(e=e[y.expando]?e:new y.Event(v,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=C.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+C.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=t),data=null==data?[e]:y.makeArray(data,[e]),f=y.event.special[v]||{},n||!f.trigger||!1!==f.trigger.apply(t,data))){if(!n&&!f.noBubble&&!y.isWindow(t)){for(l=f.delegateType||v,K.test(l+v)||(c=c.parentNode);c;c=c.parentNode)m.push(c),h=c;h===(t.ownerDocument||T)&&m.push(h.defaultView||h.parentWindow||window)}for(i=0;(c=m[i++])&&!e.isPropagationStopped();)e.type=i>1?l:f.bindType||v,(o=(y._data(c,"events")||{})[e.type]&&y._data(c,"handle"))&&o.apply(c,data),(o=r&&c[r])&&o.apply&&y.acceptData(c)&&(e.result=o.apply(c,data),!1===e.result&&e.preventDefault());if(e.type=v,!n&&!e.isDefaultPrevented()&&(!f._default||!1===f._default.apply(m.pop(),data))&&y.acceptData(t)&&r&&t[v]&&!y.isWindow(t)){(h=t[r])&&(t[r]=null),y.event.triggered=v;try{t[v]()}catch(e){}y.event.triggered=void 0,h&&(t[r]=h)}return e.result}},dispatch:function(e){e=y.event.fix(e);var i,n,o,r,c,l=[],d=t.call(arguments),f=(y._data(this,"events")||{})[e.type]||[],h=y.event.special[e.type]||{};if(d[0]=e,e.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,e)){for(l=y.event.handlers.call(this,e,f),i=0;(r=l[i++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,c=0;(o=r.handlers[c++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(n=((y.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,d))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,o,r,i,c=[],l=t.delegateCount,d=e.target;if(l&&d.nodeType&&(!e.button||"click"!==e.type))for(;d!=this;d=d.parentNode||this)if(1===d.nodeType&&(!0!==d.disabled||"click"!==e.type)){for(r=[],i=0;i<l;i++)void 0===r[n=(o=t[i]).selector+" "]&&(r[n]=o.needsContext?y(n,this).index(d)>=0:y.find(n,this,null,[d]).length),r[n]&&r.push(o);r.length&&c.push({elem:d,handlers:r})}return l<t.length&&c.push({elem:this,handlers:t.slice(l)}),c},fix:function(e){if(e[y.expando])return e;var i,t,n,o=e.type,r=e,c=this.fixHooks[o];for(c||(this.fixHooks[o]=c=H.test(o)?this.mouseHooks:U.test(o)?this.keyHooks:{}),n=c.props?this.props.concat(c.props):this.props,e=new y.Event(r),i=n.length;i--;)e[t=n[i]]=r[t];return e.target||(e.target=r.srcElement||T),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,c.filter?c.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var body,n,o,button=t.button,r=t.fromElement;return null==e.pageX&&null!=t.clientX&&(o=(n=e.target.ownerDocument||T).documentElement,body=n.body,e.pageX=t.clientX+(o&&o.scrollLeft||body&&body.scrollLeft||0)-(o&&o.clientLeft||body&&body.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||body&&body.scrollTop||0)-(o&&o.clientTop||body&&body.clientTop||0)),!e.relatedTarget&&r&&(e.relatedTarget=r===e.target?t.toElement:r),e.which||void 0===button||(e.which=1&button?1:2&button?3:4&button?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(y.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return y.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,o){var r=y.extend(new y.Event,n,{type:e,isSimulated:!0,originalEvent:{}});o?y.event.trigger(r,null,t):y.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},y.removeEvent=T.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var o="on"+t;e.detachEvent&&(void 0===e[o]&&(e[o]=null),e.detachEvent(o,n))},y.Event=function(e,t){if(!(this instanceof y.Event))return new y.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?N:z):this.type=e,t&&y.extend(this,t),this.timeStamp=e&&e.timeStamp||y.now(),this[y.expando]=!0};var D=/^(?:input|select|textarea)$/i,U=/^key/,H=/^(?:mouse|pointer|contextmenu)|click/,K=/^(?:focusinfocus|focusoutblur)$/,F=/^([^.]*)(?:\.(.+)|)$/;function N(){return!0}function z(){return!1}y.Event.prototype={isDefaultPrevented:z,isPropagationStopped:z,isImmediatePropagationStopped:z,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=N,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=N,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=N,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},f.submitBubbles||(y.event.special.submit={setup:function(){if(y.nodeName(this,"form"))return!1;y.event.add(this,"click._submit keypress._submit",(function(e){var t=e.target,form=y.nodeName(t,"input")||y.nodeName(t,"button")?t.form:void 0;form&&!y._data(form,"submitBubbles")&&(y.event.add(form,"submit._submit",(function(e){e._submit_bubble=!0})),y._data(form,"submitBubbles",!0))}))},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&y.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(y.nodeName(this,"form"))return!1;y.event.remove(this,"._submit")}}),f.changeBubbles||(y.event.special.change={setup:function(){if(D.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(y.event.add(this,"propertychange._change",(function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)})),y.event.add(this,"click._change",(function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),y.event.simulate("change",this,e,!0)}))),!1;y.event.add(this,"beforeactivate._change",(function(e){var t=e.target;D.test(t.nodeName)&&!y._data(t,"changeBubbles")&&(y.event.add(t,"change._change",(function(e){!this.parentNode||e.isSimulated||e.isTrigger||y.event.simulate("change",this.parentNode,e,!0)})),y._data(t,"changeBubbles",!0))}))},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return y.event.remove(this,"._change"),!D.test(this.nodeName)}}),f.focusinBubbles||y.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){y.event.simulate(t,e.target,y.event.fix(e),!0)};y.event.special[t]={setup:function(){var o=this.ownerDocument||this,r=y._data(o,t);r||o.addEventListener(e,n,!0),y._data(o,t,(r||0)+1)},teardown:function(){var o=this.ownerDocument||this,r=y._data(o,t)-1;r?y._data(o,t,r):(o.removeEventListener(e,n,!0),y._removeData(o,t))}}})),y.fn.extend({on:function(e,t,data,n,o){var r,c;if("object"==typeof e){for(r in"string"!=typeof t&&(data=data||t,t=void 0),e)this.on(r,t,data,e[r],o);return this}if(null==data&&null==n?(n=t,data=t=void 0):null==n&&("string"==typeof t?(n=data,data=void 0):(n=data,data=t,t=void 0)),!1===n)n=z;else if(!n)return this;return 1===o&&(c=n,(n=function(e){return y().off(e),c.apply(this,arguments)}).guid=c.guid||(c.guid=y.guid++)),this.each((function(){y.event.add(this,e,n,data,t)}))},one:function(e,t,data,n){return this.on(e,t,data,n,1)},off:function(e,t,n){var o,r;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,y(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=z),this.each((function(){y.event.remove(this,e,n,t)}))},trigger:function(e,data){return this.each((function(){y.event.trigger(e,data,this)}))},triggerHandler:function(e,data){var t=this[0];if(t)return y.event.trigger(e,data,t,!0)}}),y.fn.delay=function(time,e){return time=y.fx&&y.fx.speeds[time]||time,e=e||"fx",this.queue(e,(function(e,t){var n=setTimeout(e,time);t.stop=function(){clearTimeout(n)}}))};var G=y.now(),W=/\?/,X=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;y.parseJSON=function(data){if(window.JSON&&window.JSON.parse)return window.JSON.parse(data+"");var e,t=null,n=y.trim(data+"");return n&&!y.trim(n.replace(X,(function(n,o,r,c){return e&&o&&(t=0),0===t?n:(e=r||o,t+=!c-!r,"")})))?Function("return "+n)():y.error("Invalid JSON: "+data)},y.parseXML=function(data){var e;if(!data||"string"!=typeof data)return null;try{window.DOMParser?e=(new DOMParser).parseFromString(data,"text/xml"):((e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(data))}catch(t){e=void 0}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||y.error("Invalid XML: "+data),e};var V,$,J=/#.*$/,Q=/([?&])_=[^&]*/,Y=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Z=/^(?:GET|HEAD)$/,ee=/^\/\//,te=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ne={},oe={},re="*/".concat("*");try{$=location.href}catch(e){($=T.createElement("a")).href="",$=$.href}function ae(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var o,i=0,r=t.toLowerCase().match(A)||[];if(y.isFunction(n))for(;o=r[i++];)"+"===o.charAt(0)?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(n)):(e[o]=e[o]||[]).push(n)}}function ie(e,t,n,o){var r={},c=e===oe;function l(d){var f;return r[d]=!0,y.each(e[d]||[],(function(e,d){var h=d(t,n,o);return"string"!=typeof h||c||r[h]?c?!(f=h):void 0:(t.dataTypes.unshift(h),l(h),!1)})),f}return l(t.dataTypes[0])||!r["*"]&&l("*")}function se(e,t){var n,o,r=y.ajaxSettings.flatOptions||{};for(o in t)void 0!==t[o]&&((r[o]?e:n||(n={}))[o]=t[o]);return n&&y.extend(!0,e,n),e}V=te.exec($.toLowerCase())||[],y.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:$,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(V[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":re,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":y.parseJSON,"text xml":y.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?se(se(e,y.ajaxSettings),t):se(y.ajaxSettings,e)},ajaxPrefilter:ae(ne),ajaxTransport:ae(oe),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i,o,r,c,l,d,f,s=y.ajaxSetup({},t),h=s.context||s,m=s.context&&(h.nodeType||h.jquery)?y(h):y.event,v=y.Deferred(),C=y.Callbacks("once memory"),k=s.statusCode||{},x={},S={},T=0,R="canceled",B={readyState:0,getResponseHeader:function(e){var t;if(2===T){if(!f)for(f={};t=Y.exec(r);)f[t[1].toLowerCase()]=t[2];t=f[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===T?r:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return T||(e=S[n]=S[n]||e,x[e]=t),this},overrideMimeType:function(e){return T||(s.mimeType=e),this},statusCode:function(map){var code;if(map)if(T<2)for(code in map)k[code]=[k[code],map[code]];else B.always(map[B.status]);return this},abort:function(e){var t=e||R;return d&&d.abort(t),P(0,t),this}};if(v.promise(B).complete=C.add,B.success=B.done,B.error=B.fail,s.url=((e||s.url||$)+"").replace(J,"").replace(ee,V[1]+"//"),s.type=t.method||t.type||s.method||s.type,s.dataTypes=y.trim(s.dataType||"*").toLowerCase().match(A)||[""],null==s.crossDomain&&(n=te.exec(s.url.toLowerCase()),s.crossDomain=!(!n||n[1]===V[1]&&n[2]===V[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(V[3]||("http:"===V[1]?"80":"443")))),s.data&&s.processData&&"string"!=typeof s.data&&(s.data=y.param(s.data,s.traditional)),ie(ne,s,t,B),2===T)return B;for(i in(l=s.global)&&0==y.active++&&y.event.trigger("ajaxStart"),s.type=s.type.toUpperCase(),s.hasContent=!Z.test(s.type),o=s.url,s.hasContent||(s.data&&(o=s.url+=(W.test(o)?"&":"?")+s.data,delete s.data),!1===s.cache&&(s.url=Q.test(o)?o.replace(Q,"$1_="+G++):o+(W.test(o)?"&":"?")+"_="+G++)),s.ifModified&&(y.lastModified[o]&&B.setRequestHeader("If-Modified-Since",y.lastModified[o]),y.etag[o]&&B.setRequestHeader("If-None-Match",y.etag[o])),(s.data&&s.hasContent&&!1!==s.contentType||t.contentType)&&B.setRequestHeader("Content-Type",s.contentType),s.headers)B.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(!1===s.beforeSend.call(h,B,s)||2===T))return B.abort();for(i in R="abort",{success:1,error:1,complete:1})B[i](s[i]);if(d=ie(oe,s,t,B)){B.readyState=1,l&&m.trigger("ajaxSend",[B,s]),s.async&&s.timeout>0&&(c=setTimeout((function(){B.abort("timeout")}),s.timeout));try{T=1,d.send(x,P)}catch(e){if(!(T<2))throw e;P(-1,e)}}else P(-1,"No Transport");function P(e,t,n,f){var x,S,R,A,P,w=t;2!==T&&(T=2,c&&clearTimeout(c),d=void 0,r=f||"",B.readyState=e>0?4:0,x=e>=200&&e<300||304===e,n&&(A=function(s,e,t){for(var n,o,r,c,l=s.contents,d=s.dataTypes;"*"===d[0];)d.shift(),void 0===o&&(o=s.mimeType||e.getResponseHeader("Content-Type"));if(o)for(c in l)if(l[c]&&l[c].test(o)){d.unshift(c);break}if(d[0]in t)r=d[0];else{for(c in t){if(!d[0]||s.converters[c+" "+d[0]]){r=c;break}n||(n=c)}r=r||n}if(r)return r!==d[0]&&d.unshift(r),t[r]}(s,B,n)),A=function(s,e,t,n){var o,r,c,l,d,f={},h=s.dataTypes.slice();if(h[1])for(c in s.converters)f[c.toLowerCase()]=s.converters[c];for(r=h.shift();r;)if(s.responseFields[r]&&(t[s.responseFields[r]]=e),!d&&n&&s.dataFilter&&(e=s.dataFilter(e,s.dataType)),d=r,r=h.shift())if("*"===r)r=d;else if("*"!==d&&d!==r){if(!(c=f[d+" "+r]||f["* "+r]))for(o in f)if((l=o.split(" "))[1]===r&&(c=f[d+" "+l[0]]||f["* "+l[0]])){!0===c?c=f[o]:!0!==f[o]&&(r=l[0],h.unshift(l[1]));break}if(!0!==c)if(c&&s.throws)e=c(e);else try{e=c(e)}catch(e){return{state:"parsererror",error:c?e:"No conversion from "+d+" to "+r}}}return{state:"success",data:e}}(s,A,B,x),x?(s.ifModified&&((P=B.getResponseHeader("Last-Modified"))&&(y.lastModified[o]=P),(P=B.getResponseHeader("etag"))&&(y.etag[o]=P)),204===e||"HEAD"===s.type?w="nocontent":304===e?w="notmodified":(w=A.state,S=A.data,x=!(R=A.error))):(R=w,!e&&w||(w="error",e<0&&(e=0))),B.status=e,B.statusText=(t||w)+"",x?v.resolveWith(h,[S,w,B]):v.rejectWith(h,[B,w,R]),B.statusCode(k),k=void 0,l&&m.trigger(x?"ajaxSuccess":"ajaxError",[B,s,x?S:R]),C.fireWith(h,[B,w]),l&&(m.trigger("ajaxComplete",[B,s]),--y.active||y.event.trigger("ajaxStop")))}return B},getJSON:function(e,data,t){return y.get(e,data,t,"json")},getScript:function(e,t){return y.get(e,void 0,t,"script")}}),y.each(["get","post"],(function(i,e){y[e]=function(t,data,n,o){return y.isFunction(data)&&(o=o||n,n=data,data=void 0),y.ajax({url:t,type:e,dataType:o,data:data,success:n})}})),y.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(i,e){y.fn[e]=function(t){return this.on(e,t)}})),y._evalUrl=function(e){return y.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})};var ce=/%20/g,ue=/\[\]$/,le=/\r?\n/g,de=/^(?:submit|button|image|reset|file)$/i,pe=/^(?:input|select|textarea|keygen)/i;function fe(e,t,n,o){var r;if(y.isArray(t))y.each(t,(function(i,t){n||ue.test(e)?o(e,t):fe(e+"["+("object"==typeof t?i:"")+"]",t,n,o)}));else if(n||"object"!==y.type(t))o(e,t);else for(r in t)fe(e+"["+r+"]",t[r],n,o)}y.param=function(a,e){var t,s=[],n=function(e,t){t=y.isFunction(t)?t():null==t?"":t,s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===e&&(e=y.ajaxSettings&&y.ajaxSettings.traditional),y.isArray(a)||a.jquery&&!y.isPlainObject(a))y.each(a,(function(){n(this.name,this.value)}));else for(t in a)fe(t,a[t],e,n);return s.join("&").replace(ce,"+")},y.fn.extend({serialize:function(){return y.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=y.prop(this,"elements");return e?y.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!y(this).is(":disabled")&&pe.test(this.nodeName)&&!de.test(e)&&(this.checked||!rcheckableType.test(e))})).map((function(i,e){var t=y(this).val();return null==t?null:y.isArray(t)?y.map(t,(function(t){return{name:e.name,value:t.replace(le,"\r\n")}})):{name:e.name,value:t.replace(le,"\r\n")}})).get()}}),y.ajaxSettings.xhr=void 0!==window.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&me()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:me;var he=0,ge={},ye=y.ajaxSettings.xhr();function me(){try{return new window.XMLHttpRequest}catch(e){}}window.ActiveXObject&&y(window).on("unload",(function(){for(var e in ge)ge[e](void 0,!0)})),f.cors=!!ye&&"withCredentials"in ye,(ye=f.ajax=!!ye)&&y.ajaxTransport((function(e){var t;if(!e.crossDomain||f.cors)return{send:function(n,o){var i,r=e.xhr(),c=++he;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)r[i]=e.xhrFields[i];for(i in e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)void 0!==n[i]&&r.setRequestHeader(i,n[i]+"");r.upload&&e.progress&&(r.upload.onprogress=e.progress),r.send(e.hasContent&&(e.body||e.data)||null),t=function(n,l){var d,f,h;if(t&&(l||4===r.readyState))if(delete ge[c],t=void 0,r.onreadystatechange=y.noop,l)4!==r.readyState&&r.abort();else{h={},d=r.status,"string"==typeof r.responseText&&(h.text=r.responseText);try{f=r.statusText}catch(e){f=""}d||!e.isLocal||e.crossDomain?1223===d&&(d=204):d=h.text?200:404}h&&o(d,f,h,r.getAllResponseHeaders())},e.async?4===r.readyState?setTimeout(t):r.onreadystatechange=ge[c]=t:t()},abort:function(){t&&t(void 0,!0)}}})),y.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(text){return y.globalEval(text),text}}}),y.ajaxPrefilter("script",(function(s){void 0===s.cache&&(s.cache=!1),s.crossDomain&&(s.type="GET",s.global=!1)})),y.ajaxTransport("script",(function(s){if(s.crossDomain){var script,head=T.head||y("head")[0]||T.documentElement;return{send:function(e,t){(script=T.createElement("script")).async=!0,s.scriptCharset&&(script.charset=s.scriptCharset),script.src=s.url,script.onload=script.onreadystatechange=function(e,n){(n||!script.readyState||/loaded|complete/.test(script.readyState))&&(script.onload=script.onreadystatechange=null,script.parentNode&&script.parentNode.removeChild(script),script=null,n||t(200,"success"))},head.insertBefore(script,head.firstChild)},abort:function(){script&&script.onload(void 0,!0)}}}}));var ve=[],Ce=/(=)\?(?=&|$)|\?\?/;return y.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ve.pop()||y.expando+"_"+G++;return this[e]=!0,e}}),y.ajaxPrefilter("json jsonp",(function(s,e,t){var n,o,r,c=!1!==s.jsonp&&(Ce.test(s.url)?"url":"string"==typeof s.data&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ce.test(s.data)&&"data");if(c||"jsonp"===s.dataTypes[0])return n=s.jsonpCallback=y.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,c?s[c]=s[c].replace(Ce,"$1"+n):!1!==s.jsonp&&(s.url+=(W.test(s.url)?"&":"?")+s.jsonp+"="+n),s.converters["script json"]=function(){return r||y.error(n+" was not called"),r[0]},s.dataTypes[0]="json",o=window[n],window[n]=function(){r=arguments},t.always((function(){window[n]=o,s[n]&&(s.jsonpCallback=e.jsonpCallback,ve.push(n)),r&&y.isFunction(o)&&o(r[0]),r=o=void 0})),"script"})),y.parseHTML=function(data,e,t){if(!data||"string"!=typeof data)return null;"boolean"==typeof e&&(t=e,e=!1),e=e||T;var n=rsingleTag.exec(data),o=!t&&[];return n?[e.createElement(n[1])]:(n=y.buildFragment([data],e,o),o&&o.length&&y(o).remove(),y.merge([],n.childNodes))},y}();e.exports=function(e,t){if((e=r.extend(!0,{headers:{},qs:{}},e)).type=e.method,delete e.method,e.onProgress&&(e.progress=e.onProgress,delete e.onProgress),e.qs){var n=o.stringify(e.qs);n&&(e.url+=(-1===e.url.indexOf("?")?"?":"&")+n),delete e.qs}if(e.json&&(e.data=e.body,delete e.json,delete e.body,!e.headers&&(e.headers={}),e.headers["Content-Type"]="application/json"),e.body&&(e.body instanceof Blob||"[object File]"===e.body.toString()||"[object Blob]"===e.body.toString()||(e.data=e.body,delete e.body)),e.headers){var c=e.headers;delete e.headers,e.beforeSend=function(e){for(var t in c)c.hasOwnProperty(t)&&"content-length"!==t.toLowerCase()&&"user-agent"!==t.toLowerCase()&&"origin"!==t.toLowerCase()&&"host"!==t.toLowerCase()&&e.setRequestHeader(t,c[t])}}var l=function(e){var t={};return e.getAllResponseHeaders().trim().split("\n").forEach((function(e){if(e){var n=e.indexOf(":"),o=e.substr(0,n).trim().toLowerCase(),r=e.substr(n+1).trim();t[o]=r}})),{statusCode:e.status,statusMessage:e.statusText,headers:t}};return e.success=function(data,e,n){t(null,l(n),data)},e.error=function(e){e.responseText?t(null,l(e),e.responseText):t(e.statusText,l(e),e.responseText)},e.dataType="text",r.ajax(e)}},832:function(e,t,n){var o,r=n(833),c=n(764).EventProxy,l=n(720);var d={};function f(){var e=this.options.UploadIdCacheLimit;if(!o){if(e)try{o=JSON.parse(localStorage.getItem("cos_sdk_upload_cache"))||[]}catch(e){}o||(o=[])}}function h(e,t,n){f.call(this);for(var i=o.length-1;i>=0;i--)o[i][0]===e&&o[i][1]===t&&o.splice(i,1);o.unshift([e,t]);var r=this.options.UploadIdCacheLimit;o.length>r&&o.splice(r),r&&setTimeout((function(){try{localStorage.setItem("cos_sdk_upload_cache",JSON.stringify(o))}catch(e){}}))}function y(e){f.call(this),delete d[e];for(var i=o.length-1;i>=0;i--)o[i][1]===e&&o.splice(i,1);var t=this.options.UploadIdCacheLimit;o.length>t&&o.splice(t),t&&setTimeout((function(){try{o.length?localStorage.setItem("cos_sdk_upload_cache",JSON.stringify(o)):localStorage.removeItem("cos_sdk_upload_cache")}catch(e){}}))}function m(e){f.call(this);for(var t=[],i=0;i<o.length;i++)o[i][0]===e&&t.push(o[i][1]);return t.length?t:null}function v(e,t){var n=e.TaskId,o=e.Bucket,f=e.Region,h=e.Key,v=e.StorageClass,x=this,S={},T=e.FileSize,R=e.SliceSize,B=Math.ceil(T/R),A=0,P=l.throttleOnProgress.call(x,T,e.onHashProgress),w=function(t,n){var o=t.length;if(0===o)return n(null,!0);if(o>B)return n(null,!1);if(o>1&&Math.max(t[0].Size,t[1].Size)!==R)return n(null,!1);var r=function(c){if(c<o){var d=t[c];!function(t,n){var o=R*(t-1),r=Math.min(o+R,T),c=r-o;S[t]?n(null,{PartNumber:t,ETag:S[t],Size:c}):l.fileSlice(e.Body,o,r,!1,(function(e){l.getFileMd5(e,(function(e,o){if(e)return n(e);var r='"'+o+'"';S[t]=r,1,A+=c,n(e,{PartNumber:t,ETag:r,Size:c}),P({loaded:A,total:T})}))}))}(d.PartNumber,(function(e,t){t&&t.ETag===d.ETag&&t.Size===d.Size?r(c+1):n(null,!1)}))}else n(null,!0)};r(0)},_=new c;_.on("error",(function(e){if(x._isRunningTask(n))return t(e)})),_.on("upload_id_ready",(function(e){var map={},n=[];l.each(e.PartList,(function(e){map[e.PartNumber]=e}));for(var o=1;o<=B;o++){var r=map[o];r?(r.PartNumber=o,r.Uploaded=!0):r={PartNumber:o,ETag:null,Uploaded:!1},n.push(r)}e.PartList=n,t(null,e)})),_.on("no_available_upload_id",(function(){if(x._isRunningTask(n)){var r=l.extend({Bucket:o,Region:f,Key:h,Headers:l.clone(e.Headers),StorageClass:v,Body:e.Body},e),c=e.Headers["Content-Type"]||e.Body&&e.Body.type;c&&(r.Headers["Content-Type"]=c),x.multipartInit(r,(function(e,data){if(x._isRunningTask(n)){if(e)return _.emit("error",e);var o=data.UploadId;if(!o)return t({Message:"no upload id"});_.emit("upload_id_ready",{UploadId:o,PartList:[]})}}))}})),_.on("has_upload_id",(function(e){e=e.reverse(),r.eachLimit(e,1,(function(e,t){x._isRunningTask(n)&&(d[e]?t():k.call(x,{Bucket:o,Region:f,Key:h,UploadId:e},(function(o,r){if(x._isRunningTask(n)){if(o)return y.call(x,e),_.emit("error",o);var c=r.PartList;c.forEach((function(e){e.PartNumber*=1,e.Size*=1,e.ETag=e.ETag||""})),w(c,(function(o,r){if(x._isRunningTask(n))return o?_.emit("error",o):void(r?t({UploadId:e,PartList:c}):t())}))}})))}),(function(e){x._isRunningTask(n)&&(P(null,!0),e&&e.UploadId?_.emit("upload_id_ready",e):_.emit("no_available_upload_id"))}))})),_.on("seek_local_avail_upload_id",(function(t){var r,c=l.getFileUUID(e.Body,e.ChunkSize);if(c&&(r=m.call(x,c))){var v=function(e){if(e>=r.length)_.emit("has_upload_id",t);else{var c=r[e];if(!l.isInArray(t,c))return y.call(x,c),void v(e+1);d[c]?v(e+1):k.call(x,{Bucket:o,Region:f,Key:h,UploadId:c},(function(t,o){x._isRunningTask(n)&&(t?(y.call(x,c),v(e+1)):_.emit("upload_id_ready",{UploadId:c,PartList:o.PartList}))}))}};v(0)}else _.emit("has_upload_id",t)})),_.on("get_remote_upload_id_list",(function(t){C.call(x,{Bucket:o,Region:f,Key:h},(function(t,data){if(x._isRunningTask(n)){if(t)return _.emit("error",t);var o=l.filter(data.UploadList,(function(e){return e.Key===h&&(!v||e.StorageClass.toUpperCase()===v.toUpperCase())})).reverse().map((function(e){return e.UploadId||e.UploadID}));if(o.length)_.emit("seek_local_avail_upload_id",o);else{var r,c=l.getFileUUID(e.Body,e.ChunkSize);c&&(r=m.call(x,c))&&l.each(r,(function(e){y.call(x,e)})),_.emit("no_available_upload_id")}}}))})),_.emit("get_remote_upload_id_list")}function C(e,t){var n=this,o=[],r={Bucket:e.Bucket,Region:e.Region,Prefix:e.Key},c=function(){n.multipartList(r,(function(e,data){if(e)return t(e);o.push.apply(o,data.Upload||[]),"true"===data.IsTruncated?(r.KeyMarker=data.NextKeyMarker,r.UploadIdMarker=data.NextUploadIdMarker,c()):t(null,{UploadList:o})}))};c()}function k(e,t){var n=this,o=[],r={Bucket:e.Bucket,Region:e.Region,Key:e.Key,UploadId:e.UploadId},c=function(){n.multipartListPart(r,(function(e,data){if(e)return t(e);o.push.apply(o,data.Part||[]),"true"===data.IsTruncated?(r.PartNumberMarker=data.NextPartNumberMarker,c()):t(null,{PartList:o})}))};c()}function x(e,t){var n=this,o=e.TaskId,c=e.Bucket,d=e.Region,f=e.Key,h=e.UploadData,y=e.FileSize,m=e.SliceSize,v=Math.min(e.AsyncLimit||n.options.ChunkParallelLimit||1,256),C=e.Body,k=Math.ceil(y/m),x=0,T=e.ServerSideEncryption,R=l.filter(h.PartList,(function(e){return e.Uploaded&&(x+=e.PartNumber>=k&&y%m||m),!e.Uploaded})),B=e.onProgress;r.eachLimit(R,v,(function(e,t){if(n._isRunningTask(o)){var r=e.PartNumber,v=Math.min(y,e.PartNumber*m)-(e.PartNumber-1)*m,k=0;S.call(n,{TaskId:o,Bucket:c,Region:d,Key:f,SliceSize:m,FileSize:y,PartNumber:r,ServerSideEncryption:T,Body:C,UploadData:h,onProgress:function(data){x+=data.loaded-k,k=data.loaded,B({loaded:x,total:y})}},(function(r,data){n._isRunningTask(o)&&(!l.isBrowser||r||data.ETag||(r='get ETag error, please add "ETag" to CORS ExposeHeader setting.'),r?x-=k:(x+=v-k,e.ETag=data.ETag),t(r||null,data))}))}}),(function(e){if(n._isRunningTask(o))return e?t(e):void t(null,{UploadId:h.UploadId,SliceList:h.PartList})}))}function S(e,t){var n=this,o=e.TaskId,c=e.Bucket,d=e.Region,f=e.Key,h=e.FileSize,y=e.Body,m=1*e.PartNumber,v=e.SliceSize,C=e.ServerSideEncryption,k=e.UploadData,x=n.options.ChunkRetryTimes+1,S=v*(m-1),T=v,R=S+v;R>h&&(T=(R=h)-S);var B=k.PartList[m-1];r.retry(x,(function(t){n._isRunningTask(o)&&l.fileSlice(y,S,R,!0,(function(r){n.multipartUpload({TaskId:o,Bucket:c,Region:d,Key:f,ContentLength:T,PartNumber:m,UploadId:k.UploadId,ServerSideEncryption:C,Body:r,onProgress:e.onProgress},(function(e,data){if(n._isRunningTask(o))return e?t(e):(B.Uploaded=!0,t(null,data))}))}))}),(function(e,data){if(n._isRunningTask(o))return t(e,data)}))}function T(e,t){var n=e.Bucket,o=e.Region,c=e.Key,l=e.UploadId,d=e.SliceList,f=this,h=this.options.ChunkRetryTimes+1,y=d.map((function(e){return{PartNumber:e.PartNumber,ETag:e.ETag}}));r.retry(h,(function(e){f.multipartComplete({Bucket:n,Region:o,Key:c,UploadId:l,Parts:y},e)}),(function(e,data){t(e,data)}))}function R(e,t){var n=e.Bucket,o=e.Region,c=e.Key,l=e.AbortArray,d=e.AsyncLimit||1,f=this,h=0,y=new Array(l.length);r.eachLimit(l,d,(function(t,r){var l=h;if(c&&c!==t.Key)return y[l]={error:{KeyNotMatch:!0}},void r(null);var d=t.UploadId||t.UploadID;f.multipartAbort({Bucket:n,Region:o,Key:t.Key,Headers:e.Headers,UploadId:d},(function(e,data){var c={Bucket:n,Region:o,Key:t.Key,UploadId:d};y[l]={error:e,task:c},r(null)})),h++}),(function(e){if(e)return t(e);for(var n=[],o=[],i=0,r=y.length;i<r;i++){var c=y[i];c.task&&(c.error?o.push(c.task):n.push(c.task))}return t(null,{successList:n,errorList:o})}))}function B(e,t){var n=e.TaskId,o=e.Bucket,c=e.Region,l=e.Key,d=e.CopySource,f=e.UploadId,h=1*e.PartNumber,y=e.CopySourceRange,m=this.options.ChunkRetryTimes+1,v=this;r.retry(m,(function(t){v.uploadPartCopy({TaskId:n,Bucket:o,Region:c,Key:l,CopySource:d,UploadId:f,PartNumber:h,CopySourceRange:y,onProgress:e.onProgress},(function(e,data){t(e||null,data)}))}),(function(e,data){return t(e,data)}))}var A={sliceUploadFile:function(e,t){var n,o,r=this,f=new c,m=e.TaskId,C=e.Bucket,k=e.Region,S=e.Key,R=e.Body,B=e.ChunkSize||e.SliceSize||r.options.ChunkSize,A=e.AsyncLimit,P=e.StorageClass||"Standard",w=e.ServerSideEncryption,_=e.onHashProgress;f.on("error",(function(e){if(r._isRunningTask(m))return t(e)})),f.on("upload_complete",(function(e){t(null,e)})),f.on("upload_slice_complete",(function(e){T.call(r,{Bucket:C,Region:k,Key:S,UploadId:e.UploadId,SliceList:e.SliceList},(function(t,data){if(r._isRunningTask(m)){if(delete d[e.UploadId],t)return o(null,!0),f.emit("error",t);o({loaded:n,total:n},!0),y.call(r,e.UploadId),f.emit("upload_complete",data)}}))})),f.on("get_upload_data_finish",(function(t){var c=l.getFileUUID(R,e.ChunkSize);c&&h.call(r,c,t.UploadId),d[t.UploadId]=!0,m&&r.on("inner-kill-task",(function(data){data.TaskId===m&&"canceled"===data.toState&&delete d[t.UploadId]})),x.call(r,{TaskId:m,Bucket:C,Region:k,Key:S,Body:R,FileSize:n,SliceSize:B,AsyncLimit:A,ServerSideEncryption:w,UploadData:t,onProgress:o},(function(e,data){if(r._isRunningTask(m))return e?(o(null,!0),f.emit("error",e)):void f.emit("upload_slice_complete",data)}))})),f.on("get_file_size_finish",(function(){if(o=l.throttleOnProgress.call(r,n,e.onProgress),e.UploadData.UploadId)f.emit("get_upload_data_finish",e.UploadData);else{var t=l.extend({TaskId:m,Bucket:C,Region:k,Key:S,Headers:e.Headers,StorageClass:P,Body:R,FileSize:n,SliceSize:B,onHashProgress:_},e);v.call(r,t,(function(t,n){if(r._isRunningTask(m)){if(t)return f.emit("error",t);e.UploadData.UploadId=n.UploadId,e.UploadData.PartList=n.PartList,f.emit("get_upload_data_finish",e.UploadData)}}))}})),n=e.ContentLength,delete e.ContentLength,!e.Headers&&(e.Headers={}),l.each(e.Headers,(function(t,n){"content-length"===n.toLowerCase()&&delete e.Headers[n]})),function(){for(var t=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,5120],o=1048576,i=0;i<t.length&&!(n/(o=1024*t[i]*1024)<=r.options.MaxPartNumber);i++);e.ChunkSize=e.SliceSize=B=Math.max(B,o)}(),0===n?(e.Body="",e.ContentLength=0,e.SkipTask=!0,r.putObject(e,(function(e,data){if(e)return t(e);t(null,data)}))):f.emit("get_file_size_finish")},abortUploadTask:function(e,t){var n=e.Bucket,o=e.Region,r=e.Key,l=e.UploadId,d=e.Level||"task",f=e.AsyncLimit,h=this,y=new c;if(y.on("error",(function(e){return t(e)})),y.on("get_abort_array",(function(c){R.call(h,{Bucket:n,Region:o,Key:r,Headers:e.Headers,AsyncLimit:f,AbortArray:c},(function(e,data){if(e)return t(e);t(null,data)}))})),"bucket"===d)C.call(h,{Bucket:n,Region:o},(function(e,data){if(e)return t(e);y.emit("get_abort_array",data.UploadList||[])}));else if("file"===d){if(!r)return t({error:"abort_upload_task_no_key"});C.call(h,{Bucket:n,Region:o,Key:r},(function(e,data){if(e)return t(e);y.emit("get_abort_array",data.UploadList||[])}))}else{if("task"!==d)return t({error:"abort_unknown_level"});if(!l)return t({error:"abort_upload_task_no_id"});if(!r)return t({error:"abort_upload_task_no_key"});y.emit("get_abort_array",[{Key:r,UploadId:l}])}},uploadFiles:function(e,t){var n=void 0===e.SliceSize?this.options.SliceSize:e.SliceSize,o=0,r=0,c=l.throttleOnProgress.call(this,r,e.onProgress),d=e.files.length,f=e.onFileFinish,h=Array(d),y=function(e,data,n){c(null,!0),f&&f(e,data,n),h[n.Index]={options:n,error:e,data:data},--d<=0&&t&&t(null,{files:h})},m=[];l.each(e.files,(function(e,t){!function(){var d=e.Body,f=d.size||d.length||0,h={Index:t,TaskId:""};o+=f,l.each(e,(function(e,t){"object"!=typeof e&&"function"!=typeof e&&(h[t]=e)}));var v=e.onTaskReady;e.onTaskReady=function(e){h.TaskId=e,v&&v(e)};var C=0,k=e.onProgress;e.onProgress=function(e){r=r-C+e.loaded,C=e.loaded,k&&k(e),c({loaded:r,total:o})};var x=e.onFileFinish,S=f>=n?"sliceUploadFile":"putObject";m.push({api:S,params:e,callback:function(e,data){x&&x(e,data),y&&y(e,data,h)}})}()})),this._addTasks(m)},sliceCopyFile:function(e,t){var n=new c,o=this,d=e.Bucket,f=e.Region,h=e.Key,y=e.CopySource,m=y.match(/^([^.]+-\d+)\.cos(v6)?\.([^.]+)\.[^/]+\/(.+)$/);if(m){var v=m[1],C=m[3],k=decodeURIComponent(m[4]),x=void 0===e.SliceSize?o.options.CopySliceSize:e.SliceSize;x=Math.max(0,Math.min(x,5368709120));var S,T,R=e.ChunkSize||this.options.CopyChunkSize,A=this.options.CopyChunkParallelLimit,P=0;n.on("copy_slice_complete",(function(e){o.multipartComplete({Bucket:d,Region:f,Key:h,UploadId:e.UploadId,Parts:e.PartList},(function(e,data){if(e)return T(null,!0),t(e);T({loaded:S,total:S},!0),t(null,data)}))})),n.on("get_copy_data_finish",(function(e){r.eachLimit(e.PartList,A,(function(t,n){var r=t.PartNumber,c=t.CopySourceRange,l=t.end-t.start,m=0;B.call(o,{Bucket:d,Region:f,Key:h,CopySource:y,UploadId:e.UploadId,PartNumber:r,CopySourceRange:c,onProgress:function(data){P+=data.loaded-m,m=data.loaded,T({loaded:P,total:S})}},(function(e,data){if(e)return n(e);T({loaded:P,total:S}),P+=l-m,t.ETag=data.ETag,n(e||null,data)}))}),(function(o){if(o)return T(null,!0),t(o);n.emit("copy_slice_complete",e)}))})),n.on("get_file_size_finish",(function(r){var c;!function(){for(var t=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,5120],n=1048576,i=0;i<t.length&&!(S/(n=1024*t[i]*1024)<=o.options.MaxPartNumber);i++);e.ChunkSize=R=Math.max(R,n);for(var r=Math.ceil(S/R),c=[],l=1;l<=r;l++){var d=(l-1)*R,f=l*R<S?l*R-1:S-1,h={PartNumber:l,start:d,end:f,CopySourceRange:"bytes="+d+"-"+f};c.push(h)}e.PartList=c}(),(c="Replaced"===e.Headers["x-cos-metadata-directive"]?e.Headers:r)["x-cos-storage-class"]=e.Headers["x-cos-storage-class"]||r["x-cos-storage-class"],c=l.clearKey(c),o.multipartInit({Bucket:d,Region:f,Key:h,Headers:c},(function(o,data){if(o)return t(o);e.UploadId=data.UploadId,n.emit("get_copy_data_finish",e)}))})),o.headObject({Bucket:v,Region:C,Key:k},(function(r,data){if(r)r.statusCode&&404===r.statusCode?t({ErrorStatus:k+" Not Exist"}):t(r);else if(void 0!==(S=e.FileSize=data.headers["content-length"])&&S)if(T=l.throttleOnProgress.call(o,S,e.onProgress),S<=x)e.Headers["x-cos-metadata-directive"]||(e.Headers["x-cos-metadata-directive"]="Copy"),o.putObjectCopy(e,(function(e,data){if(e)return T(null,!0),t(e);T({loaded:S,total:S},!0),t(e,data)}));else{var c=data.headers,d={"Cache-Control":c["cache-control"],"Content-Disposition":c["content-disposition"],"Content-Encoding":c["content-encoding"],"Content-Type":c["content-type"],Expires:c.expires,"x-cos-storage-class":c["x-cos-storage-class"]};l.each(c,(function(e,t){0===t.indexOf("x-cos-meta-")&&t.length>"x-cos-meta-".length&&(d[t]=e)})),n.emit("get_file_size_finish",d)}else t({error:'get Content-Length error, please add "Content-Length" to CORS ExposeHeader setting.'})}))}else t({error:"CopySource format error"})}};e.exports.init=function(e,t){t.transferToTaskMethod(A,"sliceUploadFile"),l.each(A,(function(t,n){e.prototype[n]=l.apiWrapper(n,t)}))}},833:function(e,t){var n={eachLimit:function(e,t,n,o){if(o=o||function(){},!e.length||t<=0)return o();var r=0,c=0,l=0;!function d(){if(r>=e.length)return o();for(;l<t&&c<e.length;)l+=1,n(e[(c+=1)-1],(function(t){t?(o(t),o=function(){}):(l-=1,(r+=1)>=e.length?o():d())}))}()},retry:function(e,t,n){var o=function(r){t((function(t,data){t&&r<e?o(r+1):n(t,data)}))};e<1?n():o(1)}};e.exports=n},923:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0}}]);